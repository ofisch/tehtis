(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Xp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uh={exports:{}},wa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function SM(){if(G1)return wa;G1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:l,ref:s!==void 0?s:null,props:a}}return wa.Fragment=e,wa.jsx=n,wa.jsxs=n,wa}var K1;function TM(){return K1||(K1=1,uh.exports=SM()),uh.exports}var T=TM(),ch={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function EM(){if(Y1)return Te;Y1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=g&&N[g]||N["@@iterator"],typeof N=="function"?N:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function C(N,W,he){this.props=N,this.context=W,this.refs=E,this.updater=he||v}C.prototype.isReactComponent={},C.prototype.setState=function(N,W){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,W,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function M(){}M.prototype=C.prototype;function k(N,W,he){this.props=N,this.context=W,this.refs=E,this.updater=he||v}var D=k.prototype=new M;D.constructor=k,x(D,C.prototype),D.isPureReactComponent=!0;var B=Array.isArray,z={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function q(N,W,he,fe,ne,Oe){return he=Oe.ref,{$$typeof:t,type:N,key:W,ref:he!==void 0?he:null,props:Oe}}function $(N,W){return q(N.type,W,void 0,void 0,void 0,N.props)}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function X(N){var W={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return W[he]})}var re=/\/+/g;function Le(N,W){return typeof N=="object"&&N!==null&&N.key!=null?X(""+N.key):W.toString(36)}function $e(){}function ve(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then($e,$e):(N.status="pending",N.then(function(W){N.status==="pending"&&(N.status="fulfilled",N.value=W)},function(W){N.status==="pending"&&(N.status="rejected",N.reason=W)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ae(N,W,he,fe,ne){var Oe=typeof N;(Oe==="undefined"||Oe==="boolean")&&(N=null);var Se=!1;if(N===null)Se=!0;else switch(Oe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(N.$$typeof){case t:case e:Se=!0;break;case m:return Se=N._init,ae(Se(N._payload),W,he,fe,ne)}}if(Se)return ne=ne(N),Se=fe===""?"."+Le(N,0):fe,B(ne)?(he="",Se!=null&&(he=Se.replace(re,"$&/")+"/"),ae(ne,W,he,"",function(le){return le})):ne!=null&&(P(ne)&&(ne=$(ne,he+(ne.key==null||N&&N.key===ne.key?"":(""+ne.key).replace(re,"$&/")+"/")+Se)),W.push(ne)),1;Se=0;var ee=fe===""?".":fe+":";if(B(N))for(var ie=0;ie<N.length;ie++)fe=N[ie],Oe=ee+Le(fe,ie),Se+=ae(fe,W,he,Oe,ne);else if(ie=b(N),typeof ie=="function")for(N=ie.call(N),ie=0;!(fe=N.next()).done;)fe=fe.value,Oe=ee+Le(fe,ie++),Se+=ae(fe,W,he,Oe,ne);else if(Oe==="object"){if(typeof N.then=="function")return ae(ve(N),W,he,fe,ne);throw W=String(N),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Se}function K(N,W,he){if(N==null)return N;var fe=[],ne=0;return ae(N,fe,"","",function(Oe){return W.call(he,Oe,ne++)}),fe}function J(N){if(N._status===-1){var W=N._result;W=W(),W.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=W)}if(N._status===1)return N._result.default;throw N._result}var Z=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ke(){}return Te.Children={map:K,forEach:function(N,W,he){K(N,function(){W.apply(this,arguments)},he)},count:function(N){var W=0;return K(N,function(){W++}),W},toArray:function(N){return K(N,function(W){return W})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Te.Component=C,Te.Fragment=n,Te.Profiler=s,Te.PureComponent=k,Te.StrictMode=i,Te.Suspense=d,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Te.act=function(){throw Error("act(...) is not supported in production builds of React.")},Te.cache=function(N){return function(){return N.apply(null,arguments)}},Te.cloneElement=function(N,W,he){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var fe=x({},N.props),ne=N.key,Oe=void 0;if(W!=null)for(Se in W.ref!==void 0&&(Oe=void 0),W.key!==void 0&&(ne=""+W.key),W)!H.call(W,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&W.ref===void 0||(fe[Se]=W[Se]);var Se=arguments.length-2;if(Se===1)fe.children=he;else if(1<Se){for(var ee=Array(Se),ie=0;ie<Se;ie++)ee[ie]=arguments[ie+2];fe.children=ee}return q(N.type,ne,void 0,void 0,Oe,fe)},Te.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:a,_context:N},N},Te.createElement=function(N,W,he){var fe,ne={},Oe=null;if(W!=null)for(fe in W.key!==void 0&&(Oe=""+W.key),W)H.call(W,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ne[fe]=W[fe]);var Se=arguments.length-2;if(Se===1)ne.children=he;else if(1<Se){for(var ee=Array(Se),ie=0;ie<Se;ie++)ee[ie]=arguments[ie+2];ne.children=ee}if(N&&N.defaultProps)for(fe in Se=N.defaultProps,Se)ne[fe]===void 0&&(ne[fe]=Se[fe]);return q(N,Oe,void 0,void 0,null,ne)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(N){return{$$typeof:c,render:N}},Te.isValidElement=P,Te.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:J}},Te.memo=function(N,W){return{$$typeof:h,type:N,compare:W===void 0?null:W}},Te.startTransition=function(N){var W=z.T,he={};z.T=he;try{var fe=N(),ne=z.S;ne!==null&&ne(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ke,Z)}catch(Oe){Z(Oe)}finally{z.T=W}},Te.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Te.use=function(N){return z.H.use(N)},Te.useActionState=function(N,W,he){return z.H.useActionState(N,W,he)},Te.useCallback=function(N,W){return z.H.useCallback(N,W)},Te.useContext=function(N){return z.H.useContext(N)},Te.useDebugValue=function(){},Te.useDeferredValue=function(N,W){return z.H.useDeferredValue(N,W)},Te.useEffect=function(N,W){return z.H.useEffect(N,W)},Te.useId=function(){return z.H.useId()},Te.useImperativeHandle=function(N,W,he){return z.H.useImperativeHandle(N,W,he)},Te.useInsertionEffect=function(N,W){return z.H.useInsertionEffect(N,W)},Te.useLayoutEffect=function(N,W){return z.H.useLayoutEffect(N,W)},Te.useMemo=function(N,W){return z.H.useMemo(N,W)},Te.useOptimistic=function(N,W){return z.H.useOptimistic(N,W)},Te.useReducer=function(N,W,he){return z.H.useReducer(N,W,he)},Te.useRef=function(N){return z.H.useRef(N)},Te.useState=function(N){return z.H.useState(N)},Te.useSyncExternalStore=function(N,W,he){return z.H.useSyncExternalStore(N,W,he)},Te.useTransition=function(){return z.H.useTransition()},Te.version="19.0.0",Te}var X1;function Wp(){return X1||(X1=1,ch.exports=EM()),ch.exports}var A=Wp();const Q=Xp(A);var fh={exports:{}},Ma={},dh={exports:{}},hh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function CM(){return W1||(W1=1,function(t){function e(K,J){var Z=K.length;K.push(J);e:for(;0<Z;){var ke=Z-1>>>1,N=K[ke];if(0<s(N,J))K[ke]=J,K[Z]=N,Z=ke;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var J=K[0],Z=K.pop();if(Z!==J){K[0]=Z;e:for(var ke=0,N=K.length,W=N>>>1;ke<W;){var he=2*(ke+1)-1,fe=K[he],ne=he+1,Oe=K[ne];if(0>s(fe,Z))ne<N&&0>s(Oe,fe)?(K[ke]=Oe,K[ne]=Z,ke=ne):(K[ke]=fe,K[he]=Z,ke=he);else if(ne<N&&0>s(Oe,Z))K[ke]=Oe,K[ne]=Z,ke=ne;else break e}}return J}function s(K,J){var Z=K.sortIndex-J.sortIndex;return Z!==0?Z:K.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,g=null,b=3,v=!1,x=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function D(K){for(var J=n(h);J!==null;){if(J.callback===null)i(h);else if(J.startTime<=K)i(h),J.sortIndex=J.expirationTime,e(d,J);else break;J=n(h)}}function B(K){if(E=!1,D(K),!x)if(n(d)!==null)x=!0,ve();else{var J=n(h);J!==null&&ae(B,J.startTime-K)}}var z=!1,H=-1,q=5,$=-1;function P(){return!(t.unstable_now()-$<q)}function X(){if(z){var K=t.unstable_now();$=K;var J=!0;try{e:{x=!1,E&&(E=!1,M(H),H=-1),v=!0;var Z=b;try{t:{for(D(K),g=n(d);g!==null&&!(g.expirationTime>K&&P());){var ke=g.callback;if(typeof ke=="function"){g.callback=null,b=g.priorityLevel;var N=ke(g.expirationTime<=K);if(K=t.unstable_now(),typeof N=="function"){g.callback=N,D(K),J=!0;break t}g===n(d)&&i(d),D(K)}else i(d);g=n(d)}if(g!==null)J=!0;else{var W=n(h);W!==null&&ae(B,W.startTime-K),J=!1}}break e}finally{g=null,b=Z,v=!1}J=void 0}}finally{J?re():z=!1}}}var re;if(typeof k=="function")re=function(){k(X)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,$e=Le.port2;Le.port1.onmessage=X,re=function(){$e.postMessage(null)}}else re=function(){C(X,0)};function ve(){z||(z=!0,re())}function ae(K,J){H=C(function(){K(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,ve())},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var Z=b;b=J;try{return K()}finally{b=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Z=b;b=K;try{return J()}finally{b=Z}},t.unstable_scheduleCallback=function(K,J,Z){var ke=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ke+Z:ke):Z=ke,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Z+N,K={id:m++,callback:J,priorityLevel:K,startTime:Z,expirationTime:N,sortIndex:-1},Z>ke?(K.sortIndex=Z,e(h,K),n(d)===null&&K===n(h)&&(E?(M(H),H=-1):E=!0,ae(B,Z-ke))):(K.sortIndex=N,e(d,K),x||v||(x=!0,ve())),K},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(K){var J=b;return function(){var Z=b;b=J;try{return K.apply(this,arguments)}finally{b=Z}}}}(hh)),hh}var Q1;function wM(){return Q1||(Q1=1,dh.exports=CM()),dh.exports}var ph={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function MM(){if(J1)return Nt;J1=1;var t=Wp();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Nt.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,m)},Nt.flushSync=function(d){var h=l.T,m=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=h,i.p=m,i.d.f()}},Nt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Nt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Nt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:v}):m==="script"&&i.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Nt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Nt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);i.d.L(d,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Nt.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Nt.requestFormReset=function(d){i.d.r(d)},Nt.unstable_batchedUpdates=function(d,h){return d(h)},Nt.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},Nt.useFormStatus=function(){return l.H.useHostTransitionStatus()},Nt.version="19.0.0",Nt}var Z1;function Zx(){if(Z1)return ph.exports;Z1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ph.exports=MM(),ph.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function kM(){if(eb)return Ma;eb=1;var t=wM(),e=Wp(),n=Zx();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var a=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),B=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var q=Symbol.for("react.client.reference");function $(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===q?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case d:return"Fragment";case c:return"Portal";case m:return"Profiler";case h:return"StrictMode";case E:return"Suspense";case C:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case v:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case x:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return o=r.displayName||null,o!==null?o:$(r.type)||"Memo";case k:o=r._payload,r=r._init;try{return $(r(o))}catch{}}return null}var P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=Object.assign,re,Le;function $e(r){if(re===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);re=o&&o[1]||"",Le=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+r+Le}var ve=!1;function ae(r,o){if(!r||ve)return"";ve=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(U){var V=U}Reflect.construct(r,[],G)}else{try{G.call()}catch(U){V=U}r.call(G.prototype)}}else{try{throw Error()}catch(U){V=U}(G=r())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(U){if(U&&V&&typeof U.stack=="string")return[U.stack,V.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),S=y[0],w=y[1];if(S&&w){var O=S.split(`
`),j=w.split(`
`);for(p=f=0;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;for(;p<j.length&&!j[p].includes("DetermineComponentFrameRoot");)p++;if(f===O.length||p===j.length)for(f=O.length-1,p=j.length-1;1<=f&&0<=p&&O[f]!==j[p];)p--;for(;1<=f&&0<=p;f--,p--)if(O[f]!==j[p]){if(f!==1||p!==1)do if(f--,p--,0>p||O[f]!==j[p]){var I=`
`+O[f].replace(" at new "," at ");return r.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",r.displayName)),I}while(1<=f&&0<=p);break}}}finally{ve=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?$e(u):""}function K(r){switch(r.tag){case 26:case 27:case 5:return $e(r.type);case 16:return $e("Lazy");case 13:return $e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return r=ae(r.type,!1),r;case 11:return r=ae(r.type.render,!1),r;case 1:return r=ae(r.type,!0),r;default:return""}}function J(r){try{var o="";do o+=K(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Z(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function ke(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function N(r){if(Z(r)!==r)throw Error(i(188))}function W(r){var o=r.alternate;if(!o){if(o=Z(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,f=o;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){u=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return N(p),r;if(y===f)return N(p),o;y=y.sibling}throw Error(i(188))}if(u.return!==f.return)u=p,f=y;else{for(var S=!1,w=p.child;w;){if(w===u){S=!0,u=p,f=y;break}if(w===f){S=!0,f=p,u=y;break}w=w.sibling}if(!S){for(w=y.child;w;){if(w===u){S=!0,u=y,f=p;break}if(w===f){S=!0,f=y,u=p;break}w=w.sibling}if(!S)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function he(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=he(r),o!==null)return o;r=r.sibling}return null}var fe=Array.isArray,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},Se=[],ee=-1;function ie(r){return{current:r}}function le(r){0>ee||(r.current=Se[ee],Se[ee]=null,ee--)}function ge(r,o){ee++,Se[ee]=r.current,r.current=o}var We=ie(null),xe=ie(null),ut=ie(null),Kt=ie(null);function qe(r,o){switch(ge(ut,o),ge(xe,r),ge(We,null),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?S1(o):0;break;default:if(r=r===8?o.parentNode:o,o=r.tagName,r=r.namespaceURI)r=S1(r),o=T1(r,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}le(We),ge(We,o)}function ei(){le(We),le(xe),le(ut)}function Ao(r){r.memoizedState!==null&&ge(Kt,r);var o=We.current,u=T1(o,r.type);o!==u&&(ge(xe,r),ge(We,u))}function Er(r){xe.current===r&&(le(We),le(xe)),Kt.current===r&&(le(Kt),xa._currentValue=Oe)}var ef=Object.prototype.hasOwnProperty,tf=t.unstable_scheduleCallback,nf=t.unstable_cancelCallback,ZE=t.unstable_shouldYield,eC=t.unstable_requestPaint,Pn=t.unstable_now,tC=t.unstable_getCurrentPriorityLevel,cg=t.unstable_ImmediatePriority,fg=t.unstable_UserBlockingPriority,Tl=t.unstable_NormalPriority,nC=t.unstable_LowPriority,dg=t.unstable_IdlePriority,iC=t.log,rC=t.unstable_setDisableYieldValue,Oo=null,Zt=null;function sC(r){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Oo,r,void 0,(r.current.flags&128)===128)}catch{}}function Ni(r){if(typeof iC=="function"&&rC(r),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Oo,r)}catch{}}var en=Math.clz32?Math.clz32:lC,oC=Math.log,aC=Math.LN2;function lC(r){return r>>>=0,r===0?32:31-(oC(r)/aC|0)|0}var El=128,Cl=4194304;function Cr(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function wl(r,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,y=r.pingedLanes,S=r.warmLanes;r=r.finishedLanes!==0;var w=u&134217727;return w!==0?(u=w&~p,u!==0?f=Cr(u):(y&=w,y!==0?f=Cr(y):r||(S=w&~S,S!==0&&(f=Cr(S))))):(w=u&~p,w!==0?f=Cr(w):y!==0?f=Cr(y):r||(S=u&~S,S!==0&&(f=Cr(S)))),f===0?0:o!==0&&o!==f&&!(o&p)&&(p=f&-f,S=o&-o,p>=S||p===32&&(S&4194176)!==0)?o:f}function Do(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function uC(r,o){switch(r){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hg(){var r=El;return El<<=1,!(El&4194176)&&(El=128),r}function pg(){var r=Cl;return Cl<<=1,!(Cl&62914560)&&(Cl=4194304),r}function rf(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function No(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function cC(r,o,u,f,p,y){var S=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var w=r.entanglements,O=r.expirationTimes,j=r.hiddenUpdates;for(u=S&~u;0<u;){var I=31-en(u),G=1<<I;w[I]=0,O[I]=-1;var V=j[I];if(V!==null)for(j[I]=null,I=0;I<V.length;I++){var U=V[I];U!==null&&(U.lane&=-536870913)}u&=~G}f!==0&&mg(r,f,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(S&~o))}function mg(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-en(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194218}function gg(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var f=31-en(u),p=1<<f;p&o|r[f]&o&&(r[f]|=o),u&=~p}}function yg(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function bg(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:H1(r.type))}function fC(r,o){var u=ne.p;try{return ne.p=r,o()}finally{ne.p=u}}var Ri=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Ri,Yt="__reactProps$"+Ri,ys="__reactContainer$"+Ri,sf="__reactEvents$"+Ri,dC="__reactListeners$"+Ri,hC="__reactHandles$"+Ri,vg="__reactResources$"+Ri,Ro="__reactMarker$"+Ri;function of(r){delete r[Ot],delete r[Yt],delete r[sf],delete r[dC],delete r[hC]}function wr(r){var o=r[Ot];if(o)return o;for(var u=r.parentNode;u;){if(o=u[ys]||u[Ot]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=w1(r);r!==null;){if(u=r[Ot])return u;r=w1(r)}return o}r=u,u=r.parentNode}return null}function bs(r){if(r=r[Ot]||r[ys]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function jo(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function vs(r){var o=r[vg];return o||(o=r[vg]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function dt(r){r[Ro]=!0}var xg=new Set,Sg={};function Mr(r,o){xs(r,o),xs(r+"Capture",o)}function xs(r,o){for(Sg[r]=o,r=0;r<o.length;r++)xg.add(o[r])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tg={},Eg={};function mC(r){return ef.call(Eg,r)?!0:ef.call(Tg,r)?!1:pC.test(r)?Eg[r]=!0:(Tg[r]=!0,!1)}function Ml(r,o,u){if(mC(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function kl(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function ni(r,o,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+f)}}function fn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Cg(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function gC(r){var o=Cg(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return p.call(this)},set:function(S){f=""+S,y.call(this,S)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Al(r){r._valueTracker||(r._valueTracker=gC(r))}function wg(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return r&&(f=Cg(r)?r.checked?"true":"false":r.value),r=f,r!==u?(o.setValue(r),!0):!1}function Ol(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var yC=/[\n"\\]/g;function dn(r){return r.replace(yC,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function af(r,o,u,f,p,y,S,w){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),o!=null?S==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+fn(o)):r.value!==""+fn(o)&&(r.value=""+fn(o)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),o!=null?lf(r,S,fn(o)):u!=null?lf(r,S,fn(u)):f!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+fn(w):r.removeAttribute("name")}function Mg(r,o,u,f,p,y,S,w){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),o!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;u=u!=null?""+fn(u):"",o=o!=null?""+fn(o):u,w||o===r.value||(r.value=o),r.defaultValue=o}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=w?r.checked:!!f,r.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function lf(r,o,u){o==="number"&&Ol(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Ss(r,o,u,f){if(r=r.options,o){o={};for(var p=0;p<u.length;p++)o["$"+u[p]]=!0;for(u=0;u<r.length;u++)p=o.hasOwnProperty("$"+r[u].value),r[u].selected!==p&&(r[u].selected=p),p&&f&&(r[u].defaultSelected=!0)}else{for(u=""+fn(u),o=null,p=0;p<r.length;p++){if(r[p].value===u){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}o!==null||r[p].disabled||(o=r[p])}o!==null&&(o.selected=!0)}}function kg(r,o,u){if(o!=null&&(o=""+fn(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+fn(u):""}function Ag(r,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(fe(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=fn(o),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function Ts(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var bC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Og(r,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,u):typeof u!="number"||u===0||bC.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Dg(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var p in o)f=o[p],o.hasOwnProperty(p)&&u[p]!==f&&Og(r,p,f)}else for(var y in o)o.hasOwnProperty(y)&&Og(r,y,o[y])}function uf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dl(r){return xC.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var cf=null;function ff(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Es=null,Cs=null;function Ng(r){var o=bs(r);if(o&&(r=o.stateNode)){var u=r[Yt]||null;e:switch(r=o.stateNode,o.type){case"input":if(af(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+dn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==r&&f.form===r.form){var p=f[Yt]||null;if(!p)throw Error(i(90));af(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===r.form&&wg(f)}break e;case"textarea":kg(r,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ss(r,!!u.multiple,o,!1)}}}var df=!1;function Rg(r,o,u){if(df)return r(o,u);df=!0;try{var f=r(o);return f}finally{if(df=!1,(Es!==null||Cs!==null)&&(hu(),Es&&(o=Es,r=Cs,Cs=Es=null,Ng(o),r)))for(o=0;o<r.length;o++)Ng(r[o])}}function _o(r,o){var u=r.stateNode;if(u===null)return null;var f=u[Yt]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var hf=!1;if(ti)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){hf=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{hf=!1}var ji=null,pf=null,Nl=null;function jg(){if(Nl)return Nl;var r,o=pf,u=o.length,f,p="value"in ji?ji.value:ji.textContent,y=p.length;for(r=0;r<u&&o[r]===p[r];r++);var S=u-r;for(f=1;f<=S&&o[u-f]===p[y-f];f++);return Nl=p.slice(r,1<f?1-f:void 0)}function Rl(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function jl(){return!0}function _g(){return!1}function Xt(r){function o(u,f,p,y,S){this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(u=r[w],this[w]=u?u(y):y[w]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?jl:_g,this.isPropagationStopped=_g,this}return X(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),o}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Xt(kr),Lo=X({},kr,{view:0,detail:0}),SC=Xt(Lo),mf,gf,Bo,zl=X({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Bo&&(Bo&&r.type==="mousemove"?(mf=r.screenX-Bo.screenX,gf=r.screenY-Bo.screenY):gf=mf=0,Bo=r),mf)},movementY:function(r){return"movementY"in r?r.movementY:gf}}),zg=Xt(zl),TC=X({},zl,{dataTransfer:0}),EC=Xt(TC),CC=X({},Lo,{relatedTarget:0}),yf=Xt(CC),wC=X({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),MC=Xt(wC),kC=X({},kr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),AC=Xt(kC),OC=X({},kr,{data:0}),Lg=Xt(OC),DC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jC(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=RC[r])?!!o[r]:!1}function bf(){return jC}var _C=X({},Lo,{key:function(r){if(r.key){var o=DC[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Rl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?NC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bf,charCode:function(r){return r.type==="keypress"?Rl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Rl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),zC=Xt(_C),LC=X({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bg=Xt(LC),BC=X({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bf}),VC=Xt(BC),PC=X({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),HC=Xt(PC),UC=X({},zl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),IC=Xt(UC),FC=X({},kr,{newState:0,oldState:0}),$C=Xt(FC),qC=[9,13,27,32],vf=ti&&"CompositionEvent"in window,Vo=null;ti&&"documentMode"in document&&(Vo=document.documentMode);var GC=ti&&"TextEvent"in window&&!Vo,Vg=ti&&(!vf||Vo&&8<Vo&&11>=Vo),Pg=" ",Hg=!1;function Ug(r,o){switch(r){case"keyup":return qC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ig(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ws=!1;function KC(r,o){switch(r){case"compositionend":return Ig(o);case"keypress":return o.which!==32?null:(Hg=!0,Pg);case"textInput":return r=o.data,r===Pg&&Hg?null:r;default:return null}}function YC(r,o){if(ws)return r==="compositionend"||!vf&&Ug(r,o)?(r=jg(),Nl=pf=ji=null,ws=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Vg&&o.locale!=="ko"?null:o.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!XC[r.type]:o==="textarea"}function $g(r,o,u,f){Es?Cs?Cs.push(f):Cs=[f]:Es=f,o=bu(o,"onChange"),0<o.length&&(u=new _l("onChange","change",null,u,f),r.push({event:u,listeners:o}))}var Po=null,Ho=null;function WC(r){g1(r,0)}function Ll(r){var o=jo(r);if(wg(o))return r}function qg(r,o){if(r==="change")return o}var Gg=!1;if(ti){var xf;if(ti){var Sf="oninput"in document;if(!Sf){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Sf=typeof Kg.oninput=="function"}xf=Sf}else xf=!1;Gg=xf&&(!document.documentMode||9<document.documentMode)}function Yg(){Po&&(Po.detachEvent("onpropertychange",Xg),Ho=Po=null)}function Xg(r){if(r.propertyName==="value"&&Ll(Ho)){var o=[];$g(o,Ho,r,ff(r)),Rg(WC,o)}}function QC(r,o,u){r==="focusin"?(Yg(),Po=o,Ho=u,Po.attachEvent("onpropertychange",Xg)):r==="focusout"&&Yg()}function JC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ll(Ho)}function ZC(r,o){if(r==="click")return Ll(o)}function ew(r,o){if(r==="input"||r==="change")return Ll(o)}function tw(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var tn=typeof Object.is=="function"?Object.is:tw;function Uo(r,o){if(tn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!ef.call(o,p)||!tn(r[p],o[p]))return!1}return!0}function Wg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qg(r,o){var u=Wg(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=o&&f>=o)return{node:u,offset:o-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Wg(u)}}function Jg(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Jg(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Zg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Ol(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=Ol(r.document)}return o}function Tf(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function nw(r,o){var u=Zg(o);o=r.focusedElem;var f=r.selectionRange;if(u!==o&&o&&o.ownerDocument&&Jg(o.ownerDocument.documentElement,o)){if(f!==null&&Tf(o)){if(r=f.start,u=f.end,u===void 0&&(u=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(u,o.value.length);else if(u=(r=o.ownerDocument||document)&&r.defaultView||window,u.getSelection){u=u.getSelection();var p=o.textContent.length,y=Math.min(f.start,p);f=f.end===void 0?y:Math.min(f.end,p),!u.extend&&y>f&&(p=f,f=y,y=p),p=Qg(o,y);var S=Qg(o,f);p&&S&&(u.rangeCount!==1||u.anchorNode!==p.node||u.anchorOffset!==p.offset||u.focusNode!==S.node||u.focusOffset!==S.offset)&&(r=r.createRange(),r.setStart(p.node,p.offset),u.removeAllRanges(),y>f?(u.addRange(r),u.extend(S.node,S.offset)):(r.setEnd(S.node,S.offset),u.addRange(r)))}}for(r=[],u=o;u=u.parentNode;)u.nodeType===1&&r.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)u=r[o],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var iw=ti&&"documentMode"in document&&11>=document.documentMode,Ms=null,Ef=null,Io=null,Cf=!1;function ey(r,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Cf||Ms==null||Ms!==Ol(f)||(f=Ms,"selectionStart"in f&&Tf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Io&&Uo(Io,f)||(Io=f,f=bu(Ef,"onSelect"),0<f.length&&(o=new _l("onSelect","select",null,o,u),r.push({event:o,listeners:f}),o.target=Ms)))}function Ar(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var ks={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},wf={},ty={};ti&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Or(r){if(wf[r])return wf[r];if(!ks[r])return r;var o=ks[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in ty)return wf[r]=o[u];return r}var ny=Or("animationend"),iy=Or("animationiteration"),ry=Or("animationstart"),rw=Or("transitionrun"),sw=Or("transitionstart"),ow=Or("transitioncancel"),sy=Or("transitionend"),oy=new Map,ay="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Nn(r,o){oy.set(r,o),Mr(o,[r])}var hn=[],As=0,Mf=0;function Bl(){for(var r=As,o=Mf=As=0;o<r;){var u=hn[o];hn[o++]=null;var f=hn[o];hn[o++]=null;var p=hn[o];hn[o++]=null;var y=hn[o];if(hn[o++]=null,f!==null&&p!==null){var S=f.pending;S===null?p.next=p:(p.next=S.next,S.next=p),f.pending=p}y!==0&&ly(u,p,y)}}function Vl(r,o,u,f){hn[As++]=r,hn[As++]=o,hn[As++]=u,hn[As++]=f,Mf|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function kf(r,o,u,f){return Vl(r,o,u,f),Pl(r)}function _i(r,o){return Vl(r,null,null,o),Pl(r)}function ly(r,o,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var p=!1,y=r.return;y!==null;)y.childLanes|=u,f=y.alternate,f!==null&&(f.childLanes|=u),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;p&&o!==null&&r.tag===3&&(y=r.stateNode,p=31-en(u),y=y.hiddenUpdates,r=y[p],r===null?y[p]=[o]:r.push(o),o.lane=u|536870912)}function Pl(r){if(50<ha)throw ha=0,jd=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Os={},uy=new WeakMap;function pn(r,o){if(typeof r=="object"&&r!==null){var u=uy.get(r);return u!==void 0?u:(o={value:r,source:o,stack:J(o)},uy.set(r,o),o)}return{value:r,source:o,stack:J(o)}}var Ds=[],Ns=0,Hl=null,Ul=0,mn=[],gn=0,Dr=null,ii=1,ri="";function Nr(r,o){Ds[Ns++]=Ul,Ds[Ns++]=Hl,Hl=r,Ul=o}function cy(r,o,u){mn[gn++]=ii,mn[gn++]=ri,mn[gn++]=Dr,Dr=r;var f=ii;r=ri;var p=32-en(f)-1;f&=~(1<<p),u+=1;var y=32-en(o)+p;if(30<y){var S=p-p%5;y=(f&(1<<S)-1).toString(32),f>>=S,p-=S,ii=1<<32-en(o)+p|u<<p|f,ri=y+r}else ii=1<<y|u<<p|f,ri=r}function Af(r){r.return!==null&&(Nr(r,1),cy(r,1,0))}function Of(r){for(;r===Hl;)Hl=Ds[--Ns],Ds[Ns]=null,Ul=Ds[--Ns],Ds[Ns]=null;for(;r===Dr;)Dr=mn[--gn],mn[gn]=null,ri=mn[--gn],mn[gn]=null,ii=mn[--gn],mn[gn]=null}var Vt=null,St=null,Re=!1,Rn=null,Hn=!1,Df=Error(i(519));function Rr(r){var o=Error(i(418,""));throw qo(pn(o,r)),Df}function fy(r){var o=r.stateNode,u=r.type,f=r.memoizedProps;switch(o[Ot]=r,o[Yt]=f,u){case"dialog":De("cancel",o),De("close",o);break;case"iframe":case"object":case"embed":De("load",o);break;case"video":case"audio":for(u=0;u<ma.length;u++)De(ma[u],o);break;case"source":De("error",o);break;case"img":case"image":case"link":De("error",o),De("load",o);break;case"details":De("toggle",o);break;case"input":De("invalid",o),Mg(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Al(o);break;case"select":De("invalid",o);break;case"textarea":De("invalid",o),Ag(o,f.value,f.defaultValue,f.children),Al(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||x1(o.textContent,u)?(f.popover!=null&&(De("beforetoggle",o),De("toggle",o)),f.onScroll!=null&&De("scroll",o),f.onScrollEnd!=null&&De("scrollend",o),f.onClick!=null&&(o.onclick=vu),o=!0):o=!1,o||Rr(r)}function dy(r){for(Vt=r.return;Vt;)switch(Vt.tag){case 3:case 27:Hn=!0;return;case 5:case 13:Hn=!1;return;default:Vt=Vt.return}}function Fo(r){if(r!==Vt)return!1;if(!Re)return dy(r),Re=!0,!1;var o=!1,u;if((u=r.tag!==3&&r.tag!==27)&&((u=r.tag===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Wd(r.type,r.memoizedProps)),u=!u),u&&(o=!0),o&&St&&Rr(r),dy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){St=_n(r.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}St=null}}else St=Vt?_n(r.stateNode.nextSibling):null;return!0}function $o(){St=Vt=null,Re=!1}function qo(r){Rn===null?Rn=[r]:Rn.push(r)}var Go=Error(i(460)),hy=Error(i(474)),Nf={then:function(){}};function py(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Il(){}function my(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Il,Il),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,r===Go?Error(i(483)):r;default:if(typeof o.status=="string")o.then(Il,Il);else{if(r=Ue,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=f}},function(f){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,r===Go?Error(i(483)):r}throw Ko=o,Go}}var Ko=null;function gy(){if(Ko===null)throw Error(i(459));var r=Ko;return Ko=null,r}var Rs=null,Yo=0;function Fl(r){var o=Yo;return Yo+=1,Rs===null&&(Rs=[]),my(Rs,r,o)}function Xo(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function $l(r,o){throw o.$$typeof===a?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function yy(r){var o=r._init;return o(r._payload)}function by(r){function o(_,R){if(r){var L=_.deletions;L===null?(_.deletions=[R],_.flags|=16):L.push(R)}}function u(_,R){if(!r)return null;for(;R!==null;)o(_,R),R=R.sibling;return null}function f(_){for(var R=new Map;_!==null;)_.key!==null?R.set(_.key,_):R.set(_.index,_),_=_.sibling;return R}function p(_,R){return _=Gi(_,R),_.index=0,_.sibling=null,_}function y(_,R,L){return _.index=L,r?(L=_.alternate,L!==null?(L=L.index,L<R?(_.flags|=33554434,R):L):(_.flags|=33554434,R)):(_.flags|=1048576,R)}function S(_){return r&&_.alternate===null&&(_.flags|=33554434),_}function w(_,R,L,F){return R===null||R.tag!==6?(R=wd(L,_.mode,F),R.return=_,R):(R=p(R,L),R.return=_,R)}function O(_,R,L,F){var se=L.type;return se===d?I(_,R,L.props.children,F,L.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===k&&yy(se)===R.type)?(R=p(R,L.props),Xo(R,L),R.return=_,R):(R=lu(L.type,L.key,L.props,null,_.mode,F),Xo(R,L),R.return=_,R)}function j(_,R,L,F){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=Md(L,_.mode,F),R.return=_,R):(R=p(R,L.children||[]),R.return=_,R)}function I(_,R,L,F,se){return R===null||R.tag!==7?(R=Ir(L,_.mode,F,se),R.return=_,R):(R=p(R,L),R.return=_,R)}function G(_,R,L){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=wd(""+R,_.mode,L),R.return=_,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case l:return L=lu(R.type,R.key,R.props,null,_.mode,L),Xo(L,R),L.return=_,L;case c:return R=Md(R,_.mode,L),R.return=_,R;case k:var F=R._init;return R=F(R._payload),G(_,R,L)}if(fe(R)||H(R))return R=Ir(R,_.mode,L,null),R.return=_,R;if(typeof R.then=="function")return G(_,Fl(R),L);if(R.$$typeof===v)return G(_,su(_,R),L);$l(_,R)}return null}function V(_,R,L,F){var se=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return se!==null?null:w(_,R,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case l:return L.key===se?O(_,R,L,F):null;case c:return L.key===se?j(_,R,L,F):null;case k:return se=L._init,L=se(L._payload),V(_,R,L,F)}if(fe(L)||H(L))return se!==null?null:I(_,R,L,F,null);if(typeof L.then=="function")return V(_,R,Fl(L),F);if(L.$$typeof===v)return V(_,R,su(_,L),F);$l(_,L)}return null}function U(_,R,L,F,se){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return _=_.get(L)||null,w(R,_,""+F,se);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case l:return _=_.get(F.key===null?L:F.key)||null,O(R,_,F,se);case c:return _=_.get(F.key===null?L:F.key)||null,j(R,_,F,se);case k:var Me=F._init;return F=Me(F._payload),U(_,R,L,F,se)}if(fe(F)||H(F))return _=_.get(L)||null,I(R,_,F,se,null);if(typeof F.then=="function")return U(_,R,L,Fl(F),se);if(F.$$typeof===v)return U(_,R,L,su(R,F),se);$l(R,F)}return null}function ue(_,R,L,F){for(var se=null,Me=null,ce=R,pe=R=0,mt=null;ce!==null&&pe<L.length;pe++){ce.index>pe?(mt=ce,ce=null):mt=ce.sibling;var je=V(_,ce,L[pe],F);if(je===null){ce===null&&(ce=mt);break}r&&ce&&je.alternate===null&&o(_,ce),R=y(je,R,pe),Me===null?se=je:Me.sibling=je,Me=je,ce=mt}if(pe===L.length)return u(_,ce),Re&&Nr(_,pe),se;if(ce===null){for(;pe<L.length;pe++)ce=G(_,L[pe],F),ce!==null&&(R=y(ce,R,pe),Me===null?se=ce:Me.sibling=ce,Me=ce);return Re&&Nr(_,pe),se}for(ce=f(ce);pe<L.length;pe++)mt=U(ce,_,pe,L[pe],F),mt!==null&&(r&&mt.alternate!==null&&ce.delete(mt.key===null?pe:mt.key),R=y(mt,R,pe),Me===null?se=mt:Me.sibling=mt,Me=mt);return r&&ce.forEach(function(Zi){return o(_,Zi)}),Re&&Nr(_,pe),se}function be(_,R,L,F){if(L==null)throw Error(i(151));for(var se=null,Me=null,ce=R,pe=R=0,mt=null,je=L.next();ce!==null&&!je.done;pe++,je=L.next()){ce.index>pe?(mt=ce,ce=null):mt=ce.sibling;var Zi=V(_,ce,je.value,F);if(Zi===null){ce===null&&(ce=mt);break}r&&ce&&Zi.alternate===null&&o(_,ce),R=y(Zi,R,pe),Me===null?se=Zi:Me.sibling=Zi,Me=Zi,ce=mt}if(je.done)return u(_,ce),Re&&Nr(_,pe),se;if(ce===null){for(;!je.done;pe++,je=L.next())je=G(_,je.value,F),je!==null&&(R=y(je,R,pe),Me===null?se=je:Me.sibling=je,Me=je);return Re&&Nr(_,pe),se}for(ce=f(ce);!je.done;pe++,je=L.next())je=U(ce,_,pe,je.value,F),je!==null&&(r&&je.alternate!==null&&ce.delete(je.key===null?pe:je.key),R=y(je,R,pe),Me===null?se=je:Me.sibling=je,Me=je);return r&&ce.forEach(function(xM){return o(_,xM)}),Re&&Nr(_,pe),se}function Ze(_,R,L,F){if(typeof L=="object"&&L!==null&&L.type===d&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case l:e:{for(var se=L.key;R!==null;){if(R.key===se){if(se=L.type,se===d){if(R.tag===7){u(_,R.sibling),F=p(R,L.props.children),F.return=_,_=F;break e}}else if(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===k&&yy(se)===R.type){u(_,R.sibling),F=p(R,L.props),Xo(F,L),F.return=_,_=F;break e}u(_,R);break}else o(_,R);R=R.sibling}L.type===d?(F=Ir(L.props.children,_.mode,F,L.key),F.return=_,_=F):(F=lu(L.type,L.key,L.props,null,_.mode,F),Xo(F,L),F.return=_,_=F)}return S(_);case c:e:{for(se=L.key;R!==null;){if(R.key===se)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){u(_,R.sibling),F=p(R,L.children||[]),F.return=_,_=F;break e}else{u(_,R);break}else o(_,R);R=R.sibling}F=Md(L,_.mode,F),F.return=_,_=F}return S(_);case k:return se=L._init,L=se(L._payload),Ze(_,R,L,F)}if(fe(L))return ue(_,R,L,F);if(H(L)){if(se=H(L),typeof se!="function")throw Error(i(150));return L=se.call(L),be(_,R,L,F)}if(typeof L.then=="function")return Ze(_,R,Fl(L),F);if(L.$$typeof===v)return Ze(_,R,su(_,L),F);$l(_,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,R!==null&&R.tag===6?(u(_,R.sibling),F=p(R,L),F.return=_,_=F):(u(_,R),F=wd(L,_.mode,F),F.return=_,_=F),S(_)):u(_,R)}return function(_,R,L,F){try{Yo=0;var se=Ze(_,R,L,F);return Rs=null,se}catch(ce){if(ce===Go)throw ce;var Me=xn(29,ce,null,_.mode);return Me.lanes=F,Me.return=_,Me}finally{}}}var jr=by(!0),vy=by(!1),js=ie(null),ql=ie(0);function xy(r,o){r=mi,ge(ql,r),ge(js,o),mi=r|o.baseLanes}function Rf(){ge(ql,mi),ge(js,js.current)}function jf(){mi=ql.current,le(js),le(ql)}var yn=ie(null),Un=null;function zi(r){var o=r.alternate;ge(ct,ct.current&1),ge(yn,r),Un===null&&(o===null||js.current!==null||o.memoizedState!==null)&&(Un=r)}function Sy(r){if(r.tag===22){if(ge(ct,ct.current),ge(yn,r),Un===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Un=r)}}else Li()}function Li(){ge(ct,ct.current),ge(yn,yn.current)}function si(r){le(yn),Un===r&&(Un=null),le(ct)}var ct=ie(0);function Gl(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var aw=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},lw=t.unstable_scheduleCallback,uw=t.unstable_NormalPriority,ft={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new aw,data:new Map,refCount:0}}function Wo(r){r.refCount--,r.refCount===0&&lw(uw,function(){r.controller.abort()})}var Qo=null,zf=0,_s=0,zs=null;function cw(r,o){if(Qo===null){var u=Qo=[];zf=0,_s=Ud(),zs={status:"pending",value:void 0,then:function(f){u.push(f)}}}return zf++,o.then(Ty,Ty),o}function Ty(){if(--zf===0&&Qo!==null){zs!==null&&(zs.status="fulfilled");var r=Qo;Qo=null,_s=0,zs=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function fw(r,o){var u=[],f={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var p=0;p<u.length;p++)(0,u[p])(o)},function(p){for(f.status="rejected",f.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),f}var Ey=P.S;P.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&cw(r,o),Ey!==null&&Ey(r,o)};var _r=ie(null);function Lf(){var r=_r.current;return r!==null?r:Ue.pooledCache}function Kl(r,o){o===null?ge(_r,_r.current):ge(_r,o.pool)}function Cy(){var r=Lf();return r===null?null:{parent:ft._currentValue,pool:r}}var Bi=0,Ce=null,Be=null,rt=null,Yl=!1,Ls=!1,zr=!1,Xl=0,Jo=0,Bs=null,dw=0;function nt(){throw Error(i(321))}function Bf(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!tn(r[u],o[u]))return!1;return!0}function Vf(r,o,u,f,p,y){return Bi=y,Ce=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,P.H=r===null||r.memoizedState===null?Lr:Vi,zr=!1,y=u(f,p),zr=!1,Ls&&(y=My(o,u,f,p)),wy(r),y}function wy(r){P.H=In;var o=Be!==null&&Be.next!==null;if(Bi=0,rt=Be=Ce=null,Yl=!1,Jo=0,Bs=null,o)throw Error(i(300));r===null||ht||(r=r.dependencies,r!==null&&ru(r)&&(ht=!0))}function My(r,o,u,f){Ce=r;var p=0;do{if(Ls&&(Bs=null),Jo=0,Ls=!1,25<=p)throw Error(i(301));if(p+=1,rt=Be=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}P.H=Br,y=o(u,f)}while(Ls);return y}function hw(){var r=P.H,o=r.useState()[0];return o=typeof o.then=="function"?Zo(o):o,r=r.useState()[0],(Be!==null?Be.memoizedState:null)!==r&&(Ce.flags|=1024),o}function Pf(){var r=Xl!==0;return Xl=0,r}function Hf(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Uf(r){if(Yl){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Yl=!1}Bi=0,rt=Be=Ce=null,Ls=!1,Jo=Xl=0,Bs=null}function Wt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ce.memoizedState=rt=r:rt=rt.next=r,rt}function st(){if(Be===null){var r=Ce.alternate;r=r!==null?r.memoizedState:null}else r=Be.next;var o=rt===null?Ce.memoizedState:rt.next;if(o!==null)rt=o,Be=r;else{if(r===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));Be=r,r={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},rt===null?Ce.memoizedState=rt=r:rt=rt.next=r}return rt}var Wl;Wl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Zo(r){var o=Jo;return Jo+=1,Bs===null&&(Bs=[]),r=my(Bs,r,o),o=Ce,(rt===null?o.memoizedState:rt.next)===null&&(o=o.alternate,P.H=o===null||o.memoizedState===null?Lr:Vi),r}function Ql(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Zo(r);if(r.$$typeof===v)return Dt(r)}throw Error(i(438,String(r)))}function If(r){var o=null,u=Ce.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=Ce.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Wl(),Ce.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),f=0;f<r;f++)u[f]=B;return o.index++,u}function oi(r,o){return typeof o=="function"?o(r):o}function Jl(r){var o=st();return Ff(o,Be,r)}function Ff(r,o,u){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var p=r.baseQueue,y=f.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}o.baseQueue=p=y,f.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{o=p.next;var w=S=null,O=null,j=o,I=!1;do{var G=j.lane&-536870913;if(G!==j.lane?(Ne&G)===G:(Bi&G)===G){var V=j.revertLane;if(V===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),G===_s&&(I=!0);else if((Bi&V)===V){j=j.next,V===_s&&(I=!0);continue}else G={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(w=O=G,S=y):O=O.next=G,Ce.lanes|=V,Ki|=V;G=j.action,zr&&u(y,G),y=j.hasEagerState?j.eagerState:u(y,G)}else V={lane:G,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(w=O=V,S=y):O=O.next=V,Ce.lanes|=G,Ki|=G;j=j.next}while(j!==null&&j!==o);if(O===null?S=y:O.next=w,!tn(y,r.memoizedState)&&(ht=!0,I&&(u=zs,u!==null)))throw u;r.memoizedState=y,r.baseState=S,r.baseQueue=O,f.lastRenderedState=y}return p===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function $f(r){var o=st(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var f=u.dispatch,p=u.pending,y=o.memoizedState;if(p!==null){u.pending=null;var S=p=p.next;do y=r(y,S.action),S=S.next;while(S!==p);tn(y,o.memoizedState)||(ht=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,f]}function ky(r,o,u){var f=Ce,p=st(),y=Re;if(y){if(u===void 0)throw Error(i(407));u=u()}else u=o();var S=!tn((Be||p).memoizedState,u);if(S&&(p.memoizedState=u,ht=!0),p=p.queue,Kf(Dy.bind(null,f,p,r),[r]),p.getSnapshot!==o||S||rt!==null&&rt.memoizedState.tag&1){if(f.flags|=2048,Vs(9,Oy.bind(null,f,p,u,o),{destroy:void 0},null),Ue===null)throw Error(i(349));y||Bi&60||Ay(f,o,u)}return u}function Ay(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Ce.updateQueue,o===null?(o=Wl(),Ce.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function Oy(r,o,u,f){o.value=u,o.getSnapshot=f,Ny(o)&&Ry(r)}function Dy(r,o,u){return u(function(){Ny(o)&&Ry(r)})}function Ny(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!tn(r,u)}catch{return!0}}function Ry(r){var o=_i(r,2);o!==null&&Pt(o,r,2)}function qf(r){var o=Wt();if(typeof r=="function"){var u=r;if(r=u(),zr){Ni(!0);try{u()}finally{Ni(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:r},o}function jy(r,o,u,f){return r.baseState=u,Ff(r,Be,typeof f=="function"?f:oi)}function pw(r,o,u,f,p){if(tu(r))throw Error(i(485));if(r=o.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};P.T!==null?u(!0):y.isTransition=!1,f(y),u=o.pending,u===null?(y.next=o.pending=y,_y(o,y)):(y.next=u.next,o.pending=u.next=y)}}function _y(r,o){var u=o.action,f=o.payload,p=r.state;if(o.isTransition){var y=P.T,S={};P.T=S;try{var w=u(p,f),O=P.S;O!==null&&O(S,w),zy(r,o,w)}catch(j){Gf(r,o,j)}finally{P.T=y}}else try{y=u(p,f),zy(r,o,y)}catch(j){Gf(r,o,j)}}function zy(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Ly(r,o,f)},function(f){return Gf(r,o,f)}):Ly(r,o,u)}function Ly(r,o,u){o.status="fulfilled",o.value=u,By(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,_y(r,u)))}function Gf(r,o,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,By(o),o=o.next;while(o!==f)}r.action=null}function By(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Vy(r,o){return o}function Py(r,o){if(Re){var u=Ue.formState;if(u!==null){e:{var f=Ce;if(Re){if(St){t:{for(var p=St,y=Hn;p.nodeType!==8;){if(!y){p=null;break t}if(p=_n(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){St=_n(p.nextSibling),f=p.data==="F!";break e}}Rr(f)}f=!1}f&&(o=u[0])}}return u=Wt(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vy,lastRenderedState:o},u.queue=f,u=i0.bind(null,Ce,f),f.dispatch=u,f=qf(!1),y=Jf.bind(null,Ce,!1,f.queue),f=Wt(),p={state:o,dispatch:null,action:r,pending:null},f.queue=p,u=pw.bind(null,Ce,p,y,u),p.dispatch=u,f.memoizedState=r,[o,u,!1]}function Hy(r){var o=st();return Uy(o,Be,r)}function Uy(r,o,u){o=Ff(r,o,Vy)[0],r=Jl(oi)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?Zo(o):o;var f=st(),p=f.queue,y=p.dispatch;return u!==f.memoizedState&&(Ce.flags|=2048,Vs(9,mw.bind(null,p,u),{destroy:void 0},null)),[o,y,r]}function mw(r,o){r.action=o}function Iy(r){var o=st(),u=Be;if(u!==null)return Uy(o,u,r);st(),o=o.memoizedState,u=st();var f=u.queue.dispatch;return u.memoizedState=r,[o,f,!1]}function Vs(r,o,u,f){return r={tag:r,create:o,inst:u,deps:f,next:null},o=Ce.updateQueue,o===null&&(o=Wl(),Ce.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,o.lastEffect=r),r}function Fy(){return st().memoizedState}function Zl(r,o,u,f){var p=Wt();Ce.flags|=r,p.memoizedState=Vs(1|o,u,{destroy:void 0},f===void 0?null:f)}function eu(r,o,u,f){var p=st();f=f===void 0?null:f;var y=p.memoizedState.inst;Be!==null&&f!==null&&Bf(f,Be.memoizedState.deps)?p.memoizedState=Vs(o,u,y,f):(Ce.flags|=r,p.memoizedState=Vs(1|o,u,y,f))}function $y(r,o){Zl(8390656,8,r,o)}function Kf(r,o){eu(2048,8,r,o)}function qy(r,o){return eu(4,2,r,o)}function Gy(r,o){return eu(4,4,r,o)}function Ky(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Yy(r,o,u){u=u!=null?u.concat([r]):null,eu(4,4,Ky.bind(null,o,r),u)}function Yf(){}function Xy(r,o){var u=st();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&Bf(o,f[1])?f[0]:(u.memoizedState=[r,o],r)}function Wy(r,o){var u=st();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&Bf(o,f[1]))return f[0];if(f=r(),zr){Ni(!0);try{r()}finally{Ni(!1)}}return u.memoizedState=[f,o],f}function Xf(r,o,u){return u===void 0||Bi&1073741824?r.memoizedState=o:(r.memoizedState=u,r=J0(),Ce.lanes|=r,Ki|=r,u)}function Qy(r,o,u,f){return tn(u,o)?u:js.current!==null?(r=Xf(r,u,f),tn(r,o)||(ht=!0),r):Bi&42?(r=J0(),Ce.lanes|=r,Ki|=r,o):(ht=!0,r.memoizedState=u)}function Jy(r,o,u,f,p){var y=ne.p;ne.p=y!==0&&8>y?y:8;var S=P.T,w={};P.T=w,Jf(r,!1,o,u);try{var O=p(),j=P.S;if(j!==null&&j(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var I=fw(O,f);ea(r,o,I,on(r))}else ea(r,o,f,on(r))}catch(G){ea(r,o,{then:function(){},status:"rejected",reason:G},on())}finally{ne.p=y,P.T=S}}function gw(){}function Wf(r,o,u,f){if(r.tag!==5)throw Error(i(476));var p=Zy(r).queue;Jy(r,p,o,Oe,u===null?gw:function(){return e0(r),u(f)})}function Zy(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:Oe},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function e0(r){var o=Zy(r).next.queue;ea(r,o,{},on())}function Qf(){return Dt(xa)}function t0(){return st().memoizedState}function n0(){return st().memoizedState}function yw(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=on();r=Ui(u);var f=Ii(o,r,u);f!==null&&(Pt(f,o,u),ia(f,o,u)),o={cache:_f()},r.payload=o;return}o=o.return}}function bw(r,o,u){var f=on();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},tu(r)?r0(o,u):(u=kf(r,o,u,f),u!==null&&(Pt(u,r,f),s0(u,o,f)))}function i0(r,o,u){var f=on();ea(r,o,u,f)}function ea(r,o,u,f){var p={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(tu(r))r0(o,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,w=y(S,u);if(p.hasEagerState=!0,p.eagerState=w,tn(w,S))return Vl(r,o,p,0),Ue===null&&Bl(),!1}catch{}finally{}if(u=kf(r,o,p,f),u!==null)return Pt(u,r,f),s0(u,o,f),!0}return!1}function Jf(r,o,u,f){if(f={lane:2,revertLane:Ud(),action:f,hasEagerState:!1,eagerState:null,next:null},tu(r)){if(o)throw Error(i(479))}else o=kf(r,u,f,2),o!==null&&Pt(o,r,2)}function tu(r){var o=r.alternate;return r===Ce||o!==null&&o===Ce}function r0(r,o){Ls=Yl=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function s0(r,o,u){if(u&4194176){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,gg(r,u)}}var In={readContext:Dt,use:Ql,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt};In.useCacheRefresh=nt,In.useMemoCache=nt,In.useHostTransitionStatus=nt,In.useFormState=nt,In.useActionState=nt,In.useOptimistic=nt;var Lr={readContext:Dt,use:Ql,useCallback:function(r,o){return Wt().memoizedState=[r,o===void 0?null:o],r},useContext:Dt,useEffect:$y,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Zl(4194308,4,Ky.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Zl(4194308,4,r,o)},useInsertionEffect:function(r,o){Zl(4,2,r,o)},useMemo:function(r,o){var u=Wt();o=o===void 0?null:o;var f=r();if(zr){Ni(!0);try{r()}finally{Ni(!1)}}return u.memoizedState=[f,o],f},useReducer:function(r,o,u){var f=Wt();if(u!==void 0){var p=u(o);if(zr){Ni(!0);try{u(o)}finally{Ni(!1)}}}else p=o;return f.memoizedState=f.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},f.queue=r,r=r.dispatch=bw.bind(null,Ce,r),[f.memoizedState,r]},useRef:function(r){var o=Wt();return r={current:r},o.memoizedState=r},useState:function(r){r=qf(r);var o=r.queue,u=i0.bind(null,Ce,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:Yf,useDeferredValue:function(r,o){var u=Wt();return Xf(u,r,o)},useTransition:function(){var r=qf(!1);return r=Jy.bind(null,Ce,r.queue,!0,!1),Wt().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var f=Ce,p=Wt();if(Re){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Ue===null)throw Error(i(349));Ne&60||Ay(f,o,u)}p.memoizedState=u;var y={value:u,getSnapshot:o};return p.queue=y,$y(Dy.bind(null,f,y,r),[r]),f.flags|=2048,Vs(9,Oy.bind(null,f,y,u,o),{destroy:void 0},null),u},useId:function(){var r=Wt(),o=Ue.identifierPrefix;if(Re){var u=ri,f=ii;u=(f&~(1<<32-en(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Xl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=dw++,o=":"+o+"r"+u.toString(32)+":";return r.memoizedState=o},useCacheRefresh:function(){return Wt().memoizedState=yw.bind(null,Ce)}};Lr.useMemoCache=If,Lr.useHostTransitionStatus=Qf,Lr.useFormState=Py,Lr.useActionState=Py,Lr.useOptimistic=function(r){var o=Wt();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Jf.bind(null,Ce,!0,u),u.dispatch=o,[r,o]};var Vi={readContext:Dt,use:Ql,useCallback:Xy,useContext:Dt,useEffect:Kf,useImperativeHandle:Yy,useInsertionEffect:qy,useLayoutEffect:Gy,useMemo:Wy,useReducer:Jl,useRef:Fy,useState:function(){return Jl(oi)},useDebugValue:Yf,useDeferredValue:function(r,o){var u=st();return Qy(u,Be.memoizedState,r,o)},useTransition:function(){var r=Jl(oi)[0],o=st().memoizedState;return[typeof r=="boolean"?r:Zo(r),o]},useSyncExternalStore:ky,useId:t0};Vi.useCacheRefresh=n0,Vi.useMemoCache=If,Vi.useHostTransitionStatus=Qf,Vi.useFormState=Hy,Vi.useActionState=Hy,Vi.useOptimistic=function(r,o){var u=st();return jy(u,Be,r,o)};var Br={readContext:Dt,use:Ql,useCallback:Xy,useContext:Dt,useEffect:Kf,useImperativeHandle:Yy,useInsertionEffect:qy,useLayoutEffect:Gy,useMemo:Wy,useReducer:$f,useRef:Fy,useState:function(){return $f(oi)},useDebugValue:Yf,useDeferredValue:function(r,o){var u=st();return Be===null?Xf(u,r,o):Qy(u,Be.memoizedState,r,o)},useTransition:function(){var r=$f(oi)[0],o=st().memoizedState;return[typeof r=="boolean"?r:Zo(r),o]},useSyncExternalStore:ky,useId:t0};Br.useCacheRefresh=n0,Br.useMemoCache=If,Br.useHostTransitionStatus=Qf,Br.useFormState=Iy,Br.useActionState=Iy,Br.useOptimistic=function(r,o){var u=st();return Be!==null?jy(u,Be,r,o):(u.baseState=r,[r,u.queue.dispatch])};function Zf(r,o,u,f){o=r.memoizedState,u=u(f,o),u=u==null?o:X({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var ed={isMounted:function(r){return(r=r._reactInternals)?Z(r)===r:!1},enqueueSetState:function(r,o,u){r=r._reactInternals;var f=on(),p=Ui(f);p.payload=o,u!=null&&(p.callback=u),o=Ii(r,p,f),o!==null&&(Pt(o,r,f),ia(o,r,f))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var f=on(),p=Ui(f);p.tag=1,p.payload=o,u!=null&&(p.callback=u),o=Ii(r,p,f),o!==null&&(Pt(o,r,f),ia(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=on(),f=Ui(u);f.tag=2,o!=null&&(f.callback=o),o=Ii(r,f,u),o!==null&&(Pt(o,r,u),ia(o,r,u))}};function o0(r,o,u,f,p,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,S):o.prototype&&o.prototype.isPureReactComponent?!Uo(u,f)||!Uo(p,y):!0}function a0(r,o,u,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==r&&ed.enqueueReplaceState(o,o.state,null)}function Vr(r,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(r=r.defaultProps){u===o&&(u=X({},u));for(var p in r)u[p]===void 0&&(u[p]=r[p])}return u}var nu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function l0(r){nu(r)}function u0(r){console.error(r)}function c0(r){nu(r)}function iu(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function f0(r,o,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function td(r,o,u){return u=Ui(u),u.tag=3,u.payload={element:null},u.callback=function(){iu(r,o)},u}function d0(r){return r=Ui(r),r.tag=3,r}function h0(r,o,u,f){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var y=f.value;r.payload=function(){return p(y)},r.callback=function(){f0(o,u,f)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){f0(o,u,f),typeof p!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var w=f.stack;this.componentDidCatch(f.value,{componentStack:w!==null?w:""})})}function vw(r,o,u,f,p){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&na(o,u,p,!0),u=yn.current,u!==null){switch(u.tag){case 13:return Un===null?Ld():u.alternate===null&&Je===0&&(Je=3),u.flags&=-257,u.flags|=65536,u.lanes=p,f===Nf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),Vd(r,f,p)),!1;case 22:return u.flags|=65536,f===Nf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),Vd(r,f,p)),!1}throw Error(i(435,u.tag))}return Vd(r,f,p),Ld(),!1}if(Re)return o=yn.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=p,f!==Df&&(r=Error(i(422),{cause:f}),qo(pn(r,u)))):(f!==Df&&(o=Error(i(423),{cause:f}),qo(pn(o,u))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,f=pn(f,u),p=td(r.stateNode,f,p),gd(r,p),Je!==4&&(Je=2)),!1;var y=Error(i(520),{cause:f});if(y=pn(y,u),fa===null?fa=[y]:fa.push(y),Je!==4&&(Je=2),o===null)return!0;f=pn(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=p&-p,u.lanes|=r,r=td(u.stateNode,f,r),gd(u,r),!1;case 1:if(o=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yi===null||!Yi.has(y))))return u.flags|=65536,p&=-p,u.lanes|=p,p=d0(p),h0(p,r,u,f),gd(u,p),!1}u=u.return}while(u!==null);return!1}var p0=Error(i(461)),ht=!1;function Tt(r,o,u,f){o.child=r===null?vy(o,null,u,f):jr(o,r.child,u,f)}function m0(r,o,u,f,p){u=u.render;var y=o.ref;if("ref"in f){var S={};for(var w in f)w!=="ref"&&(S[w]=f[w])}else S=f;return Hr(o),f=Vf(r,o,u,S,y,p),w=Pf(),r!==null&&!ht?(Hf(r,o,p),ai(r,o,p)):(Re&&w&&Af(o),o.flags|=1,Tt(r,o,f,p),o.child)}function g0(r,o,u,f,p){if(r===null){var y=u.type;return typeof y=="function"&&!Cd(y)&&y.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=y,y0(r,o,y,f,p)):(r=lu(u.type,null,f,o,o.mode,p),r.ref=o.ref,r.return=o,o.child=r)}if(y=r.child,!cd(r,p)){var S=y.memoizedProps;if(u=u.compare,u=u!==null?u:Uo,u(S,f)&&r.ref===o.ref)return ai(r,o,p)}return o.flags|=1,r=Gi(y,f),r.ref=o.ref,r.return=o,o.child=r}function y0(r,o,u,f,p){if(r!==null){var y=r.memoizedProps;if(Uo(y,f)&&r.ref===o.ref)if(ht=!1,o.pendingProps=f=y,cd(r,p))r.flags&131072&&(ht=!0);else return o.lanes=r.lanes,ai(r,o,p)}return nd(r,o,u,f,p)}function b0(r,o,u){var f=o.pendingProps,p=f.children,y=(o.stateNode._pendingVisibility&2)!==0,S=r!==null?r.memoizedState:null;if(ta(r,o),f.mode==="hidden"||y){if(o.flags&128){if(f=S!==null?S.baseLanes|u:u,r!==null){for(p=o.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;o.childLanes=y&~f}else o.childLanes=0,o.child=null;return v0(r,o,f,u)}if(u&536870912)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Kl(o,S!==null?S.cachePool:null),S!==null?xy(o,S):Rf(),Sy(o);else return o.lanes=o.childLanes=536870912,v0(r,o,S!==null?S.baseLanes|u:u,u)}else S!==null?(Kl(o,S.cachePool),xy(o,S),Li(),o.memoizedState=null):(r!==null&&Kl(o,null),Rf(),Li());return Tt(r,o,p,u),o.child}function v0(r,o,u,f){var p=Lf();return p=p===null?null:{parent:ft._currentValue,pool:p},o.memoizedState={baseLanes:u,cachePool:p},r!==null&&Kl(o,null),Rf(),Sy(o),r!==null&&na(r,o,f,!0),null}function ta(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=2097664)}}function nd(r,o,u,f,p){return Hr(o),u=Vf(r,o,u,f,void 0,p),f=Pf(),r!==null&&!ht?(Hf(r,o,p),ai(r,o,p)):(Re&&f&&Af(o),o.flags|=1,Tt(r,o,u,p),o.child)}function x0(r,o,u,f,p,y){return Hr(o),o.updateQueue=null,u=My(o,f,u,p),wy(r),f=Pf(),r!==null&&!ht?(Hf(r,o,y),ai(r,o,y)):(Re&&f&&Af(o),o.flags|=1,Tt(r,o,u,y),o.child)}function S0(r,o,u,f,p){if(Hr(o),o.stateNode===null){var y=Os,S=u.contextType;typeof S=="object"&&S!==null&&(y=Dt(S)),y=new u(f,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ed,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=f,y.state=o.memoizedState,y.refs={},pd(o),S=u.contextType,y.context=typeof S=="object"&&S!==null?Dt(S):Os,y.state=o.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(Zf(o,u,S,f),y.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&ed.enqueueReplaceState(y,y.state,null),sa(o,f,y,p),ra(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){y=o.stateNode;var w=o.memoizedProps,O=Vr(u,w);y.props=O;var j=y.context,I=u.contextType;S=Os,typeof I=="object"&&I!==null&&(S=Dt(I));var G=u.getDerivedStateFromProps;I=typeof G=="function"||typeof y.getSnapshotBeforeUpdate=="function",w=o.pendingProps!==w,I||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w||j!==S)&&a0(o,y,f,S),Hi=!1;var V=o.memoizedState;y.state=V,sa(o,f,y,p),ra(),j=o.memoizedState,w||V!==j||Hi?(typeof G=="function"&&(Zf(o,u,G,f),j=o.memoizedState),(O=Hi||o0(o,u,O,f,V,j,S))?(I||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=j),y.props=f,y.state=j,y.context=S,f=O):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{y=o.stateNode,md(r,o),S=o.memoizedProps,I=Vr(u,S),y.props=I,G=o.pendingProps,V=y.context,j=u.contextType,O=Os,typeof j=="object"&&j!==null&&(O=Dt(j)),w=u.getDerivedStateFromProps,(j=typeof w=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==G||V!==O)&&a0(o,y,f,O),Hi=!1,V=o.memoizedState,y.state=V,sa(o,f,y,p),ra();var U=o.memoizedState;S!==G||V!==U||Hi||r!==null&&r.dependencies!==null&&ru(r.dependencies)?(typeof w=="function"&&(Zf(o,u,w,f),U=o.memoizedState),(I=Hi||o0(o,u,I,f,V,U,O)||r!==null&&r.dependencies!==null&&ru(r.dependencies))?(j||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,U,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,U,O)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&V===r.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&V===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=U),y.props=f,y.state=U,y.context=O,f=I):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&V===r.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&V===r.memoizedState||(o.flags|=1024),f=!1)}return y=f,ta(r,o),f=(o.flags&128)!==0,y||f?(y=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,r!==null&&f?(o.child=jr(o,r.child,null,p),o.child=jr(o,null,u,p)):Tt(r,o,u,p),o.memoizedState=y.state,r=o.child):r=ai(r,o,p),r}function T0(r,o,u,f){return $o(),o.flags|=256,Tt(r,o,u,f),o.child}var id={dehydrated:null,treeContext:null,retryLane:0};function rd(r){return{baseLanes:r,cachePool:Cy()}}function sd(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Sn),r}function E0(r,o,u){var f=o.pendingProps,p=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=r!==null&&r.memoizedState===null?!1:(ct.current&2)!==0),S&&(p=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,r===null){if(Re){if(p?zi(o):Li(),Re){var w=St,O;if(O=w){e:{for(O=w,w=Hn;O.nodeType!==8;){if(!w){w=null;break e}if(O=_n(O.nextSibling),O===null){w=null;break e}}w=O}w!==null?(o.memoizedState={dehydrated:w,treeContext:Dr!==null?{id:ii,overflow:ri}:null,retryLane:536870912},O=xn(18,null,null,0),O.stateNode=w,O.return=o,o.child=O,Vt=o,St=null,O=!0):O=!1}O||Rr(o)}if(w=o.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?o.lanes=16:o.lanes=536870912,null;si(o)}return w=f.children,f=f.fallback,p?(Li(),p=o.mode,w=ad({mode:"hidden",children:w},p),f=Ir(f,p,u,null),w.return=o,f.return=o,w.sibling=f,o.child=w,p=o.child,p.memoizedState=rd(u),p.childLanes=sd(r,S,u),o.memoizedState=id,f):(zi(o),od(o,w))}if(O=r.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(y)o.flags&256?(zi(o),o.flags&=-257,o=ld(r,o,u)):o.memoizedState!==null?(Li(),o.child=r.child,o.flags|=128,o=null):(Li(),p=f.fallback,w=o.mode,f=ad({mode:"visible",children:f.children},w),p=Ir(p,w,u,null),p.flags|=2,f.return=o,p.return=o,f.sibling=p,o.child=f,jr(o,r.child,null,u),f=o.child,f.memoizedState=rd(u),f.childLanes=sd(r,S,u),o.memoizedState=id,o=p);else if(zi(o),w.data==="$!"){if(S=w.nextSibling&&w.nextSibling.dataset,S)var j=S.dgst;S=j,f=Error(i(419)),f.stack="",f.digest=S,qo({value:f,source:null,stack:null}),o=ld(r,o,u)}else if(ht||na(r,o,u,!1),S=(u&r.childLanes)!==0,ht||S){if(S=Ue,S!==null){if(f=u&-u,f&42)f=1;else switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=64;break;case 268435456:f=134217728;break;default:f=0}if(f=f&(S.suspendedLanes|u)?0:f,f!==0&&f!==O.retryLane)throw O.retryLane=f,_i(r,f),Pt(S,r,f),p0}w.data==="$?"||Ld(),o=ld(r,o,u)}else w.data==="$?"?(o.flags|=128,o.child=r.child,o=_w.bind(null,r),w._reactRetry=o,o=null):(r=O.treeContext,St=_n(w.nextSibling),Vt=o,Re=!0,Rn=null,Hn=!1,r!==null&&(mn[gn++]=ii,mn[gn++]=ri,mn[gn++]=Dr,ii=r.id,ri=r.overflow,Dr=o),o=od(o,f.children),o.flags|=4096);return o}return p?(Li(),p=f.fallback,w=o.mode,O=r.child,j=O.sibling,f=Gi(O,{mode:"hidden",children:f.children}),f.subtreeFlags=O.subtreeFlags&31457280,j!==null?p=Gi(j,p):(p=Ir(p,w,u,null),p.flags|=2),p.return=o,f.return=o,f.sibling=p,o.child=f,f=p,p=o.child,w=r.child.memoizedState,w===null?w=rd(u):(O=w.cachePool,O!==null?(j=ft._currentValue,O=O.parent!==j?{parent:j,pool:j}:O):O=Cy(),w={baseLanes:w.baseLanes|u,cachePool:O}),p.memoizedState=w,p.childLanes=sd(r,S,u),o.memoizedState=id,f):(zi(o),u=r.child,r=u.sibling,u=Gi(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,r!==null&&(S=o.deletions,S===null?(o.deletions=[r],o.flags|=16):S.push(r)),o.child=u,o.memoizedState=null,u)}function od(r,o){return o=ad({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function ad(r,o){return X0(r,o,0,null)}function ld(r,o,u){return jr(o,r.child,null,u),r=od(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function C0(r,o,u){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),dd(r.return,o,u)}function ud(r,o,u,f,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=p)}function w0(r,o,u){var f=o.pendingProps,p=f.revealOrder,y=f.tail;if(Tt(r,o,f.children,u),f=ct.current,f&2)f=f&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&C0(r,u,o);else if(r.tag===19)C0(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(ge(ct,f),p){case"forwards":for(u=o.child,p=null;u!==null;)r=u.alternate,r!==null&&Gl(r)===null&&(p=u),u=u.sibling;u=p,u===null?(p=o.child,o.child=null):(p=u.sibling,u.sibling=null),ud(o,!1,p,u,y);break;case"backwards":for(u=null,p=o.child,o.child=null;p!==null;){if(r=p.alternate,r!==null&&Gl(r)===null){o.child=p;break}r=p.sibling,p.sibling=u,u=p,p=r}ud(o,!0,u,null,y);break;case"together":ud(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ai(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Ki|=o.lanes,!(u&o.childLanes))if(r!==null){if(na(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=Gi(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=Gi(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function cd(r,o){return r.lanes&o?!0:(r=r.dependencies,!!(r!==null&&ru(r)))}function xw(r,o,u){switch(o.tag){case 3:qe(o,o.stateNode.containerInfo),Pi(o,ft,r.memoizedState.cache),$o();break;case 27:case 5:Ao(o);break;case 4:qe(o,o.stateNode.containerInfo);break;case 10:Pi(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(zi(o),o.flags|=128,null):u&o.child.childLanes?E0(r,o,u):(zi(o),r=ai(r,o,u),r!==null?r.sibling:null);zi(o);break;case 19:var p=(r.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(na(r,o,u,!1),f=(u&o.childLanes)!==0),p){if(f)return w0(r,o,u);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ge(ct,ct.current),f)break;return null;case 22:case 23:return o.lanes=0,b0(r,o,u);case 24:Pi(o,ft,r.memoizedState.cache)}return ai(r,o,u)}function M0(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)ht=!0;else{if(!cd(r,u)&&!(o.flags&128))return ht=!1,xw(r,o,u);ht=!!(r.flags&131072)}else ht=!1,Re&&o.flags&1048576&&cy(o,Ul,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var f=o.elementType,p=f._init;if(f=p(f._payload),o.type=f,typeof f=="function")Cd(f)?(r=Vr(f,r),o.tag=1,o=S0(null,o,f,r,u)):(o.tag=0,o=nd(null,o,f,r,u));else{if(f!=null){if(p=f.$$typeof,p===x){o.tag=11,o=m0(null,o,f,r,u);break e}else if(p===M){o.tag=14,o=g0(null,o,f,r,u);break e}}throw o=$(f)||f,Error(i(306,o,""))}}return o;case 0:return nd(r,o,o.type,o.pendingProps,u);case 1:return f=o.type,p=Vr(f,o.pendingProps),S0(r,o,f,p,u);case 3:e:{if(qe(o,o.stateNode.containerInfo),r===null)throw Error(i(387));var y=o.pendingProps;p=o.memoizedState,f=p.element,md(r,o),sa(o,y,null,u);var S=o.memoizedState;if(y=S.cache,Pi(o,ft,y),y!==p.cache&&hd(o,[ft],u,!0),ra(),y=S.element,p.isDehydrated)if(p={element:y,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=p,o.memoizedState=p,o.flags&256){o=T0(r,o,y,u);break e}else if(y!==f){f=pn(Error(i(424)),o),qo(f),o=T0(r,o,y,u);break e}else for(St=_n(o.stateNode.containerInfo.firstChild),Vt=o,Re=!0,Rn=null,Hn=!0,u=vy(o,null,y,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if($o(),y===f){o=ai(r,o,u);break e}Tt(r,o,y,u)}o=o.child}return o;case 26:return ta(r,o),r===null?(u=O1(o.type,null,o.pendingProps,null))?o.memoizedState=u:Re||(u=o.type,r=o.pendingProps,f=xu(ut.current).createElement(u),f[Ot]=o,f[Yt]=r,Et(f,u,r),dt(f),o.stateNode=f):o.memoizedState=O1(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Ao(o),r===null&&Re&&(f=o.stateNode=M1(o.type,o.pendingProps,ut.current),Vt=o,Hn=!0,St=_n(f.firstChild)),f=o.pendingProps.children,r!==null||Re?Tt(r,o,f,u):o.child=jr(o,null,f,u),ta(r,o),o.child;case 5:return r===null&&Re&&((p=f=St)&&(f=Ww(f,o.type,o.pendingProps,Hn),f!==null?(o.stateNode=f,Vt=o,St=_n(f.firstChild),Hn=!1,p=!0):p=!1),p||Rr(o)),Ao(o),p=o.type,y=o.pendingProps,S=r!==null?r.memoizedProps:null,f=y.children,Wd(p,y)?f=null:S!==null&&Wd(p,S)&&(o.flags|=32),o.memoizedState!==null&&(p=Vf(r,o,hw,null,null,u),xa._currentValue=p),ta(r,o),Tt(r,o,f,u),o.child;case 6:return r===null&&Re&&((r=u=St)&&(u=Qw(u,o.pendingProps,Hn),u!==null?(o.stateNode=u,Vt=o,St=null,r=!0):r=!1),r||Rr(o)),null;case 13:return E0(r,o,u);case 4:return qe(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=jr(o,null,f,u):Tt(r,o,f,u),o.child;case 11:return m0(r,o,o.type,o.pendingProps,u);case 7:return Tt(r,o,o.pendingProps,u),o.child;case 8:return Tt(r,o,o.pendingProps.children,u),o.child;case 12:return Tt(r,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Pi(o,o.type,f.value),Tt(r,o,f.children,u),o.child;case 9:return p=o.type._context,f=o.pendingProps.children,Hr(o),p=Dt(p),f=f(p),o.flags|=1,Tt(r,o,f,u),o.child;case 14:return g0(r,o,o.type,o.pendingProps,u);case 15:return y0(r,o,o.type,o.pendingProps,u);case 19:return w0(r,o,u);case 22:return b0(r,o,u);case 24:return Hr(o),f=Dt(ft),r===null?(p=Lf(),p===null&&(p=Ue,y=_f(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=u),p=y),o.memoizedState={parent:f,cache:p},pd(o),Pi(o,ft,p)):(r.lanes&u&&(md(r,o),sa(o,null,null,u),ra()),p=r.memoizedState,y=o.memoizedState,p.parent!==f?(p={parent:f,cache:f},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),Pi(o,ft,f)):(f=y.cache,Pi(o,ft,f),f!==p.cache&&hd(o,[ft],u,!0))),Tt(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}var fd=ie(null),Pr=null,li=null;function Pi(r,o,u){ge(fd,o._currentValue),o._currentValue=u}function ui(r){r._currentValue=fd.current,le(fd)}function dd(r,o,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===u)break;r=r.return}}function hd(r,o,u,f){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var S=p.child;y=y.firstContext;e:for(;y!==null;){var w=y;y=p;for(var O=0;O<o.length;O++)if(w.context===o[O]){y.lanes|=u,w=y.alternate,w!==null&&(w.lanes|=u),dd(y.return,u,r),f||(S=null);break e}y=w.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(i(341));S.lanes|=u,y=S.alternate,y!==null&&(y.lanes|=u),dd(S,u,r),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===r){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function na(r,o,u,f){r=null;for(var p=o,y=!1;p!==null;){if(!y){if(p.flags&524288)y=!0;else if(p.flags&262144)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var w=p.type;tn(p.pendingProps.value,S.value)||(r!==null?r.push(w):r=[w])}}else if(p===Kt.current){if(S=p.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(xa):r=[xa])}p=p.return}r!==null&&hd(o,r,u,f),o.flags|=262144}function ru(r){for(r=r.firstContext;r!==null;){if(!tn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Hr(r){Pr=r,li=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Dt(r){return k0(Pr,r)}function su(r,o){return Pr===null&&Hr(r),k0(r,o)}function k0(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},li===null){if(r===null)throw Error(i(308));li=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else li=li.next=o;return u}var Hi=!1;function pd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ui(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ii(r,o,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,Ke&2){var p=f.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),f.pending=o,o=Pl(r),ly(r,null,u),o}return Vl(r,f,o,u),Pl(r)}function ia(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194176)!==0)){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,gg(r,u)}}function gd(r,o){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?p=y=S:y=y.next=S,u=u.next}while(u!==null);y===null?p=y=o:y=y.next=o}else p=y=o;u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var yd=!1;function ra(){if(yd){var r=zs;if(r!==null)throw r}}function sa(r,o,u,f){yd=!1;var p=r.updateQueue;Hi=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,w=p.shared.pending;if(w!==null){p.shared.pending=null;var O=w,j=O.next;O.next=null,S===null?y=j:S.next=j,S=O;var I=r.alternate;I!==null&&(I=I.updateQueue,w=I.lastBaseUpdate,w!==S&&(w===null?I.firstBaseUpdate=j:w.next=j,I.lastBaseUpdate=O))}if(y!==null){var G=p.baseState;S=0,I=j=O=null,w=y;do{var V=w.lane&-536870913,U=V!==w.lane;if(U?(Ne&V)===V:(f&V)===V){V!==0&&V===_s&&(yd=!0),I!==null&&(I=I.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ue=r,be=w;V=o;var Ze=u;switch(be.tag){case 1:if(ue=be.payload,typeof ue=="function"){G=ue.call(Ze,G,V);break e}G=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=be.payload,V=typeof ue=="function"?ue.call(Ze,G,V):ue,V==null)break e;G=X({},G,V);break e;case 2:Hi=!0}}V=w.callback,V!==null&&(r.flags|=64,U&&(r.flags|=8192),U=p.callbacks,U===null?p.callbacks=[V]:U.push(V))}else U={lane:V,tag:w.tag,payload:w.payload,callback:w.callback,next:null},I===null?(j=I=U,O=G):I=I.next=U,S|=V;if(w=w.next,w===null){if(w=p.shared.pending,w===null)break;U=w,w=U.next,U.next=null,p.lastBaseUpdate=U,p.shared.pending=null}}while(!0);I===null&&(O=G),p.baseState=O,p.firstBaseUpdate=j,p.lastBaseUpdate=I,y===null&&(p.shared.lanes=0),Ki|=S,r.lanes=S,r.memoizedState=G}}function A0(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function O0(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)A0(u[r],o)}function oa(r,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&r)===r){f=void 0;var y=u.create,S=u.inst;f=y(),S.destroy=f}u=u.next}while(u!==p)}}catch(w){Pe(o,o.return,w)}}function Fi(r,o,u){try{var f=o.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&r)===r){var S=f.inst,w=S.destroy;if(w!==void 0){S.destroy=void 0,p=o;var O=u;try{w()}catch(j){Pe(p,O,j)}}}f=f.next}while(f!==y)}}catch(j){Pe(o,o.return,j)}}function D0(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{O0(o,u)}catch(f){Pe(r,r.return,f)}}}function N0(r,o,u){u.props=Vr(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){Pe(r,o,f)}}function Ur(r,o){try{var u=r.ref;if(u!==null){var f=r.stateNode;switch(r.tag){case 26:case 27:case 5:var p=f;break;default:p=f}typeof u=="function"?r.refCleanup=u(p):u.current=p}}catch(y){Pe(r,o,y)}}function nn(r,o){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(p){Pe(r,o,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){Pe(r,o,p)}else u.current=null}function R0(r){var o=r.type,u=r.memoizedProps,f=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(p){Pe(r,r.return,p)}}function j0(r,o,u){try{var f=r.stateNode;qw(f,r.type,u,o),f[Yt]=o}catch(p){Pe(r,r.return,p)}}function _0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function bd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vd(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(r,o):u.insertBefore(r,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(r,u)):(o=u,o.appendChild(r)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=vu));else if(f!==4&&f!==27&&(r=r.child,r!==null))for(vd(r,o,u),r=r.sibling;r!==null;)vd(r,o,u),r=r.sibling}function ou(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(f!==4&&f!==27&&(r=r.child,r!==null))for(ou(r,o,u),r=r.sibling;r!==null;)ou(r,o,u),r=r.sibling}var ci=!1,Qe=!1,xd=!1,z0=typeof WeakSet=="function"?WeakSet:Set,pt=null,L0=!1;function Sw(r,o){if(r=r.containerInfo,Yd=Mu,r=Zg(r),Tf(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var S=0,w=-1,O=-1,j=0,I=0,G=r,V=null;t:for(;;){for(var U;G!==u||p!==0&&G.nodeType!==3||(w=S+p),G!==y||f!==0&&G.nodeType!==3||(O=S+f),G.nodeType===3&&(S+=G.nodeValue.length),(U=G.firstChild)!==null;)V=G,G=U;for(;;){if(G===r)break t;if(V===u&&++j===p&&(w=S),V===y&&++I===f&&(O=S),(U=G.nextSibling)!==null)break;G=V,V=G.parentNode}G=U}u=w===-1||O===-1?null:{start:w,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(Xd={focusedElem:r,selectionRange:u},Mu=!1,pt=o;pt!==null;)if(o=pt,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,pt=r;else for(;pt!==null;){switch(o=pt,y=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&y!==null){r=void 0,u=o,p=y.memoizedProps,y=y.memoizedState,f=u.stateNode;try{var ue=Vr(u.type,p,u.elementType===u.type);r=f.getSnapshotBeforeUpdate(ue,y),f.__reactInternalSnapshotBeforeUpdate=r}catch(be){Pe(u,u.return,be)}}break;case 3:if(r&1024){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)Zd(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Zd(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,pt=r;break}pt=o.return}return ue=L0,L0=!1,ue}function B0(r,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:di(r,u),f&4&&oa(5,u);break;case 1:if(di(r,u),f&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(w){Pe(u,u.return,w)}else{var p=Vr(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(p,o,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Pe(u,u.return,w)}}f&64&&D0(u),f&512&&Ur(u,u.return);break;case 3:if(di(r,u),f&64&&(f=u.updateQueue,f!==null)){if(r=null,u.child!==null)switch(u.child.tag){case 27:case 5:r=u.child.stateNode;break;case 1:r=u.child.stateNode}try{O0(f,r)}catch(w){Pe(u,u.return,w)}}break;case 26:di(r,u),f&512&&Ur(u,u.return);break;case 27:case 5:di(r,u),o===null&&f&4&&R0(u),f&512&&Ur(u,u.return);break;case 12:di(r,u);break;case 13:di(r,u),f&4&&H0(r,u);break;case 22:if(p=u.memoizedState!==null||ci,!p){o=o!==null&&o.memoizedState!==null||Qe;var y=ci,S=Qe;ci=p,(Qe=o)&&!S?$i(r,u,(u.subtreeFlags&8772)!==0):di(r,u),ci=y,Qe=S}f&512&&(u.memoizedProps.mode==="manual"?Ur(u,u.return):nn(u,u.return));break;default:di(r,u)}}function V0(r){var o=r.alternate;o!==null&&(r.alternate=null,V0(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&of(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ot=null,rn=!1;function fi(r,o,u){for(u=u.child;u!==null;)P0(r,o,u),u=u.sibling}function P0(r,o,u){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Oo,u)}catch{}switch(u.tag){case 26:Qe||nn(u,o),fi(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Qe||nn(u,o);var f=ot,p=rn;for(ot=u.stateNode,fi(r,o,u),u=u.stateNode,o=u.attributes;o.length;)u.removeAttributeNode(o[0]);of(u),ot=f,rn=p;break;case 5:Qe||nn(u,o);case 6:p=ot;var y=rn;if(ot=null,fi(r,o,u),ot=p,rn=y,ot!==null)if(rn)try{r=ot,f=u.stateNode,r.nodeType===8?r.parentNode.removeChild(f):r.removeChild(f)}catch(S){Pe(u,o,S)}else try{ot.removeChild(u.stateNode)}catch(S){Pe(u,o,S)}break;case 18:ot!==null&&(rn?(o=ot,u=u.stateNode,o.nodeType===8?Jd(o.parentNode,u):o.nodeType===1&&Jd(o,u),Ca(o)):Jd(ot,u.stateNode));break;case 4:f=ot,p=rn,ot=u.stateNode.containerInfo,rn=!0,fi(r,o,u),ot=f,rn=p;break;case 0:case 11:case 14:case 15:Qe||Fi(2,u,o),Qe||Fi(4,u,o),fi(r,o,u);break;case 1:Qe||(nn(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&N0(u,o,f)),fi(r,o,u);break;case 21:fi(r,o,u);break;case 22:Qe||nn(u,o),Qe=(f=Qe)||u.memoizedState!==null,fi(r,o,u),Qe=f;break;default:fi(r,o,u)}}function H0(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ca(r)}catch(u){Pe(o,o.return,u)}}function Tw(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new z0),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new z0),o;default:throw Error(i(435,r.tag))}}function Sd(r,o){var u=Tw(r);o.forEach(function(f){var p=zw.bind(null,r,f);u.has(f)||(u.add(f),f.then(p,p))})}function bn(r,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f],y=r,S=o,w=S;e:for(;w!==null;){switch(w.tag){case 27:case 5:ot=w.stateNode,rn=!1;break e;case 3:ot=w.stateNode.containerInfo,rn=!0;break e;case 4:ot=w.stateNode.containerInfo,rn=!0;break e}w=w.return}if(ot===null)throw Error(i(160));P0(y,S,p),ot=null,rn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)U0(o,r),o=o.sibling}var jn=null;function U0(r,o){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:bn(o,r),vn(r),f&4&&(Fi(3,r,r.return),oa(3,r),Fi(5,r,r.return));break;case 1:bn(o,r),vn(r),f&512&&(Qe||u===null||nn(u,u.return)),f&64&&ci&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var p=jn;if(bn(o,r),vn(r),f&512&&(Qe||u===null||nn(u,u.return)),f&4){var y=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){e:{f=r.type,u=r.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ro]||y[Ot]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(f),p.head.insertBefore(y,p.querySelector("head > title"))),Et(y,f,u),y[Ot]=r,dt(y),f=y;break e;case"link":var S=R1("link","href",p).get(f+(u.href||""));if(S){for(var w=0;w<S.length;w++)if(y=S[w],y.getAttribute("href")===(u.href==null?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(w,1);break t}}y=p.createElement(f),Et(y,f,u),p.head.appendChild(y);break;case"meta":if(S=R1("meta","content",p).get(f+(u.content||""))){for(w=0;w<S.length;w++)if(y=S[w],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(w,1);break t}}y=p.createElement(f),Et(y,f,u),p.head.appendChild(y);break;default:throw Error(i(468,f))}y[Ot]=r,dt(y),f=y}r.stateNode=f}else j1(p,r.type,r.stateNode);else r.stateNode=N1(p,f,r.memoizedProps);else y!==f?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,f===null?j1(p,r.type,r.stateNode):N1(p,f,r.memoizedProps)):f===null&&r.stateNode!==null&&j0(r,r.memoizedProps,u.memoizedProps)}break;case 27:if(f&4&&r.alternate===null){p=r.stateNode,y=r.memoizedProps;try{for(var O=p.firstChild;O;){var j=O.nextSibling,I=O.nodeName;O[Ro]||I==="HEAD"||I==="BODY"||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&O.rel.toLowerCase()==="stylesheet"||p.removeChild(O),O=j}for(var G=r.type,V=p.attributes;V.length;)p.removeAttributeNode(V[0]);Et(p,G,y),p[Ot]=r,p[Yt]=y}catch(ue){Pe(r,r.return,ue)}}case 5:if(bn(o,r),vn(r),f&512&&(Qe||u===null||nn(u,u.return)),r.flags&32){p=r.stateNode;try{Ts(p,"")}catch(ue){Pe(r,r.return,ue)}}f&4&&r.stateNode!=null&&(p=r.memoizedProps,j0(r,p,u!==null?u.memoizedProps:p)),f&1024&&(xd=!0);break;case 6:if(bn(o,r),vn(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(ue){Pe(r,r.return,ue)}}break;case 3:if(Eu=null,p=jn,jn=Su(o.containerInfo),bn(o,r),jn=p,vn(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ca(o.containerInfo)}catch(ue){Pe(r,r.return,ue)}xd&&(xd=!1,I0(r));break;case 4:f=jn,jn=Su(r.stateNode.containerInfo),bn(o,r),vn(r),jn=f;break;case 12:bn(o,r),vn(r);break;case 13:bn(o,r),vn(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Dd=Pn()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Sd(r,f)));break;case 22:if(f&512&&(Qe||u===null||nn(u,u.return)),O=r.memoizedState!==null,j=u!==null&&u.memoizedState!==null,I=ci,G=Qe,ci=I||O,Qe=G||j,bn(o,r),Qe=G,ci=I,vn(r),o=r.stateNode,o._current=r,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,f&8192&&(o._visibility=O?o._visibility&-2:o._visibility|1,O&&(o=ci||Qe,u===null||j||o||Ps(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(u=null,o=r;;){if(o.tag===5||o.tag===26||o.tag===27){if(u===null){j=u=o;try{if(p=j.stateNode,O)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=j.stateNode,w=j.memoizedProps.style;var U=w!=null&&w.hasOwnProperty("display")?w.display:null;S.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ue){Pe(j,j.return,ue)}}}else if(o.tag===6){if(u===null){j=o;try{j.stateNode.nodeValue=O?"":j.memoizedProps}catch(ue){Pe(j,j.return,ue)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Sd(r,u))));break;case 19:bn(o,r),vn(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Sd(r,f)));break;case 21:break;default:bn(o,r),vn(r)}}function vn(r){var o=r.flags;if(o&2){try{if(r.tag!==27){e:{for(var u=r.return;u!==null;){if(_0(u)){var f=u;break e}u=u.return}throw Error(i(160))}switch(f.tag){case 27:var p=f.stateNode,y=bd(r);ou(r,y,p);break;case 5:var S=f.stateNode;f.flags&32&&(Ts(S,""),f.flags&=-33);var w=bd(r);ou(r,w,S);break;case 3:case 4:var O=f.stateNode.containerInfo,j=bd(r);vd(r,j,O);break;default:throw Error(i(161))}}}catch(I){Pe(r,r.return,I)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function I0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;I0(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function di(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)B0(r,o.alternate,o),o=o.sibling}function Ps(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Fi(4,o,o.return),Ps(o);break;case 1:nn(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&N0(o,o.return,u),Ps(o);break;case 26:case 27:case 5:nn(o,o.return),Ps(o);break;case 22:nn(o,o.return),o.memoizedState===null&&Ps(o);break;default:Ps(o)}r=r.sibling}}function $i(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,p=r,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:$i(p,y,u),oa(4,y);break;case 1:if($i(p,y,u),f=y,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(j){Pe(f,f.return,j)}if(f=y,p=f.updateQueue,p!==null){var w=f.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)A0(O[p],w)}catch(j){Pe(f,f.return,j)}}u&&S&64&&D0(y),Ur(y,y.return);break;case 26:case 27:case 5:$i(p,y,u),u&&f===null&&S&4&&R0(y),Ur(y,y.return);break;case 12:$i(p,y,u);break;case 13:$i(p,y,u),u&&S&4&&H0(p,y);break;case 22:y.memoizedState===null&&$i(p,y,u),Ur(y,y.return);break;default:$i(p,y,u)}o=o.sibling}}function Td(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Wo(u))}function Ed(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Wo(r))}function qi(r,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)F0(r,o,u,f),o=o.sibling}function F0(r,o,u,f){var p=o.flags;switch(o.tag){case 0:case 11:case 15:qi(r,o,u,f),p&2048&&oa(9,o);break;case 3:qi(r,o,u,f),p&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Wo(r)));break;case 12:if(p&2048){qi(r,o,u,f),r=o.stateNode;try{var y=o.memoizedProps,S=y.id,w=y.onPostCommit;typeof w=="function"&&w(S,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){Pe(o,o.return,O)}}else qi(r,o,u,f);break;case 23:break;case 22:y=o.stateNode,o.memoizedState!==null?y._visibility&4?qi(r,o,u,f):aa(r,o):y._visibility&4?qi(r,o,u,f):(y._visibility|=4,Hs(r,o,u,f,(o.subtreeFlags&10256)!==0)),p&2048&&Td(o.alternate,o);break;case 24:qi(r,o,u,f),p&2048&&Ed(o.alternate,o);break;default:qi(r,o,u,f)}}function Hs(r,o,u,f,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=r,S=o,w=u,O=f,j=S.flags;switch(S.tag){case 0:case 11:case 15:Hs(y,S,w,O,p),oa(8,S);break;case 23:break;case 22:var I=S.stateNode;S.memoizedState!==null?I._visibility&4?Hs(y,S,w,O,p):aa(y,S):(I._visibility|=4,Hs(y,S,w,O,p)),p&&j&2048&&Td(S.alternate,S);break;case 24:Hs(y,S,w,O,p),p&&j&2048&&Ed(S.alternate,S);break;default:Hs(y,S,w,O,p)}o=o.sibling}}function aa(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,f=o,p=f.flags;switch(f.tag){case 22:aa(u,f),p&2048&&Td(f.alternate,f);break;case 24:aa(u,f),p&2048&&Ed(f.alternate,f);break;default:aa(u,f)}o=o.sibling}}var la=8192;function Us(r){if(r.subtreeFlags&la)for(r=r.child;r!==null;)$0(r),r=r.sibling}function $0(r){switch(r.tag){case 26:Us(r),r.flags&la&&r.memoizedState!==null&&cM(jn,r.memoizedState,r.memoizedProps);break;case 5:Us(r);break;case 3:case 4:var o=jn;jn=Su(r.stateNode.containerInfo),Us(r),jn=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=la,la=16777216,Us(r),la=o):Us(r));break;default:Us(r)}}function q0(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function ua(r){var o=r.deletions;if(r.flags&16){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];pt=f,K0(f,r)}q0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)G0(r),r=r.sibling}function G0(r){switch(r.tag){case 0:case 11:case 15:ua(r),r.flags&2048&&Fi(9,r,r.return);break;case 3:ua(r);break;case 12:ua(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&4&&(r.return===null||r.return.tag!==13)?(o._visibility&=-5,au(r)):ua(r);break;default:ua(r)}}function au(r){var o=r.deletions;if(r.flags&16){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];pt=f,K0(f,r)}q0(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Fi(8,o,o.return),au(o);break;case 22:u=o.stateNode,u._visibility&4&&(u._visibility&=-5,au(o));break;default:au(o)}r=r.sibling}}function K0(r,o){for(;pt!==null;){var u=pt;switch(u.tag){case 0:case 11:case 15:Fi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Wo(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,pt=f;else e:for(u=r;pt!==null;){f=pt;var p=f.sibling,y=f.return;if(V0(f),f===u){pt=null;break e}if(p!==null){p.return=y,pt=p;break e}pt=y}}}function Ew(r,o,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(r,o,u,f){return new Ew(r,o,u,f)}function Cd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Gi(r,o){var u=r.alternate;return u===null?(u=xn(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&31457280,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Y0(r,o){r.flags&=31457282;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function lu(r,o,u,f,p,y){var S=0;if(f=r,typeof r=="function")Cd(r)&&(S=1);else if(typeof r=="string")S=lM(r,u,We.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case d:return Ir(u.children,p,y,o);case h:S=8,p|=24;break;case m:return r=xn(12,u,o,p|2),r.elementType=m,r.lanes=y,r;case E:return r=xn(13,u,o,p),r.elementType=E,r.lanes=y,r;case C:return r=xn(19,u,o,p),r.elementType=C,r.lanes=y,r;case D:return X0(u,p,y,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case g:case v:S=10;break e;case b:S=9;break e;case x:S=11;break e;case M:S=14;break e;case k:S=16,f=null;break e}S=29,u=Error(i(130,r===null?"null":typeof r,"")),f=null}return o=xn(S,u,o,p),o.elementType=r,o.type=f,o.lanes=y,o}function Ir(r,o,u,f){return r=xn(7,r,f,o),r.lanes=u,r}function X0(r,o,u,f){r=xn(22,r,f,o),r.elementType=D,r.lanes=u;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=p._current;if(y===null)throw Error(i(456));if(!(p._pendingVisibility&2)){var S=_i(y,2);S!==null&&(p._pendingVisibility|=2,Pt(S,y,2))}},attach:function(){var y=p._current;if(y===null)throw Error(i(456));if(p._pendingVisibility&2){var S=_i(y,2);S!==null&&(p._pendingVisibility&=-3,Pt(S,y,2))}}};return r.stateNode=p,r}function wd(r,o,u){return r=xn(6,r,null,o),r.lanes=u,r}function Md(r,o,u){return o=xn(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function hi(r){r.flags|=4}function W0(r,o){if(o.type!=="stylesheet"||o.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!_1(o)){if(o=yn.current,o!==null&&((Ne&4194176)===Ne?Un!==null:(Ne&62914560)!==Ne&&!(Ne&536870912)||o!==Un))throw Ko=Nf,hy;r.flags|=8192}}function uu(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?pg():536870912,r.lanes|=o,Fs|=o)}function ca(r,o){if(!Re)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Ge(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(o)for(var p=r.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags&31457280,f|=p.flags&31457280,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=u,o}function Cw(r,o,u){var f=o.pendingProps;switch(Of(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(o),null;case 1:return Ge(o),null;case 3:return u=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),ui(ft),ei(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Fo(o)?hi(o):r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Rn!==null&&(_d(Rn),Rn=null))),Ge(o),null;case 26:return u=o.memoizedState,r===null?(hi(o),u!==null?(Ge(o),W0(o,u)):(Ge(o),o.flags&=-16777217)):u?u!==r.memoizedState?(hi(o),Ge(o),W0(o,u)):(Ge(o),o.flags&=-16777217):(r.memoizedProps!==f&&hi(o),Ge(o),o.flags&=-16777217),null;case 27:Er(o),u=ut.current;var p=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&hi(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ge(o),null}r=We.current,Fo(o)?fy(o):(r=M1(p,f,u),o.stateNode=r,hi(o))}return Ge(o),null;case 5:if(Er(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&hi(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ge(o),null}if(r=We.current,Fo(o))fy(o);else{switch(p=xu(ut.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?p.createElement(u,{is:f.is}):p.createElement(u)}}r[Ot]=o,r[Yt]=f;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=r;e:switch(Et(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&hi(o)}}return Ge(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&hi(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(r=ut.current,Fo(o)){if(r=o.stateNode,u=o.memoizedProps,f=null,p=Vt,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}r[Ot]=o,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||x1(r.nodeValue,u)),r||Rr(o)}else r=xu(r).createTextNode(f),r[Ot]=o,o.stateNode=r}return Ge(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Fo(o),f!==null&&f.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ot]=o}else $o(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Ge(o),p=!1}else Rn!==null&&(_d(Rn),Rn=null),p=!0;if(!p)return o.flags&256?(si(o),o):(si(o),null)}if(si(o),o.flags&128)return o.lanes=u,o;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=o.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),uu(o,o.updateQueue),Ge(o),null;case 4:return ei(),r===null&&qd(o.stateNode.containerInfo),Ge(o),null;case 10:return ui(o.type),Ge(o),null;case 19:if(le(ct),p=o.memoizedState,p===null)return Ge(o),null;if(f=(o.flags&128)!==0,y=p.rendering,y===null)if(f)ca(p,!1);else{if(Je!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(y=Gl(r),y!==null){for(o.flags|=128,ca(p,!1),r=y.updateQueue,o.updateQueue=r,uu(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)Y0(u,r),u=u.sibling;return ge(ct,ct.current&1|2),o.child}r=r.sibling}p.tail!==null&&Pn()>cu&&(o.flags|=128,f=!0,ca(p,!1),o.lanes=4194304)}else{if(!f)if(r=Gl(y),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,uu(o,r),ca(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Re)return Ge(o),null}else 2*Pn()-p.renderingStartTime>cu&&u!==536870912&&(o.flags|=128,f=!0,ca(p,!1),o.lanes=4194304);p.isBackwards?(y.sibling=o.child,o.child=y):(r=p.last,r!==null?r.sibling=y:o.child=y,p.last=y)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Pn(),o.sibling=null,r=ct.current,ge(ct,f?r&1|2:r&1),o):(Ge(o),null);case 22:case 23:return si(o),jf(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?u&536870912&&!(o.flags&128)&&(Ge(o),o.subtreeFlags&6&&(o.flags|=8192)):Ge(o),u=o.updateQueue,u!==null&&uu(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),r!==null&&le(_r),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ui(ft),Ge(o),null;case 25:return null}throw Error(i(156,o.tag))}function ww(r,o){switch(Of(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return ui(ft),ei(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Er(o),null;case 13:if(si(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));$o()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return le(ct),null;case 4:return ei(),null;case 10:return ui(o.type),null;case 22:case 23:return si(o),jf(),r!==null&&le(_r),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return ui(ft),null;case 25:return null;default:return null}}function Q0(r,o){switch(Of(o),o.tag){case 3:ui(ft),ei();break;case 26:case 27:case 5:Er(o);break;case 4:ei();break;case 13:si(o);break;case 19:le(ct);break;case 10:ui(o.type);break;case 22:case 23:si(o),jf(),r!==null&&le(_r);break;case 24:ui(ft)}}var Mw={getCacheForType:function(r){var o=Dt(ft),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},kw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,Ue=null,Ae=null,Ne=0,Ie=0,sn=null,pi=!1,Is=!1,kd=!1,mi=0,Je=0,Ki=0,Fr=0,Ad=0,Sn=0,Fs=0,fa=null,Fn=null,Od=!1,Dd=0,cu=1/0,fu=null,Yi=null,du=!1,$r=null,da=0,Nd=0,Rd=null,ha=0,jd=null;function on(){if(Ke&2&&Ne!==0)return Ne&-Ne;if(P.T!==null){var r=_s;return r!==0?r:Ud()}return bg()}function J0(){Sn===0&&(Sn=!(Ne&536870912)||Re?hg():536870912);var r=yn.current;return r!==null&&(r.flags|=32),Sn}function Pt(r,o,u){(r===Ue&&Ie===2||r.cancelPendingCommit!==null)&&($s(r,0),gi(r,Ne,Sn,!1)),No(r,u),(!(Ke&2)||r!==Ue)&&(r===Ue&&(!(Ke&2)&&(Fr|=u),Je===4&&gi(r,Ne,Sn,!1)),$n(r))}function Z0(r,o,u){if(Ke&6)throw Error(i(327));var f=!u&&(o&60)===0&&(o&r.expiredLanes)===0||Do(r,o),p=f?Dw(r,o):Bd(r,o,!0),y=f;do{if(p===0){Is&&!f&&gi(r,o,0,!1);break}else if(p===6)gi(r,o,0,!pi);else{if(u=r.current.alternate,y&&!Aw(u)){p=Bd(r,o,!1),y=!1;continue}if(p===2){if(y=o,r.errorRecoveryDisabledLanes&y)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var w=r;p=fa;var O=w.current.memoizedState.isDehydrated;if(O&&($s(w,S).flags|=256),S=Bd(w,S,!1),S!==2){if(kd&&!O){w.errorRecoveryDisabledLanes|=y,Fr|=y,p=4;break e}y=Fn,Fn=p,y!==null&&_d(y)}p=S}if(y=!1,p!==2)continue}}if(p===1){$s(r,0),gi(r,o,0,!0);break}e:{switch(f=r,p){case 0:case 1:throw Error(i(345));case 4:if((o&4194176)===o){gi(f,o,Sn,!pi);break e}break;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if(f.finishedWork=u,f.finishedLanes=o,(o&62914560)===o&&(y=Dd+300-Pn(),10<y)){if(gi(f,o,Sn,!pi),wl(f,0)!==0)break e;f.timeoutHandle=E1(e1.bind(null,f,u,Fn,fu,Od,o,Sn,Fr,Fs,pi,2,-0,0),y);break e}e1(f,u,Fn,fu,Od,o,Sn,Fr,Fs,pi,0,-0,0)}}break}while(!0);$n(r)}function _d(r){Fn===null?Fn=r:Fn.push.apply(Fn,r)}function e1(r,o,u,f,p,y,S,w,O,j,I,G,V){var U=o.subtreeFlags;if((U&8192||(U&16785408)===16785408)&&(va={stylesheets:null,count:0,unsuspend:uM},$0(o),o=fM(),o!==null)){r.cancelPendingCommit=o(a1.bind(null,r,u,f,p,S,w,O,1,G,V)),gi(r,y,S,!j);return}a1(r,u,f,p,S,w,O,I,G,V)}function Aw(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var p=u[f],y=p.getSnapshot;p=p.value;try{if(!tn(y(),p))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function gi(r,o,u,f){o&=~Ad,o&=~Fr,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var p=o;0<p;){var y=31-en(p),S=1<<y;f[y]=-1,p&=~S}u!==0&&mg(r,u,o)}function hu(){return Ke&6?!0:(pa(0),!1)}function zd(){if(Ae!==null){if(Ie===0)var r=Ae.return;else r=Ae,li=Pr=null,Uf(r),Rs=null,Yo=0,r=Ae;for(;r!==null;)Q0(r.alternate,r),r=r.return;Ae=null}}function $s(r,o){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,Kw(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),zd(),Ue=r,Ae=u=Gi(r.current,null),Ne=o,Ie=0,sn=null,pi=!1,Is=Do(r,o),kd=!1,Fs=Sn=Ad=Fr=Ki=Je=0,Fn=fa=null,Od=!1,o&8&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var p=31-en(f),y=1<<p;o|=r[p],f&=~y}return mi=o,Bl(),u}function t1(r,o){Ce=null,P.H=In,o===Go?(o=gy(),Ie=3):o===hy?(o=gy(),Ie=4):Ie=o===p0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,sn=o,Ae===null&&(Je=1,iu(r,pn(o,r.current)))}function n1(){var r=P.H;return P.H=In,r===null?In:r}function i1(){var r=P.A;return P.A=Mw,r}function Ld(){Je=4,pi||(Ne&4194176)!==Ne&&yn.current!==null||(Is=!0),!(Ki&134217727)&&!(Fr&134217727)||Ue===null||gi(Ue,Ne,Sn,!1)}function Bd(r,o,u){var f=Ke;Ke|=2;var p=n1(),y=i1();(Ue!==r||Ne!==o)&&(fu=null,$s(r,o)),o=!1;var S=Je;e:do try{if(Ie!==0&&Ae!==null){var w=Ae,O=sn;switch(Ie){case 8:zd(),S=6;break e;case 3:case 2:case 6:yn.current===null&&(o=!0);var j=Ie;if(Ie=0,sn=null,qs(r,w,O,j),u&&Is){S=0;break e}break;default:j=Ie,Ie=0,sn=null,qs(r,w,O,j)}}Ow(),S=Je;break}catch(I){t1(r,I)}while(!0);return o&&r.shellSuspendCounter++,li=Pr=null,Ke=f,P.H=p,P.A=y,Ae===null&&(Ue=null,Ne=0,Bl()),S}function Ow(){for(;Ae!==null;)r1(Ae)}function Dw(r,o){var u=Ke;Ke|=2;var f=n1(),p=i1();Ue!==r||Ne!==o?(fu=null,cu=Pn()+500,$s(r,o)):Is=Do(r,o);e:do try{if(Ie!==0&&Ae!==null){o=Ae;var y=sn;t:switch(Ie){case 1:Ie=0,sn=null,qs(r,o,y,1);break;case 2:if(py(y)){Ie=0,sn=null,s1(o);break}o=function(){Ie===2&&Ue===r&&(Ie=7),$n(r)},y.then(o,o);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:py(y)?(Ie=0,sn=null,s1(o)):(Ie=0,sn=null,qs(r,o,y,7));break;case 5:var S=null;switch(Ae.tag){case 26:S=Ae.memoizedState;case 5:case 27:var w=Ae;if(!S||_1(S)){Ie=0,sn=null;var O=w.sibling;if(O!==null)Ae=O;else{var j=w.return;j!==null?(Ae=j,pu(j)):Ae=null}break t}}Ie=0,sn=null,qs(r,o,y,5);break;case 6:Ie=0,sn=null,qs(r,o,y,6);break;case 8:zd(),Je=6;break e;default:throw Error(i(462))}}Nw();break}catch(I){t1(r,I)}while(!0);return li=Pr=null,P.H=f,P.A=p,Ke=u,Ae!==null?0:(Ue=null,Ne=0,Bl(),Je)}function Nw(){for(;Ae!==null&&!ZE();)r1(Ae)}function r1(r){var o=M0(r.alternate,r,mi);r.memoizedProps=r.pendingProps,o===null?pu(r):Ae=o}function s1(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=x0(u,o,o.pendingProps,o.type,void 0,Ne);break;case 11:o=x0(u,o,o.pendingProps,o.type.render,o.ref,Ne);break;case 5:Uf(o);default:Q0(u,o),o=Ae=Y0(o,mi),o=M0(u,o,mi)}r.memoizedProps=r.pendingProps,o===null?pu(r):Ae=o}function qs(r,o,u,f){li=Pr=null,Uf(o),Rs=null,Yo=0;var p=o.return;try{if(vw(r,p,o,u,Ne)){Je=1,iu(r,pn(u,r.current)),Ae=null;return}}catch(y){if(p!==null)throw Ae=p,y;Je=1,iu(r,pn(u,r.current)),Ae=null;return}o.flags&32768?(Re||f===1?r=!0:Is||Ne&536870912?r=!1:(pi=r=!0,(f===2||f===3||f===6)&&(f=yn.current,f!==null&&f.tag===13&&(f.flags|=16384))),o1(o,r)):pu(o)}function pu(r){var o=r;do{if(o.flags&32768){o1(o,pi);return}r=o.return;var u=Cw(o.alternate,o,mi);if(u!==null){Ae=u;return}if(o=o.sibling,o!==null){Ae=o;return}Ae=o=r}while(o!==null);Je===0&&(Je=5)}function o1(r,o){do{var u=ww(r.alternate,r);if(u!==null){u.flags&=32767,Ae=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Ae=r;return}Ae=r=u}while(r!==null);Je=6,Ae=null}function a1(r,o,u,f,p,y,S,w,O,j){var I=P.T,G=ne.p;try{ne.p=2,P.T=null,Rw(r,o,u,f,G,p,y,S,w,O,j)}finally{P.T=I,ne.p=G}}function Rw(r,o,u,f,p,y,S,w){do Gs();while($r!==null);if(Ke&6)throw Error(i(327));var O=r.finishedWork;if(f=r.finishedLanes,O===null)return null;if(r.finishedWork=null,r.finishedLanes=0,O===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var j=O.lanes|O.childLanes;if(j|=Mf,cC(r,f,j,y,S,w),r===Ue&&(Ae=Ue=null,Ne=0),!(O.subtreeFlags&10256)&&!(O.flags&10256)||du||(du=!0,Nd=j,Rd=u,Lw(Tl,function(){return Gs(),null})),u=(O.flags&15990)!==0,O.subtreeFlags&15990||u?(u=P.T,P.T=null,y=ne.p,ne.p=2,S=Ke,Ke|=4,Sw(r,O),U0(O,r),nw(Xd,r.containerInfo),Mu=!!Yd,Xd=Yd=null,r.current=O,B0(r,O.alternate,O),eC(),Ke=S,ne.p=y,P.T=u):r.current=O,du?(du=!1,$r=r,da=f):l1(r,j),j=r.pendingLanes,j===0&&(Yi=null),sC(O.stateNode),$n(r),o!==null)for(p=r.onRecoverableError,O=0;O<o.length;O++)j=o[O],p(j.value,{componentStack:j.stack});return da&3&&Gs(),j=r.pendingLanes,f&4194218&&j&42?r===jd?ha++:(ha=0,jd=r):ha=0,pa(0),null}function l1(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Wo(o)))}function Gs(){if($r!==null){var r=$r,o=Nd;Nd=0;var u=yg(da),f=P.T,p=ne.p;try{if(ne.p=32>u?32:u,P.T=null,$r===null)var y=!1;else{u=Rd,Rd=null;var S=$r,w=da;if($r=null,da=0,Ke&6)throw Error(i(331));var O=Ke;if(Ke|=4,G0(S.current),F0(S,S.current,w,u),Ke=O,pa(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Oo,S)}catch{}y=!0}return y}finally{ne.p=p,P.T=f,l1(r,o)}}return!1}function u1(r,o,u){o=pn(u,o),o=td(r.stateNode,o,2),r=Ii(r,o,2),r!==null&&(No(r,2),$n(r))}function Pe(r,o,u){if(r.tag===3)u1(r,r,u);else for(;o!==null;){if(o.tag===3){u1(o,r,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Yi===null||!Yi.has(f))){r=pn(u,r),u=d0(2),f=Ii(o,u,2),f!==null&&(h0(u,f,o,r),No(f,2),$n(f));break}}o=o.return}}function Vd(r,o,u){var f=r.pingCache;if(f===null){f=r.pingCache=new kw;var p=new Set;f.set(o,p)}else p=f.get(o),p===void 0&&(p=new Set,f.set(o,p));p.has(u)||(kd=!0,p.add(u),r=jw.bind(null,r,o,u),o.then(r,r))}function jw(r,o,u){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Ue===r&&(Ne&u)===u&&(Je===4||Je===3&&(Ne&62914560)===Ne&&300>Pn()-Dd?!(Ke&2)&&$s(r,0):Ad|=u,Fs===Ne&&(Fs=0)),$n(r)}function c1(r,o){o===0&&(o=pg()),r=_i(r,o),r!==null&&(No(r,o),$n(r))}function _w(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),c1(r,u)}function zw(r,o){var u=0;switch(r.tag){case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),c1(r,u)}function Lw(r,o){return tf(r,o)}var mu=null,Ks=null,Pd=!1,gu=!1,Hd=!1,qr=0;function $n(r){r!==Ks&&r.next===null&&(Ks===null?mu=Ks=r:Ks=Ks.next=r),gu=!0,Pd||(Pd=!0,Vw(Bw))}function pa(r,o){if(!Hd&&gu){Hd=!0;do for(var u=!1,f=mu;f!==null;){if(r!==0){var p=f.pendingLanes;if(p===0)var y=0;else{var S=f.suspendedLanes,w=f.pingedLanes;y=(1<<31-en(42|r)+1)-1,y&=p&~(S&~w),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(u=!0,h1(f,y))}else y=Ne,y=wl(f,f===Ue?y:0),!(y&3)||Do(f,y)||(u=!0,h1(f,y));f=f.next}while(u);Hd=!1}}function Bw(){gu=Pd=!1;var r=0;qr!==0&&(Gw()&&(r=qr),qr=0);for(var o=Pn(),u=null,f=mu;f!==null;){var p=f.next,y=f1(f,o);y===0?(f.next=null,u===null?mu=p:u.next=p,p===null&&(Ks=u)):(u=f,(r!==0||y&3)&&(gu=!0)),f=p}pa(r)}function f1(r,o){for(var u=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var S=31-en(y),w=1<<S,O=p[S];O===-1?(!(w&u)||w&f)&&(p[S]=uC(w,o)):O<=o&&(r.expiredLanes|=w),y&=~w}if(o=Ue,u=Ne,u=wl(r,r===o?u:0),f=r.callbackNode,u===0||r===o&&Ie===2||r.cancelPendingCommit!==null)return f!==null&&f!==null&&nf(f),r.callbackNode=null,r.callbackPriority=0;if(!(u&3)||Do(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(f!==null&&nf(f),yg(u)){case 2:case 8:u=fg;break;case 32:u=Tl;break;case 268435456:u=dg;break;default:u=Tl}return f=d1.bind(null,r),u=tf(u,f),r.callbackPriority=o,r.callbackNode=u,o}return f!==null&&f!==null&&nf(f),r.callbackPriority=2,r.callbackNode=null,2}function d1(r,o){var u=r.callbackNode;if(Gs()&&r.callbackNode!==u)return null;var f=Ne;return f=wl(r,r===Ue?f:0),f===0?null:(Z0(r,f,o),f1(r,Pn()),r.callbackNode!=null&&r.callbackNode===u?d1.bind(null,r):null)}function h1(r,o){if(Gs())return null;Z0(r,o,!0)}function Vw(r){Yw(function(){Ke&6?tf(cg,r):r()})}function Ud(){return qr===0&&(qr=hg()),qr}function p1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Dl(""+r)}function m1(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function Pw(r,o,u,f,p){if(o==="submit"&&u&&u.stateNode===p){var y=p1((p[Yt]||null).action),S=f.submitter;S&&(o=(o=S[Yt]||null)?p1(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var w=new _l("action","action",null,f,p);r.push({event:w,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(qr!==0){var O=S?m1(p,S):new FormData(p);Wf(u,{pending:!0,data:O,method:p.method,action:y},null,O)}}else typeof y=="function"&&(w.preventDefault(),O=S?m1(p,S):new FormData(p),Wf(u,{pending:!0,data:O,method:p.method,action:y},y,O))},currentTarget:p}]})}}for(var Id=0;Id<ay.length;Id++){var Fd=ay[Id],Hw=Fd.toLowerCase(),Uw=Fd[0].toUpperCase()+Fd.slice(1);Nn(Hw,"on"+Uw)}Nn(ny,"onAnimationEnd"),Nn(iy,"onAnimationIteration"),Nn(ry,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(rw,"onTransitionRun"),Nn(sw,"onTransitionStart"),Nn(ow,"onTransitionCancel"),Nn(sy,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ma));function g1(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],p=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var S=f.length-1;0<=S;S--){var w=f[S],O=w.instance,j=w.currentTarget;if(w=w.listener,O!==y&&p.isPropagationStopped())break e;y=w,p.currentTarget=j;try{y(p)}catch(I){nu(I)}p.currentTarget=null,y=O}else for(S=0;S<f.length;S++){if(w=f[S],O=w.instance,j=w.currentTarget,w=w.listener,O!==y&&p.isPropagationStopped())break e;y=w,p.currentTarget=j;try{y(p)}catch(I){nu(I)}p.currentTarget=null,y=O}}}}function De(r,o){var u=o[sf];u===void 0&&(u=o[sf]=new Set);var f=r+"__bubble";u.has(f)||(y1(o,r,2,!1),u.add(f))}function $d(r,o,u){var f=0;o&&(f|=4),y1(u,r,f,o)}var yu="_reactListening"+Math.random().toString(36).slice(2);function qd(r){if(!r[yu]){r[yu]=!0,xg.forEach(function(u){u!=="selectionchange"&&(Iw.has(u)||$d(u,!1,r),$d(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[yu]||(o[yu]=!0,$d("selectionchange",!1,o))}}function y1(r,o,u,f){switch(H1(o)){case 2:var p=pM;break;case 8:p=mM;break;default:p=rh}u=p.bind(null,o,u,r),p=void 0,!hf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(o,u,{capture:!0,passive:p}):r.addEventListener(o,u,!0):p!==void 0?r.addEventListener(o,u,{passive:p}):r.addEventListener(o,u,!1)}function Gd(r,o,u,f,p){var y=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var w=f.stateNode.containerInfo;if(w===p||w.nodeType===8&&w.parentNode===p)break;if(S===4)for(S=f.return;S!==null;){var O=S.tag;if((O===3||O===4)&&(O=S.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;S=S.return}for(;w!==null;){if(S=wr(w),S===null)return;if(O=S.tag,O===5||O===6||O===26||O===27){f=y=S;continue e}w=w.parentNode}}f=f.return}Rg(function(){var j=y,I=ff(u),G=[];e:{var V=oy.get(r);if(V!==void 0){var U=_l,ue=r;switch(r){case"keypress":if(Rl(u)===0)break e;case"keydown":case"keyup":U=zC;break;case"focusin":ue="focus",U=yf;break;case"focusout":ue="blur",U=yf;break;case"beforeblur":case"afterblur":U=yf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=EC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=VC;break;case ny:case iy:case ry:U=MC;break;case sy:U=HC;break;case"scroll":case"scrollend":U=SC;break;case"wheel":U=IC;break;case"copy":case"cut":case"paste":U=AC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Bg;break;case"toggle":case"beforetoggle":U=$C}var be=(o&4)!==0,Ze=!be&&(r==="scroll"||r==="scrollend"),_=be?V!==null?V+"Capture":null:V;be=[];for(var R=j,L;R!==null;){var F=R;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||_===null||(F=_o(R,_),F!=null&&be.push(ga(R,F,L))),Ze)break;R=R.return}0<be.length&&(V=new U(V,ue,null,u,I),G.push({event:V,listeners:be}))}}if(!(o&7)){e:{if(V=r==="mouseover"||r==="pointerover",U=r==="mouseout"||r==="pointerout",V&&u!==cf&&(ue=u.relatedTarget||u.fromElement)&&(wr(ue)||ue[ys]))break e;if((U||V)&&(V=I.window===I?I:(V=I.ownerDocument)?V.defaultView||V.parentWindow:window,U?(ue=u.relatedTarget||u.toElement,U=j,ue=ue?wr(ue):null,ue!==null&&(Ze=Z(ue),be=ue.tag,ue!==Ze||be!==5&&be!==27&&be!==6)&&(ue=null)):(U=null,ue=j),U!==ue)){if(be=zg,F="onMouseLeave",_="onMouseEnter",R="mouse",(r==="pointerout"||r==="pointerover")&&(be=Bg,F="onPointerLeave",_="onPointerEnter",R="pointer"),Ze=U==null?V:jo(U),L=ue==null?V:jo(ue),V=new be(F,R+"leave",U,u,I),V.target=Ze,V.relatedTarget=L,F=null,wr(I)===j&&(be=new be(_,R+"enter",ue,u,I),be.target=L,be.relatedTarget=Ze,F=be),Ze=F,U&&ue)t:{for(be=U,_=ue,R=0,L=be;L;L=Ys(L))R++;for(L=0,F=_;F;F=Ys(F))L++;for(;0<R-L;)be=Ys(be),R--;for(;0<L-R;)_=Ys(_),L--;for(;R--;){if(be===_||_!==null&&be===_.alternate)break t;be=Ys(be),_=Ys(_)}be=null}else be=null;U!==null&&b1(G,V,U,be,!1),ue!==null&&Ze!==null&&b1(G,Ze,ue,be,!0)}}e:{if(V=j?jo(j):window,U=V.nodeName&&V.nodeName.toLowerCase(),U==="select"||U==="input"&&V.type==="file")var se=qg;else if(Fg(V))if(Gg)se=ew;else{se=JC;var Me=QC}else U=V.nodeName,!U||U.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?j&&uf(j.elementType)&&(se=qg):se=ZC;if(se&&(se=se(r,j))){$g(G,se,u,I);break e}Me&&Me(r,V,j),r==="focusout"&&j&&V.type==="number"&&j.memoizedProps.value!=null&&lf(V,"number",V.value)}switch(Me=j?jo(j):window,r){case"focusin":(Fg(Me)||Me.contentEditable==="true")&&(Ms=Me,Ef=j,Io=null);break;case"focusout":Io=Ef=Ms=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,ey(G,u,I);break;case"selectionchange":if(iw)break;case"keydown":case"keyup":ey(G,u,I)}var ce;if(vf)e:{switch(r){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else ws?Ug(r,u)&&(pe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(pe="onCompositionStart");pe&&(Vg&&u.locale!=="ko"&&(ws||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&ws&&(ce=jg()):(ji=I,pf="value"in ji?ji.value:ji.textContent,ws=!0)),Me=bu(j,pe),0<Me.length&&(pe=new Lg(pe,r,null,u,I),G.push({event:pe,listeners:Me}),ce?pe.data=ce:(ce=Ig(u),ce!==null&&(pe.data=ce)))),(ce=GC?KC(r,u):YC(r,u))&&(pe=bu(j,"onBeforeInput"),0<pe.length&&(Me=new Lg("onBeforeInput","beforeinput",null,u,I),G.push({event:Me,listeners:pe}),Me.data=ce)),Pw(G,r,j,u,I)}g1(G,o)})}function ga(r,o,u){return{instance:r,listener:o,currentTarget:u}}function bu(r,o){for(var u=o+"Capture",f=[];r!==null;){var p=r,y=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=_o(r,u),p!=null&&f.unshift(ga(r,p,y)),p=_o(r,o),p!=null&&f.push(ga(r,p,y))),r=r.return}return f}function Ys(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function b1(r,o,u,f,p){for(var y=o._reactName,S=[];u!==null&&u!==f;){var w=u,O=w.alternate,j=w.stateNode;if(w=w.tag,O!==null&&O===f)break;w!==5&&w!==26&&w!==27||j===null||(O=j,p?(j=_o(u,y),j!=null&&S.unshift(ga(u,j,O))):p||(j=_o(u,y),j!=null&&S.push(ga(u,j,O)))),u=u.return}S.length!==0&&r.push({event:o,listeners:S})}var Fw=/\r\n?/g,$w=/\u0000|\uFFFD/g;function v1(r){return(typeof r=="string"?r:""+r).replace(Fw,`
`).replace($w,"")}function x1(r,o){return o=v1(o),v1(r)===o}function vu(){}function Ve(r,o,u,f,p,y){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Ts(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Ts(r,""+f);break;case"className":kl(r,"class",f);break;case"tabIndex":kl(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":kl(r,u,f);break;case"style":Dg(r,f,y);break;case"data":if(o!=="object"){kl(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=Dl(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(o!=="input"&&Ve(r,o,"name",p.name,p,null),Ve(r,o,"formEncType",p.formEncType,p,null),Ve(r,o,"formMethod",p.formMethod,p,null),Ve(r,o,"formTarget",p.formTarget,p,null)):(Ve(r,o,"encType",p.encType,p,null),Ve(r,o,"method",p.method,p,null),Ve(r,o,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=Dl(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=vu);break;case"onScroll":f!=null&&De("scroll",r);break;case"onScrollEnd":f!=null&&De("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=Dl(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":De("beforetoggle",r),De("toggle",r),Ml(r,"popover",f);break;case"xlinkActuate":ni(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ni(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ni(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ni(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ni(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ni(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ni(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ni(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ni(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ml(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=vC.get(u)||u,Ml(r,u,f))}}function Kd(r,o,u,f,p,y){switch(u){case"style":Dg(r,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof f=="string"?Ts(r,f):(typeof f=="number"||typeof f=="bigint")&&Ts(r,""+f);break;case"onScroll":f!=null&&De("scroll",r);break;case"onScrollEnd":f!=null&&De("scrollend",r);break;case"onClick":f!=null&&(r.onclick=vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sg.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),o=u.slice(2,p?u.length-7:void 0),y=r[Yt]||null,y=y!=null?y[u]:null,typeof y=="function"&&r.removeEventListener(o,y,p),typeof f=="function")){typeof y!="function"&&y!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,f,p);break e}u in r?r[u]=f:f===!0?r.setAttribute(u,""):Ml(r,u,f)}}}function Et(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",r),De("load",r);var f=!1,p=!1,y;for(y in u)if(u.hasOwnProperty(y)){var S=u[y];if(S!=null)switch(y){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ve(r,o,y,S,u,null)}}p&&Ve(r,o,"srcSet",u.srcSet,u,null),f&&Ve(r,o,"src",u.src,u,null);return;case"input":De("invalid",r);var w=y=S=p=null,O=null,j=null;for(f in u)if(u.hasOwnProperty(f)){var I=u[f];if(I!=null)switch(f){case"name":p=I;break;case"type":S=I;break;case"checked":O=I;break;case"defaultChecked":j=I;break;case"value":y=I;break;case"defaultValue":w=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,o));break;default:Ve(r,o,f,I,u,null)}}Mg(r,y,w,O,j,S,p,!1),Al(r);return;case"select":De("invalid",r),f=S=y=null;for(p in u)if(u.hasOwnProperty(p)&&(w=u[p],w!=null))switch(p){case"value":y=w;break;case"defaultValue":S=w;break;case"multiple":f=w;default:Ve(r,o,p,w,u,null)}o=y,u=S,r.multiple=!!f,o!=null?Ss(r,!!f,o,!1):u!=null&&Ss(r,!!f,u,!0);return;case"textarea":De("invalid",r),y=p=f=null;for(S in u)if(u.hasOwnProperty(S)&&(w=u[S],w!=null))switch(S){case"value":f=w;break;case"defaultValue":p=w;break;case"children":y=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Ve(r,o,S,w,u,null)}Ag(r,f,p,y),Al(r);return;case"option":for(O in u)if(u.hasOwnProperty(O)&&(f=u[O],f!=null))switch(O){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ve(r,o,O,f,u,null)}return;case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":De("load",r);break;case"video":case"audio":for(f=0;f<ma.length;f++)De(ma[f],r);break;case"image":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"embed":case"source":case"link":De("error",r),De("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in u)if(u.hasOwnProperty(j)&&(f=u[j],f!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ve(r,o,j,f,u,null)}return;default:if(uf(o)){for(I in u)u.hasOwnProperty(I)&&(f=u[I],f!==void 0&&Kd(r,o,I,f,u,void 0));return}}for(w in u)u.hasOwnProperty(w)&&(f=u[w],f!=null&&Ve(r,o,w,f,u,null))}function qw(r,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,S=null,w=null,O=null,j=null,I=null;for(U in u){var G=u[U];if(u.hasOwnProperty(U)&&G!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":O=G;default:f.hasOwnProperty(U)||Ve(r,o,U,null,f,G)}}for(var V in f){var U=f[V];if(G=u[V],f.hasOwnProperty(V)&&(U!=null||G!=null))switch(V){case"type":y=U;break;case"name":p=U;break;case"checked":j=U;break;case"defaultChecked":I=U;break;case"value":S=U;break;case"defaultValue":w=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,o));break;default:U!==G&&Ve(r,o,V,U,f,G)}}af(r,S,w,O,j,I,y,p);return;case"select":U=S=w=V=null;for(y in u)if(O=u[y],u.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":U=O;default:f.hasOwnProperty(y)||Ve(r,o,y,null,f,O)}for(p in f)if(y=f[p],O=u[p],f.hasOwnProperty(p)&&(y!=null||O!=null))switch(p){case"value":V=y;break;case"defaultValue":w=y;break;case"multiple":S=y;default:y!==O&&Ve(r,o,p,y,f,O)}o=w,u=S,f=U,V!=null?Ss(r,!!u,V,!1):!!f!=!!u&&(o!=null?Ss(r,!!u,o,!0):Ss(r,!!u,u?[]:"",!1));return;case"textarea":U=V=null;for(w in u)if(p=u[w],u.hasOwnProperty(w)&&p!=null&&!f.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ve(r,o,w,null,f,p)}for(S in f)if(p=f[S],y=u[S],f.hasOwnProperty(S)&&(p!=null||y!=null))switch(S){case"value":V=p;break;case"defaultValue":U=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Ve(r,o,S,p,f,y)}kg(r,V,U);return;case"option":for(var ue in u)if(V=u[ue],u.hasOwnProperty(ue)&&V!=null&&!f.hasOwnProperty(ue))switch(ue){case"selected":r.selected=!1;break;default:Ve(r,o,ue,null,f,V)}for(O in f)if(V=f[O],U=u[O],f.hasOwnProperty(O)&&V!==U&&(V!=null||U!=null))switch(O){case"selected":r.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Ve(r,o,O,V,f,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in u)V=u[be],u.hasOwnProperty(be)&&V!=null&&!f.hasOwnProperty(be)&&Ve(r,o,be,null,f,V);for(j in f)if(V=f[j],U=u[j],f.hasOwnProperty(j)&&V!==U&&(V!=null||U!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,o));break;default:Ve(r,o,j,V,f,U)}return;default:if(uf(o)){for(var Ze in u)V=u[Ze],u.hasOwnProperty(Ze)&&V!==void 0&&!f.hasOwnProperty(Ze)&&Kd(r,o,Ze,void 0,f,V);for(I in f)V=f[I],U=u[I],!f.hasOwnProperty(I)||V===U||V===void 0&&U===void 0||Kd(r,o,I,V,f,U);return}}for(var _ in u)V=u[_],u.hasOwnProperty(_)&&V!=null&&!f.hasOwnProperty(_)&&Ve(r,o,_,null,f,V);for(G in f)V=f[G],U=u[G],!f.hasOwnProperty(G)||V===U||V==null&&U==null||Ve(r,o,G,V,f,U)}var Yd=null,Xd=null;function xu(r){return r.nodeType===9?r:r.ownerDocument}function S1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T1(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Wd(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Qd=null;function Gw(){var r=window.event;return r&&r.type==="popstate"?r===Qd?!1:(Qd=r,!0):(Qd=null,!1)}var E1=typeof setTimeout=="function"?setTimeout:void 0,Kw=typeof clearTimeout=="function"?clearTimeout:void 0,C1=typeof Promise=="function"?Promise:void 0,Yw=typeof queueMicrotask=="function"?queueMicrotask:typeof C1<"u"?function(r){return C1.resolve(null).then(r).catch(Xw)}:E1;function Xw(r){setTimeout(function(){throw r})}function Jd(r,o){var u=o,f=0;do{var p=u.nextSibling;if(r.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(f===0){r.removeChild(p),Ca(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=p}while(u);Ca(o)}function Zd(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Zd(u),of(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function Ww(r,o,u,f){for(;r.nodeType===1;){var p=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Ro])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=_n(r.nextSibling),r===null)break}return null}function Qw(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=_n(r.nextSibling),r===null))return null;return r}function _n(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}function w1(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function M1(r,o,u){switch(o=xu(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var Tn=new Map,k1=new Set;function Su(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var yi=ne.d;ne.d={f:Jw,r:Zw,D:eM,C:tM,L:nM,m:iM,X:sM,S:rM,M:oM};function Jw(){var r=yi.f(),o=hu();return r||o}function Zw(r){var o=bs(r);o!==null&&o.tag===5&&o.type==="form"?e0(o):yi.r(r)}var Xs=typeof document>"u"?null:document;function A1(r,o,u){var f=Xs;if(f&&typeof o=="string"&&o){var p=dn(o);p='link[rel="'+r+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),k1.has(p)||(k1.add(p),r={rel:r,crossOrigin:u,href:o},f.querySelector(p)===null&&(o=f.createElement("link"),Et(o,"link",r),dt(o),f.head.appendChild(o)))}}function eM(r){yi.D(r),A1("dns-prefetch",r,null)}function tM(r,o){yi.C(r,o),A1("preconnect",r,o)}function nM(r,o,u){yi.L(r,o,u);var f=Xs;if(f&&r&&o){var p='link[rel="preload"][as="'+dn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+dn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+dn(u.imageSizes)+'"]')):p+='[href="'+dn(r)+'"]';var y=p;switch(o){case"style":y=Ws(r);break;case"script":y=Qs(r)}Tn.has(y)||(r=X({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),Tn.set(y,r),f.querySelector(p)!==null||o==="style"&&f.querySelector(ya(y))||o==="script"&&f.querySelector(ba(y))||(o=f.createElement("link"),Et(o,"link",r),dt(o),f.head.appendChild(o)))}}function iM(r,o){yi.m(r,o);var u=Xs;if(u&&r){var f=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+dn(f)+'"][href="'+dn(r)+'"]',y=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Qs(r)}if(!Tn.has(y)&&(r=X({rel:"modulepreload",href:r},o),Tn.set(y,r),u.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ba(y)))return}f=u.createElement("link"),Et(f,"link",r),dt(f),u.head.appendChild(f)}}}function rM(r,o,u){yi.S(r,o,u);var f=Xs;if(f&&r){var p=vs(f).hoistableStyles,y=Ws(r);o=o||"default";var S=p.get(y);if(!S){var w={loading:0,preload:null};if(S=f.querySelector(ya(y)))w.loading=5;else{r=X({rel:"stylesheet",href:r,"data-precedence":o},u),(u=Tn.get(y))&&eh(r,u);var O=S=f.createElement("link");dt(O),Et(O,"link",r),O._p=new Promise(function(j,I){O.onload=j,O.onerror=I}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Tu(S,o,f)}S={type:"stylesheet",instance:S,count:1,state:w},p.set(y,S)}}}function sM(r,o){yi.X(r,o);var u=Xs;if(u&&r){var f=vs(u).hoistableScripts,p=Qs(r),y=f.get(p);y||(y=u.querySelector(ba(p)),y||(r=X({src:r,async:!0},o),(o=Tn.get(p))&&th(r,o),y=u.createElement("script"),dt(y),Et(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function oM(r,o){yi.M(r,o);var u=Xs;if(u&&r){var f=vs(u).hoistableScripts,p=Qs(r),y=f.get(p);y||(y=u.querySelector(ba(p)),y||(r=X({src:r,async:!0,type:"module"},o),(o=Tn.get(p))&&th(r,o),y=u.createElement("script"),dt(y),Et(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function O1(r,o,u,f){var p=(p=ut.current)?Su(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ws(u.href),u=vs(p).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Ws(u.href);var y=vs(p).hoistableStyles,S=y.get(r);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,S),(y=p.querySelector(ya(r)))&&!y._p&&(S.instance=y,S.state.loading=5),Tn.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Tn.set(r,u),y||aM(p,r,u,S.state))),o&&f===null)throw Error(i(528,""));return S}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Qs(u),u=vs(p).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ws(r){return'href="'+dn(r)+'"'}function ya(r){return'link[rel="stylesheet"]['+r+"]"}function D1(r){return X({},r,{"data-precedence":r.precedence,precedence:null})}function aM(r,o,u,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Et(o,"link",u),dt(o),r.head.appendChild(o))}function Qs(r){return'[src="'+dn(r)+'"]'}function ba(r){return"script[async]"+r}function N1(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+dn(u.href)+'"]');if(f)return o.instance=f,dt(f),f;var p=X({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),dt(f),Et(f,"style",p),Tu(f,u.precedence,r),o.instance=f;case"stylesheet":p=Ws(u.href);var y=r.querySelector(ya(p));if(y)return o.state.loading|=4,o.instance=y,dt(y),y;f=D1(u),(p=Tn.get(p))&&eh(f,p),y=(r.ownerDocument||r).createElement("link"),dt(y);var S=y;return S._p=new Promise(function(w,O){S.onload=w,S.onerror=O}),Et(y,"link",f),o.state.loading|=4,Tu(y,u.precedence,r),o.instance=y;case"script":return y=Qs(u.src),(p=r.querySelector(ba(y)))?(o.instance=p,dt(p),p):(f=u,(p=Tn.get(y))&&(f=X({},u),th(f,p)),r=r.ownerDocument||r,p=r.createElement("script"),dt(p),Et(p,"link",f),r.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(f=o.instance,o.state.loading|=4,Tu(f,u.precedence,r));return o.instance}function Tu(r,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,y=p,S=0;S<f.length;S++){var w=f[S];if(w.dataset.precedence===o)y=w;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function eh(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function th(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Eu=null;function R1(r,o,u){if(Eu===null){var f=new Map,p=Eu=new Map;p.set(u,f)}else p=Eu,f=p.get(u),f||(f=new Map,p.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),p=0;p<u.length;p++){var y=u[p];if(!(y[Ro]||y[Ot]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=r+S;var w=f.get(S);w?w.push(y):f.set(S,[y])}}return f}function j1(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function lM(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function _1(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var va=null;function uM(){}function cM(r,o,u){if(va===null)throw Error(i(475));var f=va;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var p=Ws(u.href),y=r.querySelector(ya(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=Cu.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=y,dt(y);return}y=r.ownerDocument||r,u=D1(u),(p=Tn.get(p))&&eh(u,p),y=y.createElement("link"),dt(y);var S=y;S._p=new Promise(function(w,O){S.onload=w,S.onerror=O}),Et(y,"link",u),o.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&!(o.state.loading&3)&&(f.count++,o=Cu.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function fM(){if(va===null)throw Error(i(475));var r=va;return r.stylesheets&&r.count===0&&nh(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&nh(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var wu=null;function nh(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,wu=new Map,o.forEach(dM,r),wu=null,Cu.call(r))}function dM(r,o){if(!(o.state.loading&4)){var u=wu.get(r);if(u)var f=u.get(null);else{u=new Map,wu.set(r,u);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var S=p[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),f=S)}f&&u.set(null,f)}p=o.instance,S=p.getAttribute("data-precedence"),y=u.get(S)||f,y===f&&u.set(null,p),u.set(S,p),this.count++,f=Cu.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),o.state.loading|=4}}var xa={$$typeof:v,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function hM(r,o,u,f,p,y,S,w){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.hiddenUpdates=rf(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function z1(r,o,u,f,p,y,S,w,O,j,I,G){return r=new hM(r,o,u,S,w,O,j,G),o=1,y===!0&&(o|=24),y=xn(3,null,null,o),r.current=y,y.stateNode=r,o=_f(),o.refCount++,r.pooledCache=o,o.refCount++,y.memoizedState={element:f,isDehydrated:u,cache:o},pd(y),r}function L1(r){return r?(r=Os,r):Os}function B1(r,o,u,f,p,y){p=L1(p),f.context===null?f.context=p:f.pendingContext=p,f=Ui(o),f.payload={element:u},y=y===void 0?null:y,y!==null&&(f.callback=y),u=Ii(r,f,o),u!==null&&(Pt(u,r,o),ia(u,r,o))}function V1(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function ih(r,o){V1(r,o),(r=r.alternate)&&V1(r,o)}function P1(r){if(r.tag===13){var o=_i(r,67108864);o!==null&&Pt(o,r,67108864),ih(r,67108864)}}var Mu=!0;function pM(r,o,u,f){var p=P.T;P.T=null;var y=ne.p;try{ne.p=2,rh(r,o,u,f)}finally{ne.p=y,P.T=p}}function mM(r,o,u,f){var p=P.T;P.T=null;var y=ne.p;try{ne.p=8,rh(r,o,u,f)}finally{ne.p=y,P.T=p}}function rh(r,o,u,f){if(Mu){var p=sh(f);if(p===null)Gd(r,o,f,ku,u),U1(r,f);else if(yM(p,r,o,u,f))f.stopPropagation();else if(U1(r,f),o&4&&-1<gM.indexOf(r)){for(;p!==null;){var y=bs(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Cr(y.pendingLanes);if(S!==0){var w=y;for(w.pendingLanes|=2,w.entangledLanes|=2;S;){var O=1<<31-en(S);w.entanglements[1]|=O,S&=~O}$n(y),!(Ke&6)&&(cu=Pn()+500,pa(0))}}break;case 13:w=_i(y,2),w!==null&&Pt(w,y,2),hu(),ih(y,2)}if(y=sh(f),y===null&&Gd(r,o,f,ku,u),y===p)break;p=y}p!==null&&f.stopPropagation()}else Gd(r,o,f,null,u)}}function sh(r){return r=ff(r),oh(r)}var ku=null;function oh(r){if(ku=null,r=wr(r),r!==null){var o=Z(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=ke(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return ku=r,null}function H1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tC()){case cg:return 2;case fg:return 8;case Tl:case nC:return 32;case dg:return 268435456;default:return 32}default:return 32}}var ah=!1,Xi=null,Wi=null,Qi=null,Sa=new Map,Ta=new Map,Ji=[],gM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U1(r,o){switch(r){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Sa.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(o.pointerId)}}function Ea(r,o,u,f,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},o!==null&&(o=bs(o),o!==null&&P1(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),r)}function yM(r,o,u,f,p){switch(o){case"focusin":return Xi=Ea(Xi,r,o,u,f,p),!0;case"dragenter":return Wi=Ea(Wi,r,o,u,f,p),!0;case"mouseover":return Qi=Ea(Qi,r,o,u,f,p),!0;case"pointerover":var y=p.pointerId;return Sa.set(y,Ea(Sa.get(y)||null,r,o,u,f,p)),!0;case"gotpointercapture":return y=p.pointerId,Ta.set(y,Ea(Ta.get(y)||null,r,o,u,f,p)),!0}return!1}function I1(r){var o=wr(r.target);if(o!==null){var u=Z(o);if(u!==null){if(o=u.tag,o===13){if(o=ke(u),o!==null){r.blockedOn=o,fC(r.priority,function(){if(u.tag===13){var f=on(),p=_i(u,f);p!==null&&Pt(p,u,f),ih(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Au(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=sh(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);cf=f,u.target.dispatchEvent(f),cf=null}else return o=bs(u),o!==null&&P1(o),r.blockedOn=u,!1;o.shift()}return!0}function F1(r,o,u){Au(r)&&u.delete(o)}function bM(){ah=!1,Xi!==null&&Au(Xi)&&(Xi=null),Wi!==null&&Au(Wi)&&(Wi=null),Qi!==null&&Au(Qi)&&(Qi=null),Sa.forEach(F1),Ta.forEach(F1)}function Ou(r,o){r.blockedOn===o&&(r.blockedOn=null,ah||(ah=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bM)))}var Du=null;function $1(r){Du!==r&&(Du=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Du===r&&(Du=null);for(var o=0;o<r.length;o+=3){var u=r[o],f=r[o+1],p=r[o+2];if(typeof f!="function"){if(oh(f||u)===null)continue;break}var y=bs(u);y!==null&&(r.splice(o,3),o-=3,Wf(y,{pending:!0,data:p,method:u.method,action:f},f,p))}}))}function Ca(r){function o(O){return Ou(O,r)}Xi!==null&&Ou(Xi,r),Wi!==null&&Ou(Wi,r),Qi!==null&&Ou(Qi,r),Sa.forEach(o),Ta.forEach(o);for(var u=0;u<Ji.length;u++){var f=Ji[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Ji.length&&(u=Ji[0],u.blockedOn===null);)I1(u),u.blockedOn===null&&Ji.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var p=u[f],y=u[f+1],S=p[Yt]||null;if(typeof y=="function")S||$1(u);else if(S){var w=null;if(y&&y.hasAttribute("formAction")){if(p=y,S=y[Yt]||null)w=S.formAction;else if(oh(p)!==null)continue}else w=S.action;typeof w=="function"?u[f+1]=w:(u.splice(f,3),f-=3),$1(u)}}}function lh(r){this._internalRoot=r}Nu.prototype.render=lh.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=on();B1(u,f,r,o,null,null)},Nu.prototype.unmount=lh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;r.tag===0&&Gs(),B1(r.current,2,null,r,null,null),hu(),o[ys]=null}};function Nu(r){this._internalRoot=r}Nu.prototype.unstable_scheduleHydration=function(r){if(r){var o=bg();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Ji.length&&o!==0&&o<Ji[u].priority;u++);Ji.splice(u,0,r),u===0&&I1(r)}};var q1=e.version;if(q1!=="19.0.0")throw Error(i(527,q1,"19.0.0"));ne.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=W(o),r=r!==null?he(r):null,r=r===null?null:r.stateNode,r};var vM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:wr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Oo=Ru.inject(vM),Zt=Ru}catch{}}return Ma.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,f="",p=l0,y=u0,S=c0,w=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(w=o.unstable_transitionCallbacks)),o=z1(r,1,!1,null,null,u,f,p,y,S,w,null),r[ys]=o.current,qd(r.nodeType===8?r.parentNode:r),new lh(o)},Ma.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var f=!1,p="",y=l0,S=u0,w=c0,O=null,j=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(w=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(O=u.unstable_transitionCallbacks),u.formState!==void 0&&(j=u.formState)),o=z1(r,1,!0,o,u??null,f,p,y,S,w,O,j),o.context=L1(null),u=o.current,f=on(),p=Ui(f),p.callback=null,Ii(u,p,f),o.current.lanes=f,No(o,f),$n(o),r[ys]=o.current,qd(r),new Nu(o)},Ma.version="19.0.0",Ma}var tb;function AM(){if(tb)return fh.exports;tb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fh.exports=kM(),fh.exports}var OM=AM(),ka={},nb;function DM(){if(nb)return ka;nb=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.parse=l,ka.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,v){const x=new a,E=b.length;if(E<2)return x;const C=(v==null?void 0:v.decode)||m;let M=0;do{const k=b.indexOf("=",M);if(k===-1)break;const D=b.indexOf(";",M),B=D===-1?E:D;if(k>B){M=b.lastIndexOf(";",k-1)+1;continue}const z=c(b,M,k),H=d(b,k,z),q=b.slice(z,H);if(x[q]===void 0){let $=c(b,k+1,B),P=d(b,B,$);const X=C(b.slice($,P));x[q]=X}M=B+1}while(M<E);return x}function c(b,v,x){do{const E=b.charCodeAt(v);if(E!==32&&E!==9)return v}while(++v<x);return x}function d(b,v,x){for(;v>x;){const E=b.charCodeAt(--v);if(E!==32&&E!==9)return v+1}return x}function h(b,v,x){const E=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=E(v);if(!e.test(C))throw new TypeError(`argument val is invalid: ${v}`);let M=b+"="+C;if(!x)return M;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);M+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);M+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);M+="; Path="+x.path}if(x.expires){if(!g(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);M+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(M+="; HttpOnly"),x.secure&&(M+="; Secure"),x.partitioned&&(M+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return M}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function g(b){return s.call(b)==="[object Date]"}return ka}DM();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ib="popstate";function NM(t={}){function e(i,s){let{pathname:a,search:l,hash:c}=i.location;return ip("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Ga(s)}return jM(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RM(){return Math.random().toString(36).substring(2,10)}function rb(t,e){return{usr:t.state,key:t.key,idx:e}}function ip(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:n,key:e&&e.key||i||RM()}}function Ga({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function To(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function jM(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let C=m(),M=C==null?null:C-h;h=C,d&&d({action:c,location:E.location,delta:M})}function b(C,M){c="PUSH";let k=ip(E.location,C,M);h=m()+1;let D=rb(k,h),B=E.createHref(k);try{l.pushState(D,"",B)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(B)}a&&d&&d({action:c,location:E.location,delta:1})}function v(C,M){c="REPLACE";let k=ip(E.location,C,M);h=m();let D=rb(k,h),B=E.createHref(k);l.replaceState(D,"",B),a&&d&&d({action:c,location:E.location,delta:0})}function x(C){let M=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof C=="string"?C:Ga(C);return k=k.replace(/ $/,"%20"),Xe(M,`No window.location.(origin|href) available to create URL for href: ${k}`),new URL(k,M)}let E={get action(){return c},get location(){return t(s,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(ib,g),d=C,()=>{s.removeEventListener(ib,g),d=null}},createHref(C){return e(s,C)},createURL:x,encodeLocation(C){let M=x(C);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:v,go(C){return l.go(C)}};return E}function eS(t,e,n="/"){return _M(t,e,n,!1)}function _M(t,e,n,i){let s=typeof e=="string"?To(e):e,a=hr(s.pathname||"/",n);if(a==null)return null;let l=tS(t);zM(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=GM(a);c=$M(l[d],h,i)}return c}function tS(t,e=[],n=[],i=""){let s=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Xe(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let h=Ei([i,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(Xe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),tS(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:IM(h,a.index),routesMeta:m})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let d of nS(a.path))s(a,l,d)}),e}function nS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=nS(i.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function zM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FM(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var LM=/^:[\w-]+$/,BM=3,VM=2,PM=1,HM=10,UM=-2,sb=t=>t==="*";function IM(t,e){let n=t.split("/"),i=n.length;return n.some(sb)&&(i+=UM),e&&(i+=VM),n.filter(s=>!sb(s)).reduce((s,a)=>s+(LM.test(a)?BM:a===""?PM:HM),i)}function FM(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function $M(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",l=[];for(let c=0;c<i.length;++c){let d=i[c],h=c===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=ic({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),b=d.route;if(!g&&h&&n&&!i[i.length-1].route.index&&(g=ic({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Ei([a,g.pathname]),pathnameBase:WM(Ei([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=Ei([a,g.pathnameBase]))}return l}function ic(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=qM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((h,{paramName:m,isOptional:g},b)=>{if(m==="*"){let x=c[b]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const v=c[b];return g&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function qM(t,e=!1,n=!0){Xn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function GM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function KM(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?To(t):t;return{pathname:n?n.startsWith("/")?n:YM(n,e):e,search:QM(i),hash:JM(s)}}function YM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mh(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iS(t){let e=XM(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function rS(t,e,n,i=!1){let s;typeof t=="string"?s=To(t):(s={...t},Xe(!s.pathname||!s.pathname.includes("?"),mh("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),mh("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),mh("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;s.pathname=b.join("/")}c=g>=0?e[g]:"/"}let d=KM(s,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Ei=t=>t.join("/").replace(/\/\/+/g,"/"),WM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sS=["POST","PUT","PATCH","DELETE"];new Set(sS);var e5=["GET",...sS];new Set(e5);var Eo=A.createContext(null);Eo.displayName="DataRouter";var Ac=A.createContext(null);Ac.displayName="DataRouterState";var oS=A.createContext({isTransitioning:!1});oS.displayName="ViewTransition";var t5=A.createContext(new Map);t5.displayName="Fetchers";var n5=A.createContext(null);n5.displayName="Await";var Jn=A.createContext(null);Jn.displayName="Navigation";var ul=A.createContext(null);ul.displayName="Location";var Zn=A.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var Qp=A.createContext(null);Qp.displayName="RouteError";function i5(t,{relative:e}={}){Xe(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=A.useContext(Jn),{hash:s,pathname:a,search:l}=fl(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Ei([n,a])),i.createHref({pathname:c,search:l,hash:s})}function cl(){return A.useContext(ul)!=null}function ps(){return Xe(cl(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(ul).location}var aS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lS(t){A.useContext(Jn).static||A.useLayoutEffect(t)}function Co(){let{isDataRoute:t}=A.useContext(Zn);return t?g5():r5()}function r5(){Xe(cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Eo),{basename:e,navigator:n}=A.useContext(Jn),{matches:i}=A.useContext(Zn),{pathname:s}=ps(),a=JSON.stringify(iS(i)),l=A.useRef(!1);return lS(()=>{l.current=!0}),A.useCallback((d,h={})=>{if(Xn(l.current,aS),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=rS(d,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ei([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,s,t])}A.createContext(null);function uS(){let{matches:t}=A.useContext(Zn),e=t[t.length-1];return e?e.params:{}}function fl(t,{relative:e}={}){let{matches:n}=A.useContext(Zn),{pathname:i}=ps(),s=JSON.stringify(iS(n));return A.useMemo(()=>rS(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function s5(t,e){return cS(t,e)}function cS(t,e,n,i){var k;Xe(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=A.useContext(Jn),{matches:l}=A.useContext(Zn),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let D=g&&g.path||"";fS(h,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let b=ps(),v;if(e){let D=typeof e=="string"?To(e):e;Xe(m==="/"||((k=D.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),v=D}else v=b;let x=v.pathname||"/",E=x;if(m!=="/"){let D=m.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=!a&&n&&n.matches&&n.matches.length>0?n.matches:eS(t,{pathname:E});Xn(g||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Xn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=c5(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:Ei([m,s.encodeLocation?s.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:Ei([m,s.encodeLocation?s.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,n,i);return e&&M?A.createElement(ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},M):M}function o5(){let t=m5(),e=ZM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,l)}var a5=A.createElement(o5,null),l5=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?A.createElement(Zn.Provider,{value:this.props.routeContext},A.createElement(Qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function u5({routeContext:t,match:e,children:n}){let i=A.useContext(Eo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Zn.Provider,{value:t},n)}function c5(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Xe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:g}=n,b=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let g,b=!1,v=null,x=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||a5,l&&(c<0&&m===0?(fS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):c===m&&(b=!0,x=h.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,m+1)),C=()=>{let M;return g?M=v:b?M=x:h.route.Component?M=A.createElement(h.route.Component,null):h.route.element?M=h.route.element:M=d,A.createElement(u5,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:M})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?A.createElement(l5,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}function Jp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f5(t){let e=A.useContext(Eo);return Xe(e,Jp(t)),e}function d5(t){let e=A.useContext(Ac);return Xe(e,Jp(t)),e}function h5(t){let e=A.useContext(Zn);return Xe(e,Jp(t)),e}function Zp(t){let e=h5(t),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function p5(){return Zp("useRouteId")}function m5(){var i;let t=A.useContext(Qp),e=d5("useRouteError"),n=Zp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function g5(){let{router:t}=f5("useNavigate"),e=Zp("useNavigate"),n=A.useRef(!1);return lS(()=>{n.current=!0}),A.useCallback(async(s,a={})=>{Xn(n.current,aS),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var ob={};function fS(t,e,n){!e&&!ob[t]&&(ob[t]=!0,Xn(!1,n))}A.memo(y5);function y5({routes:t,future:e,state:n}){return cS(t,void 0,n,e)}function Kr(t){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b5({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){Xe(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=To(n));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:b="default"}=n,v=A.useMemo(()=>{let x=hr(d,l);return x==null?null:{location:{pathname:x,search:h,hash:m,state:g,key:b},navigationType:i}},[l,d,h,m,g,b,i]);return Xn(v!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:A.createElement(Jn.Provider,{value:c},A.createElement(ul.Provider,{children:e,value:v}))}function v5({children:t,location:e}){return s5(rp(t),e)}function rp(t,e=[]){let n=[];return A.Children.forEach(t,(i,s)=>{if(!A.isValidElement(i))return;let a=[...e,s];if(i.type===A.Fragment){n.push.apply(n,rp(i.props.children,a));return}Xe(i.type===Kr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=rp(i.props.children,a)),n.push(l)}),n}var Gu="get",Ku="application/x-www-form-urlencoded";function Oc(t){return t!=null&&typeof t.tagName=="string"}function x5(t){return Oc(t)&&t.tagName.toLowerCase()==="button"}function S5(t){return Oc(t)&&t.tagName.toLowerCase()==="form"}function T5(t){return Oc(t)&&t.tagName.toLowerCase()==="input"}function E5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C5(t,e){return t.button===0&&(!e||e==="_self")&&!E5(t)}var ju=null;function w5(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var M5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gh(t){return t!=null&&!M5.has(t)?(Xn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ku}"`),null):t}function k5(t,e){let n,i,s,a,l;if(S5(t)){let c=t.getAttribute("action");i=c?hr(c,e):null,n=t.getAttribute("method")||Gu,s=gh(t.getAttribute("enctype"))||Ku,a=new FormData(t)}else if(x5(t)||T5(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(i=d?hr(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Gu,s=gh(t.getAttribute("formenctype"))||gh(c.getAttribute("enctype"))||Ku,a=new FormData(c,t),!w5()){let{name:h,type:m,value:g}=t;if(m==="image"){let b=h?`${h}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else h&&a.append(h,g)}}else{if(Oc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gu,i=null,s=Ku,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}function em(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function A5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O5(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function D5(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await A5(a,n);return l.links?l.links():[]}return[]}));return _5(i.flat(1).filter(O5).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ab(t,e,n,i,s,a){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{var g;let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function N5(t,e){return R5(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function R5(t){return[...new Set(t)]}function j5(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function _5(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(j5(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function z5(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function L5(){let t=A.useContext(Eo);return em(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function B5(){let t=A.useContext(Ac);return em(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tm=A.createContext(void 0);tm.displayName="FrameworkContext";function dS(){let t=A.useContext(tm);return em(t,"You must render this element inside a <HydratedRouter> element"),t}function V5(t,e){let n=A.useContext(tm),[i,s]=A.useState(!1),[a,l]=A.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,b=A.useRef(null);A.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=M=>{M.forEach(k=>{l(k.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[t]),A.useEffect(()=>{if(i){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[i]);let v=()=>{s(!0)},x=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:Aa(c,v),onBlur:Aa(d,x),onMouseEnter:Aa(h,v),onMouseLeave:Aa(m,x),onTouchStart:Aa(g,v)}]:[!1,b,{}]}function Aa(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function P5({page:t,...e}){let{router:n}=L5(),i=A.useMemo(()=>eS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?A.createElement(U5,{page:t,matches:i,...e}):null}function H5(t){let{manifest:e,routeModules:n}=dS(),[i,s]=A.useState([]);return A.useEffect(()=>{let a=!1;return D5(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),i}function U5({page:t,matches:e,...n}){let i=ps(),{manifest:s,routeModules:a}=dS(),{loaderData:l,matches:c}=B5(),d=A.useMemo(()=>ab(t,e,c,s,i,"data"),[t,e,c,s,i]),h=A.useMemo(()=>ab(t,e,c,s,i,"assets"),[t,e,c,s,i]),m=A.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let v=new Set,x=!1;if(e.forEach(C=>{var k;let M=s.routes[C.route.id];!M||!M.hasLoader||(!d.some(D=>D.route.id===C.route.id)&&C.route.id in l&&((k=a[C.route.id])!=null&&k.shouldRevalidate)||M.hasClientLoader?x=!0:v.add(C.route.id))}),v.size===0)return[];let E=z5(t);return x&&v.size>0&&E.searchParams.set("_routes",e.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[l,i,s,d,e,t,a]),g=A.useMemo(()=>N5(h,s),[h,s]),b=H5(h);return A.createElement(A.Fragment,null,m.map(v=>A.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>A.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),b.map(({key:v,link:x})=>A.createElement("link",{key:v,...x})))}function I5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hS&&(window.__reactRouterVersion="7.1.5")}catch{}function F5({basename:t,children:e,window:n}){let i=A.useRef();i.current==null&&(i.current=NM({window:n,v5Compat:!0}));let s=i.current,[a,l]=A.useState({action:s.action,location:s.location}),c=A.useCallback(d=>{A.startTransition(()=>l(d))},[l]);return A.useLayoutEffect(()=>s.listen(c),[s,c]),A.createElement(b5,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var pS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rc=A.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:d,to:h,preventScrollReset:m,viewTransition:g,...b},v){let{basename:x}=A.useContext(Jn),E=typeof h=="string"&&pS.test(h),C,M=!1;if(typeof h=="string"&&E&&(C=h,hS))try{let P=new URL(window.location.href),X=h.startsWith("//")?new URL(P.protocol+h):new URL(h),re=hr(X.pathname,x);X.origin===P.origin&&re!=null?h=re+X.search+X.hash:M=!0}catch{Xn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=i5(h,{relative:s}),[D,B,z]=V5(i,b),H=K5(h,{replace:l,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:g});function q(P){e&&e(P),P.defaultPrevented||H(P)}let $=A.createElement("a",{...b,...z,href:C||k,onClick:M||a?e:q,ref:I5(v,B),target:d,"data-discover":!E&&n==="render"?"true":void 0});return D&&!E?A.createElement(A.Fragment,null,$,A.createElement(P5,{page:k})):$});rc.displayName="Link";var $5=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:d,...h},m){let g=fl(l,{relative:h.relative}),b=ps(),v=A.useContext(Ac),{navigator:x,basename:E}=A.useContext(Jn),C=v!=null&&J5(g)&&c===!0,M=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,k=b.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(k=k.toLowerCase(),D=D?D.toLowerCase():null,M=M.toLowerCase()),D&&E&&(D=hr(D,E)||D);const B=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let z=k===M||!s&&k.startsWith(M)&&k.charAt(B)==="/",H=D!=null&&(D===M||!s&&D.startsWith(M)&&D.charAt(M.length)==="/"),q={isActive:z,isPending:H,isTransitioning:C},$=z?e:void 0,P;typeof i=="function"?P=i(q):P=[i,z?"active":null,H?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let X=typeof a=="function"?a(q):a;return A.createElement(rc,{...h,"aria-current":$,className:P,ref:m,style:X,to:l,viewTransition:c},typeof d=="function"?d(q):d)});$5.displayName="NavLink";var q5=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:l=Gu,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,...b},v)=>{let x=W5(),E=Q5(c,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&pS.test(c),k=D=>{if(d&&d(D),D.defaultPrevented)return;D.preventDefault();let B=D.nativeEvent.submitter,z=(B==null?void 0:B.getAttribute("formmethod"))||l;x(B||D.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:g})};return A.createElement("form",{ref:v,method:C,action:E,onSubmit:i?d:k,...b,"data-discover":!M&&t==="render"?"true":void 0})});q5.displayName="Form";function G5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mS(t){let e=A.useContext(Eo);return Xe(e,G5(t)),e}function K5(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Co(),d=ps(),h=fl(t,{relative:a});return A.useCallback(m=>{if(C5(m,e)){m.preventDefault();let g=n!==void 0?n:Ga(d)===Ga(h);c(t,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[d,c,h,n,i,e,t,s,a,l])}var Y5=0,X5=()=>`__${String(++Y5)}__`;function W5(){let{router:t}=mS("useSubmit"),{basename:e}=A.useContext(Jn),n=p5();return A.useCallback(async(i,s={})=>{let{action:a,method:l,encType:c,formData:d,body:h}=k5(i,e);if(s.navigate===!1){let m=s.fetcherKey||X5();await t.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Q5(t,{relative:e}={}){let{basename:n}=A.useContext(Jn),i=A.useContext(Zn);Xe(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...fl(t||".",{relative:e})},l=ps();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ei([n,a.pathname])),Ga(a)}function J5(t,e={}){let n=A.useContext(oS);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mS("useViewTransitionState"),s=fl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=hr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=hr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ic(s.pathname,l)!=null||ic(s.pathname,a)!=null}new TextEncoder;var Z5=Zx();const ek=Xp(Z5),gS=A.createContext(void 0),tk=({children:t})=>{const[e,n]=A.useState(!1),[i,s]=A.useState(null);A.useEffect(()=>{(async()=>{try{const h=await(await fetch("http://localhost:3000/session",{method:"GET",credentials:"include"})).json();h.loggedIn&&(n(!0),s({id:h.userId,role:h.role,email:h.email,firstname:h.firstname,lastname:h.lastname}))}catch(d){console.error("Error checking session:",d)}})()},[]);const a=c=>{n(!0),s(c)},l=async()=>{await fetch("http://localhost:3000/logout",{method:"POST",credentials:"include"}),n(!1),s(null)};return T.jsx(gS.Provider,{value:{loggedIn:e,user:i,login:a,logout:l},children:t})},br=()=>{const t=Q.useContext(gS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},nm=A.createContext({});function im(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dc=A.createContext(null),rm=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class nk extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ik({children:t,isPresent:e,anchorX:n}){const i=A.useId(),s=A.useRef(null),a=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=A.useContext(rm);return A.useInsertionEffect(()=>{const{width:c,height:d,top:h,left:m,right:g}=a.current;if(e||!s.current||!c||!d)return;const b=n==="left"?`left: ${m}`:`right: ${g}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");return l&&(v.nonce=l),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${b}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),T.jsx(nk,{isPresent:e,childRef:s,sizeRef:a,children:A.cloneElement(t,{ref:s})})}const rk=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c})=>{const d=im(sk),h=A.useId(),m=A.useCallback(b=>{d.set(b,!0);for(const v of d.values())if(!v)return;i&&i()},[d,i]),g=A.useMemo(()=>({id:h,initial:e,isPresent:n,custom:s,onExitComplete:m,register:b=>(d.set(b,!1),()=>d.delete(b))}),a?[Math.random(),m]:[n,m]);return A.useMemo(()=>{d.forEach((b,v)=>d.set(v,!1))},[n]),A.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),l==="popLayout"&&(t=T.jsx(ik,{isPresent:n,anchorX:c,children:t})),T.jsx(Dc.Provider,{value:g,children:t})};function sk(){return new Map}function yS(t=!0){const e=A.useContext(Dc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,a=A.useId();A.useEffect(()=>{t&&s(a)},[t]);const l=A.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,l]:[!0]}const _u=t=>t.key||"";function lb(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const sm=typeof window<"u",bS=sm?A.useLayoutEffect:A.useEffect,ok=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left"})=>{const[d,h]=yS(l),m=A.useMemo(()=>lb(t),[t]),g=l&&!d?[]:m.map(_u),b=A.useRef(!0),v=A.useRef(m),x=im(()=>new Map),[E,C]=A.useState(m),[M,k]=A.useState(m);bS(()=>{b.current=!1,v.current=m;for(let z=0;z<M.length;z++){const H=_u(M[z]);g.includes(H)?x.delete(H):x.get(H)!==!0&&x.set(H,!1)}},[M,g.length,g.join("-")]);const D=[];if(m!==E){let z=[...m];for(let H=0;H<M.length;H++){const q=M[H],$=_u(q);g.includes($)||(z.splice(H,0,q),D.push(q))}return a==="wait"&&D.length&&(z=D),k(lb(z)),C(m),null}const{forceRender:B}=A.useContext(nm);return T.jsx(T.Fragment,{children:M.map(z=>{const H=_u(z),q=l&&!d?!1:m===M||g.includes(H),$=()=>{if(x.has(H))x.set(H,!0);else return;let P=!0;x.forEach(X=>{X||(P=!1)}),P&&(B==null||B(),k(v.current),l&&(h==null||h()),i&&i())};return T.jsx(rk,{isPresent:q,initial:!b.current||n?void 0:!1,custom:q?void 0:e,presenceAffectsLayout:s,mode:a,onExitComplete:q?void 0:$,anchorX:c,children:z},H)})})},un=t=>t;let vS=un;function om(t){let e;return()=>(e===void 0&&(e=t()),e)}const ho=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Ci=t=>t*1e3,wi=t=>t/1e3,ak={useManualTiming:!1};function lk(t){let e=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){a.has(h)&&(d.schedule(h),t()),h(l)}const d={schedule:(h,m=!1,g=!1)=>{const v=g&&i?e:n;return m&&a.add(h),v.has(h)||v.add(h),h},cancel:h=>{n.delete(h),a.delete(h)},process:h=>{if(l=h,i){s=!0;return}i=!0,[e,n]=[n,e],e.forEach(c),e.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const zu=["read","resolveKeyframes","update","preRender","render","postRender"],uk=40;function xS(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=zu.reduce((M,k)=>(M[k]=lk(a),M),{}),{read:c,resolveKeyframes:d,update:h,preRender:m,render:g,postRender:b}=l,v=()=>{const M=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(M-s.timestamp,uk),1),s.timestamp=M,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),m.process(s),g.process(s),b.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(v))},x=()=>{n=!0,i=!0,s.isProcessing||t(v)};return{schedule:zu.reduce((M,k)=>{const D=l[k];return M[k]=(B,z=!1,H=!1)=>(n||x(),D.schedule(B,z,H)),M},{}),cancel:M=>{for(let k=0;k<zu.length;k++)l[zu[k]].cancel(M)},state:s,steps:l}}const{schedule:Fe,cancel:pr,state:wt,steps:yh}=xS(typeof requestAnimationFrame<"u"?requestAnimationFrame:un,!0),SS=A.createContext({strict:!1}),ub={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},po={};for(const t in ub)po[t]={isEnabled:e=>ub[t].some(n=>!!e[n])};function ck(t){for(const e in t)po[e]={...po[e],...t[e]}}const fk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fk.has(t)}let TS=t=>!sc(t);function dk(t){t&&(TS=e=>e.startsWith("on")?!sc(e):t(e))}try{dk(require("@emotion/is-prop-valid").default)}catch{}function hk(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(TS(s)||n===!0&&sc(s)||!e&&!sc(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function pk(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Nc=A.createContext({});function Rc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ka(t){return typeof t=="string"||Array.isArray(t)}const am=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lm=["initial",...am];function jc(t){return Rc(t.animate)||lm.some(e=>Ka(t[e]))}function ES(t){return!!(jc(t)||t.variants)}function mk(t,e){if(jc(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ka(n)?n:void 0,animate:Ka(i)?i:void 0}}return t.inherit!==!1?e:{}}function gk(t){const{initial:e,animate:n}=mk(t,A.useContext(Nc));return A.useMemo(()=>({initial:e,animate:n}),[cb(e),cb(n)])}function cb(t){return Array.isArray(t)?t.join(" "):t}const yk=Symbol.for("motionComponentSymbol");function no(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bk(t,e,n){return A.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):no(n)&&(n.current=i))},[e])}const um=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vk="framerAppearId",CS="data-"+um(vk),{schedule:cm}=xS(queueMicrotask,!1),wS=A.createContext({});function xk(t,e,n,i,s){var a,l;const{visualElement:c}=A.useContext(Nc),d=A.useContext(SS),h=A.useContext(Dc),m=A.useContext(rm).reducedMotion,g=A.useRef(null);i=i||d.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const b=g.current,v=A.useContext(wS);b&&!b.projection&&s&&(b.type==="html"||b.type==="svg")&&Sk(g.current,n,s,v);const x=A.useRef(!1);A.useInsertionEffect(()=>{b&&x.current&&b.update(n,h)});const E=n[CS],C=A.useRef(!!E&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,E))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,E)));return bS(()=>{b&&(x.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),cm.render(b.render),C.current&&b.animationState&&b.animationState.animateChanges())}),A.useEffect(()=>{b&&(!C.current&&b.animationState&&b.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)===null||M===void 0||M.call(window,E)}),C.current=!1))}),b}function Sk(t,e,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:MS(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&no(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:h})}function MS(t){if(t)return t.options.allowProjection!==!1?t.projection:MS(t.parent)}function Tk({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:s}){var a,l;t&&ck(t);function c(h,m){let g;const b={...A.useContext(rm),...h,layoutId:Ek(h)},{isStatic:v}=b,x=gk(h),E=i(h,v);if(!v&&sm){Ck();const C=wk(b);g=C.MeasureLayout,x.visualElement=xk(s,E,b,e,C.ProjectionNode)}return T.jsxs(Nc.Provider,{value:x,children:[g&&x.visualElement?T.jsx(g,{visualElement:x.visualElement,...b}):null,n(s,h,bk(E,x.visualElement,m),E,v,x.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const d=A.forwardRef(c);return d[yk]=s,d}function Ek({layoutId:t}){const e=A.useContext(nm).id;return e&&t!==void 0?e+"-"+t:t}function Ck(t,e){A.useContext(SS).strict}function wk(t){const{drag:e,layout:n}=po;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const kS=t=>e=>typeof e=="string"&&e.startsWith(t),fm=kS("--"),Mk=kS("var(--"),dm=t=>Mk(t)?kk.test(t.split("/*")[0].trim()):!1,kk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ya={};function Ak(t){for(const e in t)Ya[e]=t[e],fm(e)&&(Ya[e].isCSSVariable=!0)}const wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ms=new Set(wo);function AS(t,{layout:e,layoutId:n}){return ms.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ya[t]||t==="opacity")}const _t=t=>!!(t&&t.getVelocity),OS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ai=(t,e,n)=>n>e?e:n<t?t:n,Mo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xa={...Mo,transform:t=>Ai(0,1,t)},Lu={...Mo,default:1},dl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),er=dl("deg"),Kn=dl("%"),me=dl("px"),Ok=dl("vh"),Dk=dl("vw"),fb={...Kn,parse:t=>Kn.parse(t)/100,transform:t=>Kn.transform(t*100)},Nk={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me},Rk={rotate:er,rotateX:er,rotateY:er,rotateZ:er,scale:Lu,scaleX:Lu,scaleY:Lu,scaleZ:Lu,skew:er,skewX:er,skewY:er,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Xa,originX:fb,originY:fb,originZ:me},db={...Mo,transform:Math.round},hm={...Nk,...Rk,zIndex:db,size:me,fillOpacity:Xa,strokeOpacity:Xa,numOctaves:db},jk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_k=wo.length;function zk(t,e,n){let i="",s=!0;for(let a=0;a<_k;a++){const l=wo[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=OS(c,hm[l]);if(!d){s=!1;const m=jk[l]||l;i+=`${m}(${h}) `}n&&(e[l]=h)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function pm(t,e,n){const{style:i,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const h=e[d];if(ms.has(d)){l=!0;continue}else if(fm(d)){s[d]=h;continue}else{const m=OS(h,hm[d]);d.startsWith("origin")?(c=!0,a[d]=m):i[d]=m}}if(e.transform||(l||n?i.transform=zk(e,t.transform,n):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=a;i.transformOrigin=`${d} ${h} ${m}`}}const mm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DS(t,e,n){for(const i in e)!_t(e[i])&&!AS(i,n)&&(t[i]=e[i])}function Lk({transformTemplate:t},e){return A.useMemo(()=>{const n=mm();return pm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Bk(t,e){const n=t.style||{},i={};return DS(i,n,t),Object.assign(i,Lk(t,e)),i}function Vk(t,e){const n={},i=Bk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Pk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gm(t){return typeof t!="string"||t.includes("-")?!1:!!(Pk.indexOf(t)>-1||/[A-Z]/u.test(t))}const Hk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Uk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ik(t,e,n=1,i=0,s=!0){t.pathLength=1;const a=s?Hk:Uk;t[a.offset]=me.transform(-i);const l=me.transform(e),c=me.transform(n);t[a.array]=`${l} ${c}`}function hb(t,e,n){return typeof t=="string"?t:me.transform(e+n*t)}function Fk(t,e,n){const i=hb(e,t.x,t.width),s=hb(n,t.y,t.height);return`${i} ${s}`}function ym(t,{attrX:e,attrY:n,attrScale:i,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...h},m,g){if(pm(t,h,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:v,dimensions:x}=t;b.transform&&(x&&(v.transform=b.transform),delete b.transform),x&&(s!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=Fk(x,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),l!==void 0&&Ik(b,l,c,d,!1)}const NS=()=>({...mm(),attrs:{}}),bm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $k(t,e,n,i){const s=A.useMemo(()=>{const a=NS();return ym(a,e,bm(i),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};DS(a,t.style,t),s.style={...a,...s.style}}return s}function qk(t=!1){return(n,i,s,{latestValues:a},l)=>{const d=(gm(n)?$k:Vk)(i,a,l,n),h=hk(i,typeof n=="string",t),m=n!==A.Fragment?{...h,...d,ref:s}:{},{children:g}=i,b=A.useMemo(()=>_t(g)?g.get():g,[g]);return A.createElement(n,{...m,children:b})}}function pb(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function vm(t,e,n,i){if(typeof e=="function"){const[s,a]=pb(i);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=pb(i);e=e(n!==void 0?n:t.custom,s,a)}return e}const sp=t=>Array.isArray(t),Gk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Kk=t=>sp(t)?t[t.length-1]||0:t;function Yu(t){const e=_t(t)?t.get():t;return Gk(e)?e.toValue():e}function Yk({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,s,a){const l={latestValues:Xk(i,s,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:i,current:c,...l}),l.onUpdate=c=>n(c)),l}const RS=t=>(e,n)=>{const i=A.useContext(Nc),s=A.useContext(Dc),a=()=>Yk(t,e,i,s);return n?a():im(a)};function Xk(t,e,n,i){const s={},a=i(t,{});for(const b in a)s[b]=Yu(a[b]);let{initial:l,animate:c}=t;const d=jc(t),h=ES(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?c:l;if(g&&typeof g!="boolean"&&!Rc(g)){const b=Array.isArray(g)?g:[g];for(let v=0;v<b.length;v++){const x=vm(t,b[v]);if(x){const{transitionEnd:E,transition:C,...M}=x;for(const k in M){let D=M[k];if(Array.isArray(D)){const B=m?D.length-1:0;D=D[B]}D!==null&&(s[k]=D)}for(const k in E)s[k]=E[k]}}}return s}function xm(t,e,n){var i;const{style:s}=t,a={};for(const l in s)(_t(s[l])||e.style&&_t(e.style[l])||AS(l,t)||((i=n==null?void 0:n.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[l]=s[l]);return a}const Wk={useVisualState:RS({scrapeMotionValuesFromProps:xm,createRenderState:mm})};function jS(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function _S(t,{style:e,vars:n},i,s){Object.assign(t.style,e,s&&s.getProjectionStyles(i));for(const a in n)t.style.setProperty(a,n[a])}const zS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LS(t,e,n,i){_S(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(zS.has(s)?s:um(s),e.attrs[s])}function BS(t,e,n){const i=xm(t,e,n);for(const s in t)if(_t(t[s])||_t(e[s])){const a=wo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=t[s]}return i}const mb=["x","y","width","height","cx","cy","r"],Qk={useVisualState:RS({scrapeMotionValuesFromProps:BS,createRenderState:NS,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in s)if(ms.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<mb.length;c++){const d=mb[c];t[d]!==e[d]&&(l=!0)}l&&Fe.read(()=>{jS(n,i),Fe.render(()=>{ym(i,s,bm(n.tagName),t.transformTemplate),LS(n,i)})})}})};function Jk(t,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...gm(i)?Qk:Wk,preloadedFeatures:t,useRender:qk(s),createVisualElement:e,Component:i};return Tk(l)}}function VS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function _c(t,e,n){const i=t.getProps();return vm(i,e,n!==void 0?n:i.custom,t)}const Zk=om(()=>window.ScrollTimeline!==void 0);class eA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(s=>{if(Zk()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tA extends eA{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Sm(t,e){return t?t[e]||t.default||t:void 0}const op=2e4;function PS(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<op;)e+=n,i=t.next(e);return e>=op?1/0:e}function Tm(t){return typeof t=="function"}function gb(t,e){t.timeline=e,t.onfinish=null}const Em=t=>Array.isArray(t)&&typeof t[0]=="number",nA={linearEasing:void 0};function iA(t,e){const n=om(t);return()=>{var i;return(i=nA[e])!==null&&i!==void 0?i:n()}}const oc=iA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),HS=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)i+=t(ho(0,s-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function US(t){return!!(typeof t=="function"&&oc()||!t||typeof t=="string"&&(t in ap||oc())||Em(t)||Array.isArray(t)&&t.every(US))}const Na=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,ap={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Na([0,.65,.55,1]),circOut:Na([.55,0,1,.45]),backIn:Na([.31,.01,.66,-.59]),backOut:Na([.33,1.53,.69,.99])};function IS(t,e){if(t)return typeof t=="function"&&oc()?HS(t,e):Em(t)?Na(t):Array.isArray(t)?t.map(n=>IS(n,e)||ap.easeOut):ap[t]}const zn={x:!1,y:!1};function FS(){return zn.x||zn.y}function rA(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const a=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function $S(t,e){const n=rA(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function yb(t){return!(t.pointerType==="touch"||FS())}function sA(t,e,n={}){const[i,s,a]=$S(t,n),l=c=>{if(!yb(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=g=>{yb(g)&&(h(g),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const qS=(t,e)=>e?t===e?!0:qS(t,e.parentElement):!1,Cm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aA(t){return oA.has(t.tagName)||t.tabIndex!==-1}const Ra=new WeakSet;function bb(t){return e=>{e.key==="Enter"&&t(e)}}function bh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lA=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=bb(()=>{if(Ra.has(n))return;bh(n,"down");const s=bb(()=>{bh(n,"up")}),a=()=>bh(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function vb(t){return Cm(t)&&!FS()}function uA(t,e,n={}){const[i,s,a]=$S(t,n),l=c=>{const d=c.currentTarget;if(!vb(c)||Ra.has(d))return;Ra.add(d);const h=e(d,c),m=(v,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),!(!vb(v)||!Ra.has(d))&&(Ra.delete(d),typeof h=="function"&&h(v,{success:x}))},g=v=>{m(v,n.useGlobalTarget||qS(d,v.target))},b=v=>{m(v,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",b,s)};return i.forEach(c=>{!aA(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c.addEventListener("focus",h=>lA(h,s),s)}),a}function cA(t){return t==="x"||t==="y"?zn[t]?null:(zn[t]=!0,()=>{zn[t]=!1}):zn.x||zn.y?null:(zn.x=zn.y=!0,()=>{zn.x=zn.y=!1})}const GS=new Set(["width","height","top","left","right","bottom",...wo]);let Xu;function fA(){Xu=void 0}const Yn={now:()=>(Xu===void 0&&Yn.set(wt.isProcessing||ak.useManualTiming?wt.timestamp:performance.now()),Xu),set:t=>{Xu=t,queueMicrotask(fA)}};function wm(t,e){t.indexOf(e)===-1&&t.push(e)}function Mm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class km{constructor(){this.subscriptions=[]}add(e){return wm(this.subscriptions,e),()=>Mm(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function KS(t,e){return e?t*(1e3/e):0}const xb=30,dA=t=>!isNaN(parseFloat(t));class hA{constructor(e,n={}){this.version="12.0.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const a=Yn.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new km);const i=this.events[e].add(n);return e==="change"?()=>{i(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xb);return KS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(t,e){return new hA(t,e)}function pA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wa(n))}function mA(t,e){const n=_c(t,e);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const c=Kk(a[l]);pA(t,l,c)}}function gA(t){return!!(_t(t)&&t.add)}function lp(t,e){const n=t.getValue("willChange");if(gA(n))return n.add(e)}function YS(t){return t.props[CS]}const XS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yA=1e-7,bA=12;function vA(t,e,n,i,s){let a,l,c=0;do l=e+(n-e)/2,a=XS(l,i,s)-t,a>0?n=l:e=l;while(Math.abs(a)>yA&&++c<bA);return l}function hl(t,e,n,i){if(t===e&&n===i)return un;const s=a=>vA(a,0,1,t,n);return a=>a===0||a===1?a:XS(s(a),e,i)}const WS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QS=t=>e=>1-t(1-e),JS=hl(.33,1.53,.69,.99),Am=QS(JS),ZS=WS(Am),e2=t=>(t*=2)<1?.5*Am(t):.5*(2-Math.pow(2,-10*(t-1))),Om=t=>1-Math.sin(Math.acos(t)),t2=QS(Om),n2=WS(Om),i2=t=>/^0[^.\s]+$/u.test(t);function xA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||i2(t):!0}const Ba=t=>Math.round(t*1e5)/1e5,Dm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SA(t){return t==null}const TA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nm=(t,e)=>n=>!!(typeof n=="string"&&TA.test(n)&&n.startsWith(t)||e&&!SA(n)&&Object.prototype.hasOwnProperty.call(n,e)),r2=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,c]=i.match(Dm);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},EA=t=>Ai(0,255,t),vh={...Mo,transform:t=>Math.round(EA(t))},Jr={test:Nm("rgb","red"),parse:r2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+vh.transform(t)+", "+vh.transform(e)+", "+vh.transform(n)+", "+Ba(Xa.transform(i))+")"};function CA(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const up={test:Nm("#"),parse:CA,transform:Jr.transform},io={test:Nm("hsl","hue"),parse:r2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Kn.transform(Ba(e))+", "+Kn.transform(Ba(n))+", "+Ba(Xa.transform(i))+")"},Rt={test:t=>Jr.test(t)||up.test(t)||io.test(t),parse:t=>Jr.test(t)?Jr.parse(t):io.test(t)?io.parse(t):up.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Jr.transform(t):io.transform(t)},wA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MA(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Dm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(wA))===null||n===void 0?void 0:n.length)||0)>0}const s2="number",o2="color",kA="var",AA="var(",Sb="${}",OA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qa(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(OA,d=>(Rt.test(d)?(i.color.push(a),s.push(o2),n.push(Rt.parse(d))):d.startsWith(AA)?(i.var.push(a),s.push(kA),n.push(d)):(i.number.push(a),s.push(s2),n.push(parseFloat(d))),++a,Sb)).split(Sb);return{values:n,split:c,indexes:i,types:s}}function a2(t){return Qa(t).values}function l2(t){const{split:e,types:n}=Qa(t),i=e.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===s2?a+=Ba(s[l]):c===o2?a+=Rt.transform(s[l]):a+=s[l]}return a}}const DA=t=>typeof t=="number"?0:t;function NA(t){const e=a2(t);return l2(t)(e.map(DA))}const mr={test:MA,parse:a2,createTransformer:l2,getAnimatableNone:NA},RA=new Set(["brightness","contrast","saturate","opacity"]);function jA(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Dm)||[];if(!i)return t;const s=n.replace(i,"");let a=RA.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+s+")"}const _A=/\b([a-z-]*)\(.*?\)/gu,cp={...mr,getAnimatableNone:t=>{const e=t.match(_A);return e?e.map(jA).join(" "):t}},zA={...hm,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:cp,WebkitFilter:cp},Rm=t=>zA[t];function u2(t,e){let n=Rm(t);return n!==cp&&(n=mr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const LA=new Set(["auto","none","0"]);function BA(t,e,n){let i=0,s;for(;i<t.length&&!s;){const a=t[i];typeof a=="string"&&!LA.has(a)&&Qa(a).values.length&&(s=t[i]),i++}if(s&&n)for(const a of e)t[a]=u2(n,s)}const Tb=t=>t===Mo||t===me,Eb=(t,e)=>parseFloat(t.split(", ")[e]),Cb=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return Eb(s[1],e);{const a=i.match(/^matrix\((.+)\)$/u);return a?Eb(a[1],t):0}},VA=new Set(["x","y","z"]),PA=wo.filter(t=>!VA.has(t));function HA(t){const e=[];return PA.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const mo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Cb(4,13),y:Cb(5,14)};mo.translateX=mo.x;mo.translateY=mo.y;const ns=new Set;let fp=!1,dp=!1;function c2(){if(dp){const t=Array.from(ns).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=HA(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{var c;(c=i.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}dp=!1,fp=!1,ns.forEach(t=>t.complete()),ns.clear()}function f2(){ns.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dp=!0)})}function UA(){f2(),c2()}class jm{constructor(e,n,i,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ns.add(this),fp||(fp=!0,Fe.read(f2),Fe.resolveKeyframes(c2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s==null?void 0:s.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ns.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ns.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const d2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),IA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FA(t){const e=IA.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function h2(t,e,n=1){const[i,s]=FA(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return d2(l)?parseFloat(l):l}return dm(s)?h2(s,e,n+1):s}const p2=t=>e=>e.test(t),$A={test:t=>t==="auto",parse:t=>t},m2=[Mo,me,Kn,er,Dk,Ok,$A],wb=t=>m2.find(p2(t));class g2 extends jm{constructor(e,n,i,s,a){super(e,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),dm(h))){const m=h2(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!GS.has(i)||e.length!==2)return;const[s,a]=e,l=wb(s),c=wb(a);if(l!==c)if(Tb(l)&&Tb(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)xA(e[s])&&i.push(s);i.length&&BA(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(i);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=mo[i](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,h])=>{n.getValue(d).set(h)}),this.resolveNoneKeyframes()}}const Mb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mr.test(t)||t==="0")&&!t.startsWith("url("));function qA(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function GA(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Mb(s,e),c=Mb(a,e);return!l||!c?!1:qA(t)||(n==="spring"||Tm(n))&&i}const KA=t=>t!==null;function zc(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(KA),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const YA=40;class y2{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yn.now(),this.options={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>YA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&UA(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Yn.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:a,delay:l,onComplete:c,onUpdate:d,isGenerator:h}=this.options;if(!h&&!GA(e,i,s,a))if(l)this.options.duration=0;else{d&&d(zc(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ye=(t,e,n)=>t+(e-t)*n;function xh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function XA({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=xh(d,c,t+1/3),a=xh(d,c,t),l=xh(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function ac(t,e){return n=>n>0?e:t}const Sh=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},WA=[up,Jr,io],QA=t=>WA.find(e=>e.test(t));function kb(t){const e=QA(t);if(!e)return!1;let n=e.parse(t);return e===io&&(n=XA(n)),n}const Ab=(t,e)=>{const n=kb(t),i=kb(e);if(!n||!i)return ac(t,e);const s={...n};return a=>(s.red=Sh(n.red,i.red,a),s.green=Sh(n.green,i.green,a),s.blue=Sh(n.blue,i.blue,a),s.alpha=Ye(n.alpha,i.alpha,a),Jr.transform(s))},JA=(t,e)=>n=>e(t(n)),pl=(...t)=>t.reduce(JA),hp=new Set(["none","hidden"]);function ZA(t,e){return hp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function e3(t,e){return n=>Ye(t,e,n)}function _m(t){return typeof t=="number"?e3:typeof t=="string"?dm(t)?ac:Rt.test(t)?Ab:i3:Array.isArray(t)?b2:typeof t=="object"?Rt.test(t)?Ab:t3:ac}function b2(t,e){const n=[...t],i=n.length,s=t.map((a,l)=>_m(a)(a,e[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function t3(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=_m(t[s])(t[s],e[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function n3(t,e){var n;const i=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=(n=t.values[c])!==null&&n!==void 0?n:0;i[a]=d,s[l]++}return i}const i3=(t,e)=>{const n=mr.createTransformer(e),i=Qa(t),s=Qa(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?hp.has(t)&&!s.values.length||hp.has(e)&&!i.values.length?ZA(t,e):pl(b2(n3(i,s),s.values),n):ac(t,e)};function v2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ye(t,e,n):_m(t)(t,e)}const r3=5;function x2(t,e,n){const i=Math.max(e-r3,0);return KS(n-t(i),e-i)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ob=.001;function s3({duration:t=et.duration,bounce:e=et.bounce,velocity:n=et.velocity,mass:i=et.mass}){let s,a,l=1-e;l=Ai(et.minDamping,et.maxDamping,l),t=Ai(et.minDuration,et.maxDuration,wi(t)),l<1?(s=h=>{const m=h*l,g=m*t,b=m-n,v=pp(h,l),x=Math.exp(-g);return Ob-b/v*x},a=h=>{const g=h*l*t,b=g*n+n,v=Math.pow(l,2)*Math.pow(h,2)*t,x=Math.exp(-g),E=pp(Math.pow(h,2),l);return(-s(h)+Ob>0?-1:1)*((b-v)*x)/E}):(s=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-.001+m*g},a=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const c=5/t,d=a3(s,a,c);if(t=Ci(t),isNaN(d))return{stiffness:et.stiffness,damping:et.damping,duration:t};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:l*2*Math.sqrt(i*h),duration:t}}}const o3=12;function a3(t,e,n){let i=n;for(let s=1;s<o3;s++)i=i-t(i)/e(i);return i}function pp(t,e){return t*Math.sqrt(1-e*e)}const l3=["duration","bounce"],u3=["stiffness","damping","mass"];function Db(t,e){return e.some(n=>t[n]!==void 0)}function c3(t){let e={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...t};if(!Db(t,u3)&&Db(t,l3))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*Ai(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:et.mass,stiffness:s,damping:a}}else{const n=s3(t);e={...e,...n,mass:et.mass},e.isResolvedFromDuration=!0}return e}function S2(t=et.visualDuration,e=et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:m,duration:g,velocity:b,isResolvedFromDuration:v}=c3({...n,velocity:-wi(n.velocity||0)}),x=b||0,E=h/(2*Math.sqrt(d*m)),C=l-a,M=wi(Math.sqrt(d/m)),k=Math.abs(C)<5;i||(i=k?et.restSpeed.granular:et.restSpeed.default),s||(s=k?et.restDelta.granular:et.restDelta.default);let D;if(E<1){const z=pp(M,E);D=H=>{const q=Math.exp(-E*M*H);return l-q*((x+E*M*C)/z*Math.sin(z*H)+C*Math.cos(z*H))}}else if(E===1)D=z=>l-Math.exp(-M*z)*(C+(x+M*C)*z);else{const z=M*Math.sqrt(E*E-1);D=H=>{const q=Math.exp(-E*M*H),$=Math.min(z*H,300);return l-q*((x+E*M*C)*Math.sinh($)+z*C*Math.cosh($))/z}}const B={calculatedDuration:v&&g||null,next:z=>{const H=D(z);if(v)c.done=z>=g;else{let q=0;E<1&&(q=z===0?Ci(x):x2(D,z,H));const $=Math.abs(q)<=i,P=Math.abs(l-H)<=s;c.done=$&&P}return c.value=c.done?l:H,c},toString:()=>{const z=Math.min(PS(B),op),H=HS(q=>B.next(z*q).value,z,30);return z+"ms "+H}};return B}function Nb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:m}){const g=t[0],b={done:!1,value:g},v=$=>c!==void 0&&$<c||d!==void 0&&$>d,x=$=>c===void 0?d:d===void 0||Math.abs(c-$)<Math.abs(d-$)?c:d;let E=n*e;const C=g+E,M=l===void 0?C:l(C);M!==C&&(E=M-g);const k=$=>-E*Math.exp(-$/i),D=$=>M+k($),B=$=>{const P=k($),X=D($);b.done=Math.abs(P)<=h,b.value=b.done?M:X};let z,H;const q=$=>{v(b.value)&&(z=$,H=S2({keyframes:[b.value,x(b.value)],velocity:x2(D,$,b.value),damping:s,stiffness:a,restDelta:h,restSpeed:m}))};return q(0),{calculatedDuration:null,next:$=>{let P=!1;return!H&&z===void 0&&(P=!0,B($),q($)),z!==void 0&&$>=z?H.next($-z):(!P&&B($),b)}}}const f3=hl(.42,0,1,1),d3=hl(0,0,.58,1),T2=hl(.42,0,.58,1),h3=t=>Array.isArray(t)&&typeof t[0]!="number",p3={linear:un,easeIn:f3,easeInOut:T2,easeOut:d3,circIn:Om,circInOut:n2,circOut:t2,backIn:Am,backInOut:ZS,backOut:JS,anticipate:e2},Rb=t=>{if(Em(t)){vS(t.length===4);const[e,n,i,s]=t;return hl(e,n,i,s)}else if(typeof t=="string")return p3[t];return t};function m3(t,e,n){const i=[],s=n||v2,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||un:e;c=pl(d,c)}i.push(c)}return i}function g3(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const a=t.length;if(vS(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=m3(e,i,s),d=c.length,h=m=>{if(l&&m<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const b=ho(t[g],t[g+1],m);return c[g](b)};return n?m=>h(Ai(t[0],t[a-1],m)):h}function y3(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=ho(0,e,i);t.push(Ye(n,1,s))}}function b3(t){const e=[0];return y3(e,t.length-1),e}function v3(t,e){return t.map(n=>n*e)}function x3(t,e){return t.map(()=>e||T2).splice(0,t.length-1)}function lc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=h3(i)?i.map(Rb):Rb(i),a={done:!1,value:e[0]},l=v3(n&&n.length===e.length?n:b3(e),t),c=g3(l,e,{ease:Array.isArray(s)?s:x3(e,s)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const S3=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Fe.update(e,!0),stop:()=>pr(e),now:()=>wt.isProcessing?wt.timestamp:Yn.now()}},T3={decay:Nb,inertia:Nb,tween:lc,keyframes:lc,spring:S2},E3=t=>t/100;class zm extends y2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:i,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||jm,c=(d,h)=>this.onKeyframesResolved(d,h);this.resolver=new l(a,c,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=Tm(n)?n:T3[n]||lc;let d,h;c!==lc&&typeof e[0]!="number"&&(d=pl(E3,v2(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});a==="mirror"&&(h=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=PS(m));const{calculatedDuration:g}=m,b=g+s,v=b*(i+1)-s;return{generator:m,mirroredGenerator:h,mapPercentToKeyframes:d,calculatedDuration:g,resolvedDuration:b,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:$}=this.options;return{done:!0,value:$[$.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:h,totalDuration:m,resolvedDuration:g}=i;if(this.startTime===null)return a.next(0);const{delay:b,repeat:v,repeatType:x,repeatDelay:E,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const M=this.currentTime-b*(this.speed>=0?1:-1),k=this.speed>=0?M<0:M>m;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let D=this.currentTime,B=a;if(v){const $=Math.min(this.currentTime,m)/g;let P=Math.floor($),X=$%1;!X&&$>=1&&(X=1),X===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(x==="reverse"?(X=1-X,E&&(X-=E/g)):x==="mirror"&&(B=l)),D=Ai(0,1,X)*g}const z=k?{done:!1,value:d[0]}:B.next(D);c&&(z.value=c(z.value));let{done:H}=z;!k&&h!==null&&(H=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return q&&s!==void 0&&(z.value=zc(d,this.options,s)),C&&C(z.value),q&&this.finish(),z}get duration(){const{resolved:e}=this;return e?wi(e.calculatedDuration):0}get time(){return wi(this.currentTime)}set time(e){e=Ci(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=wi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=S3,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const C3=new Set(["opacity","clipPath","filter","transform"]);function w3(t,e,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const h={[e]:n};d&&(h.offset=d);const m=IS(c,s);return Array.isArray(m)&&(h.easing=m),t.animate(h,{delay:i,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const M3=om(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uc=10,k3=2e4;function A3(t){return Tm(t.type)||t.type==="spring"||!US(t.ease)}function O3(t,e){const n=new zm({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const s=[];let a=0;for(;!i.done&&a<k3;)i=n.sample(a),s.push(i.value),a+=uc;return{times:void 0,keyframes:s,duration:a-uc,ease:"linear"}}const E2={anticipate:e2,backInOut:ZS,circInOut:n2};function D3(t){return t in E2}class jb extends y2{constructor(e){super(e);const{name:n,motionValue:i,element:s,keyframes:a}=this.options;this.resolver=new g2(a,(l,c)=>this.onKeyframesResolved(l,c),n,i,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:s,ease:a,type:l,motionValue:c,name:d,startTime:h}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&oc()&&D3(a)&&(a=E2[a]),A3(this.options)){const{onComplete:g,onUpdate:b,motionValue:v,element:x,...E}=this.options,C=O3(e,E);e=C.keyframes,e.length===1&&(e[1]=e[0]),i=C.duration,s=C.times,a=C.ease,l="keyframes"}const m=w3(c.owner.current,d,e,{...this.options,duration:i,times:s,ease:a});return m.startTime=h??this.calcStartTime(),this.pendingTimeline?(gb(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;c.set(zc(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return wi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return wi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ci(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return un;const{animation:i}=n;gb(i,e)}return un}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:s,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:m,onComplete:g,element:b,...v}=this.options,x=new zm({...v,keyframes:i,duration:s,type:a,ease:l,times:c,isGenerator:!0}),E=Ci(this.time);h.setWithVelocity(x.sample(E-uc).value,x.sample(E).value,uc)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=n.owner.getProps();return M3()&&i&&C3.has(i)&&!d&&!h&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const N3={type:"spring",stiffness:500,damping:25,restSpeed:10},R3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),j3={type:"keyframes",duration:.8},_3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z3=(t,{keyframes:e})=>e.length>2?j3:ms.has(t)?t.startsWith("scale")?R3(e[1]):N3:_3;function L3({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const Lm=(t,e,n,i={},s,a)=>l=>{const c=Sm(i,t)||{},d=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Ci(d);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:b=>{e.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};L3(c)||(m={...m,...z3(t,m)}),m.duration&&(m.duration=Ci(m.duration)),m.repeatDelay&&(m.repeatDelay=Ci(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!a&&e.get()!==void 0){const b=zc(m.keyframes,c);if(b!==void 0)return Fe.update(()=>{m.onUpdate(b),m.onComplete()}),new tA([])}return!a&&jb.supports(m)?new jb(m):new zm(m)};function B3({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function C2(t,e,{delay:n=0,transitionOverride:i,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const h=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const g in d){const b=t.getValue(g,(a=t.latestValues[g])!==null&&a!==void 0?a:null),v=d[g];if(v===void 0||m&&B3(m,g))continue;const x={delay:n,...Sm(l||{},g)};let E=!1;if(window.MotionHandoffAnimation){const M=YS(t);if(M){const k=window.MotionHandoffAnimation(M,g,Fe);k!==null&&(x.startTime=k,E=!0)}}lp(t,g),b.start(Lm(g,b,v,t.shouldReduceMotion&&GS.has(g)?{type:!1}:x,t,E));const C=b.animation;C&&h.push(C)}return c&&Promise.all(h).then(()=>{Fe.update(()=>{c&&mA(t,c)})}),h}function mp(t,e,n={}){var i;const s=_c(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(C2(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:b}=a;return V3(t,e,m+h,g,b,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[h,m]=d==="beforeChildren"?[l,c]:[c,l];return h().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function V3(t,e,n=0,i=0,s=1,a){const l=[],c=(t.variantChildren.size-1)*i,d=s===1?(h=0)=>h*i:(h=0)=>c-h*i;return Array.from(t.variantChildren).sort(P3).forEach((h,m)=>{h.notify("AnimationStart",e),l.push(mp(h,e,{...a,delay:n+d(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function P3(t,e){return t.sortNodePosition(e)}function H3(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(a=>mp(t,a,n));i=Promise.all(s)}else if(typeof e=="string")i=mp(t,e,n);else{const s=typeof e=="function"?_c(t,e,n.custom):e;i=Promise.all(C2(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const U3=lm.length;function w2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?w2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<U3;n++){const i=lm[n],s=t.props[i];(Ka(s)||s===!1)&&(e[i]=s)}return e}const I3=[...am].reverse(),F3=am.length;function $3(t){return e=>Promise.all(e.map(({animation:n,options:i})=>H3(t,n,i)))}function q3(t){let e=$3(t),n=_b(),i=!0;const s=d=>(h,m)=>{var g;const b=_c(t,m,d==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(b){const{transition:v,transitionEnd:x,...E}=b;h={...h,...E,...x}}return h};function a(d){e=d(t)}function l(d){const{props:h}=t,m=w2(t.parent)||{},g=[],b=new Set;let v={},x=1/0;for(let C=0;C<F3;C++){const M=I3[C],k=n[M],D=h[M]!==void 0?h[M]:m[M],B=Ka(D),z=M===d?k.isActive:null;z===!1&&(x=C);let H=D===m[M]&&D!==h[M]&&B;if(H&&i&&t.manuallyAnimateOnMount&&(H=!1),k.protectedKeys={...v},!k.isActive&&z===null||!D&&!k.prevProp||Rc(D)||typeof D=="boolean")continue;const q=G3(k.prevProp,D);let $=q||M===d&&k.isActive&&!H&&B||C>x&&B,P=!1;const X=Array.isArray(D)?D:[D];let re=X.reduce(s(M),{});z===!1&&(re={});const{prevResolvedValues:Le={}}=k,$e={...Le,...re},ve=J=>{$=!0,b.has(J)&&(P=!0,b.delete(J)),k.needsAnimating[J]=!0;const Z=t.getValue(J);Z&&(Z.liveStyle=!1)};for(const J in $e){const Z=re[J],ke=Le[J];if(v.hasOwnProperty(J))continue;let N=!1;sp(Z)&&sp(ke)?N=!VS(Z,ke):N=Z!==ke,N?Z!=null?ve(J):b.add(J):Z!==void 0&&b.has(J)?ve(J):k.protectedKeys[J]=!0}k.prevProp=D,k.prevResolvedValues=re,k.isActive&&(v={...v,...re}),i&&t.blockInitialAnimation&&($=!1),$&&(!(H&&q)||P)&&g.push(...X.map(J=>({animation:J,options:{type:M}})))}if(b.size){const C={};b.forEach(M=>{const k=t.getBaseTarget(M),D=t.getValue(M);D&&(D.liveStyle=!0),C[M]=k??null}),g.push({animation:C})}let E=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(g):Promise.resolve()}function c(d,h){var m;if(n[d].isActive===h)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(b=>{var v;return(v=b.animationState)===null||v===void 0?void 0:v.setActive(d,h)}),n[d].isActive=h;const g=l(d);for(const b in n)n[b].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=_b(),i=!0}}}function G3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VS(e,t):!1}function Gr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _b(){return{animate:Gr(!0),whileInView:Gr(),whileHover:Gr(),whileTap:Gr(),whileDrag:Gr(),whileFocus:Gr(),exit:Gr()}}class vr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class K3 extends vr{constructor(e){super(e),e.animationState||(e.animationState=q3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Y3=0;class X3 extends vr{constructor(){super(...arguments),this.id=Y3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const W3={animation:{Feature:K3},exit:{Feature:X3}};function Ja(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function ml(t){return{point:{x:t.pageX,y:t.pageY}}}const Q3=t=>e=>Cm(e)&&t(e,ml(e));function Va(t,e,n,i){return Ja(t,e,Q3(n),i)}const zb=(t,e)=>Math.abs(t-e);function J3(t,e){const n=zb(t.x,e.x),i=zb(t.y,e.y);return Math.sqrt(n**2+i**2)}class M2{constructor(e,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Eh(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=J3(g.offset,{x:0,y:0})>=3;if(!b&&!v)return;const{point:x}=g,{timestamp:E}=wt;this.history.push({...x,timestamp:E});const{onStart:C,onMove:M}=this.handlers;b||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Th(b,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Eh(g.type==="pointercancel"?this.lastMoveEventInfo:Th(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,C),x&&x(g,C)},!Cm(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const l=ml(e),c=Th(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=wt;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=n;m&&m(e,Eh(c,this.history)),this.removeListeners=pl(Va(this.contextWindow,"pointermove",this.handlePointerMove),Va(this.contextWindow,"pointerup",this.handlePointerUp),Va(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pr(this.updatePoint)}}function Th(t,e){return e?{point:e(t.point)}:t}function Lb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Eh({point:t},e){return{point:t,delta:Lb(t,k2(e)),offset:Lb(t,Z3(e)),velocity:eO(e,.1)}}function Z3(t){return t[0]}function k2(t){return t[t.length-1]}function eO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=k2(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>Ci(e)));)n--;if(!i)return{x:0,y:0};const a=wi(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const A2=1e-4,tO=1-A2,nO=1+A2,O2=.01,iO=0-O2,rO=0+O2;function Ht(t){return t.max-t.min}function sO(t,e,n){return Math.abs(t-e)<=n}function Bb(t,e,n,i=.5){t.origin=i,t.originPoint=Ye(e.min,e.max,t.origin),t.scale=Ht(n)/Ht(e),t.translate=Ye(n.min,n.max,t.origin)-t.originPoint,(t.scale>=tO&&t.scale<=nO||isNaN(t.scale))&&(t.scale=1),(t.translate>=iO&&t.translate<=rO||isNaN(t.translate))&&(t.translate=0)}function Pa(t,e,n,i){Bb(t.x,e.x,n.x,i?i.originX:void 0),Bb(t.y,e.y,n.y,i?i.originY:void 0)}function Vb(t,e,n){t.min=n.min+e.min,t.max=t.min+Ht(e)}function oO(t,e,n){Vb(t.x,e.x,n.x),Vb(t.y,e.y,n.y)}function Pb(t,e,n){t.min=e.min-n.min,t.max=t.min+Ht(e)}function Ha(t,e,n){Pb(t.x,e.x,n.x),Pb(t.y,e.y,n.y)}function aO(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ye(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ye(n,t,i.max):Math.min(t,n)),t}function Hb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lO(t,{top:e,left:n,bottom:i,right:s}){return{x:Hb(t.x,n,s),y:Hb(t.y,e,i)}}function Ub(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function uO(t,e){return{x:Ub(t.x,e.x),y:Ub(t.y,e.y)}}function cO(t,e){let n=.5;const i=Ht(t),s=Ht(e);return s>i?n=ho(e.min,e.max-i,t.min):i>s&&(n=ho(t.min,t.max-s,e.min)),Ai(0,1,n)}function fO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gp=.35;function dO(t=gp){return t===!1?t=0:t===!0&&(t=gp),{x:Ib(t,"left","right"),y:Ib(t,"top","bottom")}}function Ib(t,e,n){return{min:Fb(t,e),max:Fb(t,n)}}function Fb(t,e){return typeof t=="number"?t:t[e]||0}const $b=()=>({translate:0,scale:1,origin:0,originPoint:0}),ro=()=>({x:$b(),y:$b()}),qb=()=>({min:0,max:0}),it=()=>({x:qb(),y:qb()});function wn(t){return[t("x"),t("y")]}function D2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function hO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ch(t){return t===void 0||t===1}function yp({scale:t,scaleX:e,scaleY:n}){return!Ch(t)||!Ch(e)||!Ch(n)}function Yr(t){return yp(t)||N2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function N2(t){return Gb(t.x)||Gb(t.y)}function Gb(t){return t&&t!=="0%"}function cc(t,e,n){const i=t-n,s=e*i;return n+s}function Kb(t,e,n,i,s){return s!==void 0&&(t=cc(t,s,i)),cc(t,n,i)+e}function bp(t,e=0,n=1,i,s){t.min=Kb(t.min,e,n,i,s),t.max=Kb(t.max,e,n,i,s)}function R2(t,{x:e,y:n}){bp(t.x,e.translate,e.scale,e.originPoint),bp(t.y,n.translate,n.scale,n.originPoint)}const Yb=.999999999999,Xb=1.0000000000001;function mO(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&oo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,R2(t,l)),i&&Yr(a.latestValues)&&oo(t,a.latestValues))}e.x<Xb&&e.x>Yb&&(e.x=1),e.y<Xb&&e.y>Yb&&(e.y=1)}function so(t,e){t.min=t.min+e,t.max=t.max+e}function Wb(t,e,n,i,s=.5){const a=Ye(t.min,t.max,s);bp(t,e,n,a,i)}function oo(t,e){Wb(t.x,e.x,e.scaleX,e.scale,e.originX),Wb(t.y,e.y,e.scaleY,e.scale,e.originY)}function j2(t,e){return D2(pO(t.getBoundingClientRect(),e))}function gO(t,e,n){const i=j2(t,n),{scroll:s}=e;return s&&(so(i.x,s.offset.x),so(i.y,s.offset.y)),i}const _2=({current:t})=>t?t.ownerDocument.defaultView:null,yO=new WeakMap;class bO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ml(m).point)},a=(m,g)=>{const{drag:b,dragPropagation:v,onDragStart:x}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cA(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(C=>{let M=this.getAxisMotionValue(C).get()||0;if(Kn.test(M)){const{projection:k}=this.visualElement;if(k&&k.layout){const D=k.layout.layoutBox[C];D&&(M=Ht(D)*(parseFloat(M)/100))}}this.originPoint[C]=M}),x&&Fe.postRender(()=>x(m,g)),lp(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(m,g)=>{const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:x,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=g;if(v&&this.currentDirection===null){this.currentDirection=vO(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),E&&E(m,g)},c=(m,g)=>this.stop(m,g),d=()=>wn(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new M2(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:_2(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Fe.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Bu(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=aO(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&no(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=lO(s.layoutBox,n):this.constraints=!1,this.elastic=dO(i),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=fO(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!no(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=gO(i,s.root,this.visualElement.getTransformPagePoint());let l=uO(s.layout.layoutBox,a);if(n){const c=n(hO(l));this.hasMutatedConstraints=!!c,c&&(l=D2(c))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=wn(m=>{if(!Bu(m,n,this.currentDirection))return;let g=d&&d[m]||{};l&&(g={min:0,max:0});const b=s?200:1e6,v=s?40:1e7,x={type:"inertia",velocity:i?e[m]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,x)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return lp(this.visualElement,e),i.start(Lm(e,i,0,n,this.visualElement,!1))}stopAnimation(){wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){wn(n=>{const{drag:i}=this.getProps();if(!Bu(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-Ye(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!no(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};wn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=cO({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),wn(l=>{if(!Bu(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(Ye(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;yO.set(this.visualElement,this);const e=this.visualElement.current,n=Va(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();no(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Fe.read(i);const l=Ja(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(wn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=gp,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Bu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xO extends vr{constructor(e){super(e),this.removeGroupControls=un,this.removeListeners=un,this.controls=new bO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||un}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qb=t=>(e,n)=>{t&&Fe.postRender(()=>t(e,n))};class SO extends vr{constructor(){super(...arguments),this.removePointerDownListener=un}onPointerDown(e){this.session=new M2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Qb(e),onStart:Qb(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&Fe.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Va(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=Jb(t,e.target.x),i=Jb(t,e.target.y);return`${n}% ${i}%`}},TO={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=mr.parse(t);if(s.length>5)return i;const a=mr.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const h=Ye(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),a(s)}};class EO extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=e;Ak(CO),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Wu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,l=i.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Fe.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function z2(t){const[e,n]=yS(),i=A.useContext(nm);return T.jsx(EO,{...t,layoutGroup:i,switchLayoutGroup:A.useContext(wS),isPresent:e,safeToRemove:n})}const CO={borderRadius:{...Oa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oa,borderTopRightRadius:Oa,borderBottomLeftRadius:Oa,borderBottomRightRadius:Oa,boxShadow:TO};function wO(t,e,n){const i=_t(t)?t:Wa(t);return i.start(Lm("",i,e,n)),i.animation}function MO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const kO=(t,e)=>t.depth-e.depth;class AO{constructor(){this.children=[],this.isDirty=!1}add(e){wm(this.children,e),this.isDirty=!0}remove(e){Mm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kO),this.isDirty=!1,this.children.forEach(e)}}function OO(t,e){const n=Yn.now(),i=({timestamp:s})=>{const a=s-n;a>=e&&(pr(i),t(a-e))};return Fe.read(i,!0),()=>pr(i)}const L2=["TopLeft","TopRight","BottomLeft","BottomRight"],DO=L2.length,Zb=t=>typeof t=="string"?parseFloat(t):t,ev=t=>typeof t=="number"||me.test(t);function NO(t,e,n,i,s,a){s?(t.opacity=Ye(0,n.opacity!==void 0?n.opacity:1,RO(i)),t.opacityExit=Ye(e.opacity!==void 0?e.opacity:1,0,jO(i))):a&&(t.opacity=Ye(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<DO;l++){const c=`border${L2[l]}Radius`;let d=tv(e,c),h=tv(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||ev(d)===ev(h)?(t[c]=Math.max(Ye(Zb(d),Zb(h),i),0),(Kn.test(h)||Kn.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=Ye(e.rotate||0,n.rotate||0,i))}function tv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RO=B2(0,.5,t2),jO=B2(.5,.95,un);function B2(t,e,n){return i=>i<t?0:i>e?1:n(ho(t,e,i))}function nv(t,e){t.min=e.min,t.max=e.max}function En(t,e){nv(t.x,e.x),nv(t.y,e.y)}function iv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function rv(t,e,n,i,s){return t-=e,t=cc(t,1/n,i),s!==void 0&&(t=cc(t,1/s,i)),t}function _O(t,e=0,n=1,i=.5,s,a=t,l=t){if(Kn.test(e)&&(e=parseFloat(e),e=Ye(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Ye(a.min,a.max,i);t===a&&(c-=e),t.min=rv(t.min,e,n,c,s),t.max=rv(t.max,e,n,c,s)}function sv(t,e,[n,i,s],a,l){_O(t,e[n],e[i],e[s],e.scale,a,l)}const zO=["x","scaleX","originX"],LO=["y","scaleY","originY"];function ov(t,e,n,i){sv(t.x,e,zO,n?n.x:void 0,i?i.x:void 0),sv(t.y,e,LO,n?n.y:void 0,i?i.y:void 0)}function av(t){return t.translate===0&&t.scale===1}function V2(t){return av(t.x)&&av(t.y)}function lv(t,e){return t.min===e.min&&t.max===e.max}function BO(t,e){return lv(t.x,e.x)&&lv(t.y,e.y)}function uv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function P2(t,e){return uv(t.x,e.x)&&uv(t.y,e.y)}function cv(t){return Ht(t.x)/Ht(t.y)}function fv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class VO{constructor(){this.members=[]}add(e){wm(this.members,e),e.scheduleRender()}remove(e){if(Mm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PO(t,e,n){let i="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:b,skewX:v,skewY:x}=n;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),b&&(i+=`rotateY(${b}deg) `),v&&(i+=`skewX(${v}deg) `),x&&(i+=`skewY(${x}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const Xr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ja=typeof window<"u"&&window.MotionDebug!==void 0,wh=["","X","Y","Z"],HO={visibility:"hidden"},dv=1e3;let UO=0;function Mh(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function H2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Fe,!(s||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&H2(i)}function U2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=UO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ja&&(Xr.totalNodes=Xr.resolvedTargetDeltas=Xr.recalculatedProjection=0),this.nodes.forEach($O),this.nodes.forEach(XO),this.nodes.forEach(WO),this.nodes.forEach(qO),ja&&window.MotionDebug.record(Xr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new AO)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new km),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=MO(l),this.instance=l;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||d)&&(this.isLayoutDirty=!0),t){let g;const b=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=OO(b,250),Wu.hasAnimatedSinceResize&&(Wu.hasAnimatedSinceResize=!1,this.nodes.forEach(pv))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||tD,{onLayoutAnimationStart:C,onLayoutAnimationComplete:M}=m.getProps(),k=!this.targetLayout||!P2(this.targetLayout,x),D=!b&&v;if(this.options.layoutRoot||this.resumeFrom||D||b&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,D);const B={...Sm(E,"layout"),onPlay:C,onComplete:M};(m.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else b||pv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QO),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hv);return}this.isUpdating||this.nodes.forEach(KO),this.isUpdating=!1,this.nodes.forEach(YO),this.nodes.forEach(IO),this.nodes.forEach(FO),this.clearAllSnapshots();const c=Yn.now();wt.delta=Ai(0,1e3/60,c-wt.timestamp),wt.timestamp=c,wt.isProcessing=!0,yh.update.process(wt),yh.preRender.process(wt),yh.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GO),this.sharedNodes.forEach(JO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ht(this.snapshot.measuredBox.x)&&!Ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!V2(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&(c||Yr(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),nD(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return it();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(iD))){const{scroll:m}=this.root;m&&(so(d.x,m.offset.x),so(d.y,m.offset.y))}return d}removeElementScroll(l){var c;const d=it();if(En(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:b}=m;m!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&En(d,l),so(d.x,g.offset.x),so(d.y,g.offset.y))}return d}applyTransform(l,c=!1){const d=it();En(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&oo(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Yr(m.latestValues)&&oo(d,m.latestValues)}return Yr(this.latestValues)&&oo(d,this.latestValues),d}removeTransform(l){const c=it();En(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Yr(h.latestValues))continue;yp(h.latestValues)&&h.updateSnapshot();const m=it(),g=h.measurePageBox();En(m,g),ov(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Yr(this.latestValues)&&ov(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!(!this.layout||!(g||b))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Ha(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),R2(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Ha(this.relativeTargetOrigin,this.target,v.target),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ja&&Xr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yp(this.parent.latestValues)||N2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;En(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;mO(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=it());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iv(this.prevProjectionDelta.x,this.projectionDelta.x),iv(this.prevProjectionDelta.y,this.projectionDelta.y)),Pa(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!fv(this.projectionDelta.x,this.prevProjectionDelta.x)||!fv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ja&&Xr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ro(),this.projectionDelta=ro(),this.projectionDeltaWithTransform=ro()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},g=ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=it(),v=d?d.source:void 0,x=this.layout?this.layout.source:void 0,E=v!==x,C=this.getStack(),M=!C||C.members.length<=1,k=!!(E&&!M&&this.options.crossfade===!0&&!this.path.some(eD));this.animationProgress=0;let D;this.mixTargetDelta=B=>{const z=B/1e3;mv(g.x,l.x,z),mv(g.y,l.y,z),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ha(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZO(this.relativeTarget,this.relativeTargetOrigin,b,z),D&&BO(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=it()),En(D,this.relativeTarget)),E&&(this.animationValues=m,NO(m,h,this.latestValues,z,k,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{Wu.hasAnimatedSinceResize=!0,this.currentAnimation=wO(0,dv,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&I2(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||it();const g=Ht(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const b=Ht(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}En(c,d),oo(c,m),Pa(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new VO),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Mh("z",l,h,this.animationValues);for(let m=0;m<wh.length;m++)Mh(`rotate${wh[m]}`,l,h,this.animationValues),Mh(`skew${wh[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return HO;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Yu(l==null?void 0:l.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Yu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Yr(this.latestValues)&&(E.transform=m?m({},""):"none",this.hasProjected=!1),E}const b=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=PO(this.projectionDeltaWithTransform,this.treeScale,b),m&&(h.transform=m(b,h.transform));const{x:v,y:x}=this.projectionDelta;h.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,g.animationValues?h.opacity=g===this?(d=(c=b.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:h.opacity=g===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const E in Ya){if(b[E]===void 0)continue;const{correct:C,applyTo:M,isCSSVariable:k}=Ya[E],D=h.transform==="none"?b[E]:C(b[E],g);if(M){const B=M.length;for(let z=0;z<B;z++)h[M[z]]=D}else k?this.options.visualElement.renderState.vars[E]=D:h[E]=D}return this.options.layoutId&&(h.pointerEvents=g===this?Yu(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(hv),this.root.sharedNodes.clear()}}}function IO(t){t.updateLayout()}function FO(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?wn(g=>{const b=l?n.measuredBox[g]:n.layoutBox[g],v=Ht(b);b.min=i[g].min,b.max=b.min+v}):I2(a,n.layoutBox,i)&&wn(g=>{const b=l?n.measuredBox[g]:n.layoutBox[g],v=Ht(i[g]);b.max=b.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const c=ro();Pa(c,i,n.layoutBox);const d=ro();l?Pa(d,t.applyTransform(s,!0),n.measuredBox):Pa(d,i,n.layoutBox);const h=!V2(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:v}=g;if(b&&v){const x=it();Ha(x,n.layoutBox,b.layoutBox);const E=it();Ha(E,i,v.layoutBox),P2(x,E)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function $O(t){ja&&Xr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GO(t){t.clearSnapshot()}function hv(t){t.clearMeasurements()}function KO(t){t.isLayoutDirty=!1}function YO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function XO(t){t.resolveTargetDelta()}function WO(t){t.calcProjection()}function QO(t){t.resetSkewAndRotation()}function JO(t){t.removeLeadSnapshot()}function mv(t,e,n){t.translate=Ye(e.translate,0,n),t.scale=Ye(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function gv(t,e,n,i){t.min=Ye(e.min,n.min,i),t.max=Ye(e.max,n.max,i)}function ZO(t,e,n,i){gv(t.x,e.x,n.x,i),gv(t.y,e.y,n.y,i)}function eD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tD={duration:.45,ease:[.4,0,.1,1]},yv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),bv=yv("applewebkit/")&&!yv("chrome/")?Math.round:un;function vv(t){t.min=bv(t.min),t.max=bv(t.max)}function nD(t){vv(t.x),vv(t.y)}function I2(t,e,n){return t==="position"||t==="preserve-aspect"&&!sO(cv(e),cv(n),.2)}function iD(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const rD=U2({attachResizeListener:(t,e)=>Ja(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kh={current:void 0},F2=U2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kh.current){const t=new rD({});t.mount(window),t.setOptions({layoutScroll:!0}),kh.current=t}return kh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sD={pan:{Feature:SO},drag:{Feature:xO,ProjectionNode:F2,MeasureLayout:z2}};function xv(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&Fe.postRender(()=>a(e,ml(e)))}class oD extends vr{mount(){const{current:e}=this.node;e&&(this.unmount=sA(e,(n,i)=>(xv(this.node,i,"Start"),s=>xv(this.node,s,"End"))))}unmount(){}}class aD extends vr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pl(Ja(this.node.current,"focus",()=>this.onFocus()),Ja(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sv(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&Fe.postRender(()=>a(e,ml(e)))}class lD extends vr{mount(){const{current:e}=this.node;e&&(this.unmount=uA(e,(n,i)=>(Sv(this.node,i,"Start"),(s,{success:a})=>Sv(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vp=new WeakMap,Ah=new WeakMap,uD=t=>{const e=vp.get(t.target);e&&e(t)},cD=t=>{t.forEach(uD)};function fD({root:t,...e}){const n=t||document;Ah.has(n)||Ah.set(n,{});const i=Ah.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(cD,{root:t,...e})),i[s]}function dD(t,e,n){const i=fD(e);return vp.set(t,n),i.observe(t),()=>{vp.delete(t),i.unobserve(t)}}const hD={some:0,all:1};class pD extends vr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:hD[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),b=h?m:g;b&&b(d)};return dD(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mD(e,n))&&this.startObserver()}unmount(){}}function mD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gD={inView:{Feature:pD},tap:{Feature:lD},focus:{Feature:aD},hover:{Feature:oD}},yD={layout:{ProjectionNode:F2,MeasureLayout:z2}},xp={current:null},$2={current:!1};function bD(){if($2.current=!0,!!sm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xp.current=t.matches;t.addListener(e),e()}else xp.current=!1}const vD=[...m2,Rt,mr],xD=t=>vD.find(p2(t)),Tv=new WeakMap;function SD(t,e,n){for(const i in e){const s=e[i],a=n[i];if(_t(s))t.addValue(i,s);else if(_t(a))t.addValue(i,Wa(s,{owner:t}));else if(a!==s)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,Wa(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Ev=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TD{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Yn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Fe.render(this.render,!1,!0))};const{latestValues:d,renderState:h,onUpdate:m}=l;this.onUpdate=m,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=jc(n),this.isVariantNode=ES(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in b){const x=b[v];d[v]!==void 0&&_t(x)&&x.set(d[v],!1)}}mount(e){this.current=e,Tv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),$2.current||bD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Tv.delete(this.current),this.projection&&this.projection.unmount(),pr(this.notifyUpdate),pr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ms.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in po){const n=po[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Ev.length;i++){const s=Ev[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=SD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Wa(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(d2(s)||i2(s))?s=parseFloat(s):!xD(s)&&mr.test(n)&&(s=u2(e,n)),this.setBaseTarget(e,_t(s)?s.get():s)),_t(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const l=vm(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(i&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!_t(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new km),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class q2 extends TD{constructor(){super(...arguments),this.KeyframeResolver=g2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_t(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ED(t){return window.getComputedStyle(t)}class CD extends q2{constructor(){super(...arguments),this.type="html",this.renderInstance=_S}readValueFromInstance(e,n){if(ms.has(n)){const i=Rm(n);return i&&i.default||0}else{const i=ED(e),s=(fm(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return j2(e,n)}build(e,n,i){pm(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return xm(e,n,i)}}class wD extends q2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&jS(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ms.has(n)){const i=Rm(n);return i&&i.default||0}return n=zS.has(n)?n:um(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return BS(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Fe.postRender(this.updateDimensions)}build(e,n,i){ym(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,s){LS(e,n,i,s)}mount(e){this.isSVGTag=bm(e.tagName),super.mount(e)}}const MD=(t,e)=>gm(t)?new wD(e):new CD(e,{allowProjection:t!==A.Fragment}),kD=Jk({...W3,...gD,...sD,...yD},MD),Mt=pk(kD),AD=({toggleRegister:t,firstname:e,lastname:n,email:i,password:s,setFirstname:a,setLastname:l,setEmail:c,setPassword:d,handleRegister:h,isPending:m})=>T.jsx(T.Fragment,{children:T.jsx("div",{className:"login-box",children:T.jsxs("div",{className:"login-box-content",children:[T.jsx("h1",{children:"Tehtis"}),T.jsx(Mt.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:"Uusi käyttäjä"}),T.jsxs("form",{onSubmit:h,children:[T.jsx(Mt.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:T.jsx("input",{className:"login-input",type:"text",placeholder:"Etunimi",name:"firstname",value:e,onChange:g=>a(g.target.value),required:!0})}),T.jsx(Mt.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:T.jsx("input",{className:"login-input",type:"text",placeholder:"Sukunimi",name:"lastname",value:n,onChange:g=>l(g.target.value),required:!0})}),T.jsx(Mt.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:T.jsx("input",{className:"login-input",type:"text",placeholder:"Sähköposti",name:"email",value:i,onChange:g=>c(g.target.value),required:!0})}),T.jsx(Mt.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,delay:.1},children:T.jsx("input",{className:"login-input",type:"password",placeholder:"Salasana",name:"password",value:s,onChange:g=>d(g.target.value),required:!0})}),T.jsx(Mt.button,{className:"login-button",type:"submit",disabled:m||e==""||n==""||i==""||s=="",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,delay:.2},children:"Rekisteröidy"})]}),T.jsxs(Mt.div,{className:"no-account",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:.3},children:[T.jsx("p",{children:"Onko sinulla jo tili?"}),T.jsx("a",{className:"register-link",onClick:t,children:"Kirjaudu"})]})]})})}),OD=({toggleRegister:t,handleLogin:e,email:n,password:i,setEmail:s,setPassword:a,isPending:l})=>T.jsx(T.Fragment,{children:T.jsx("div",{className:"login-box",children:T.jsxs("div",{className:"login-box-content",children:[T.jsx("h1",{children:"Tehtis"}),T.jsx(Mt.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:"Kirjaudu sisään jatkaaksesi"}),T.jsxs("form",{onSubmit:e,children:[T.jsx(Mt.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:T.jsx("input",{className:"login-input",type:"text",placeholder:"Sähköposti",name:"email",value:n,onChange:c=>s(c.target.value),required:!0})}),T.jsx(Mt.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,delay:.1},children:T.jsx("input",{className:"login-input",type:"password",placeholder:"Salasana",name:"password",value:i,onChange:c=>a(c.target.value),required:!0})}),T.jsx(Mt.button,{className:"login-button",type:"submit",disabled:l||n==""||i=="",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,delay:.2},children:"Kirjaudu sisään"})]}),T.jsxs(Mt.div,{className:"no-account",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:.3},children:[T.jsx("p",{children:"Eikö sinulla ole tiliä?"}),T.jsx("a",{onClick:t,className:"register-link",children:"Rekisteröidy"})]})]},"login")})});function G2(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=G2(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function is(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=G2(t))&&(i&&(i+=" "),i+=e);return i}function DD(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}DD(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var gl=t=>typeof t=="number"&&!isNaN(t),cs=t=>typeof t=="string",Oi=t=>typeof t=="function",ND=t=>cs(t)||gl(t),Sp=t=>cs(t)||Oi(t)?t:null,RD=(t,e)=>t===!1||gl(t)&&t>0?t:e,Tp=t=>A.isValidElement(t)||cs(t)||Oi(t)||gl(t);function jD(t,e,n=300){let{scrollHeight:i,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function _D({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}){return function({children:a,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:m,playToast:g}){let b=n?`${t}--${l}`:t,v=n?`${e}--${l}`:e,x=A.useRef(0);return A.useLayoutEffect(()=>{let E=h.current,C=b.split(" "),M=k=>{k.target===h.current&&(g(),E.removeEventListener("animationend",M),E.removeEventListener("animationcancel",M),x.current===0&&k.type!=="animationcancel"&&E.classList.remove(...C))};E.classList.add(...C),E.addEventListener("animationend",M),E.addEventListener("animationcancel",M)},[]),A.useEffect(()=>{let E=h.current,C=()=>{E.removeEventListener("animationend",C),i?jD(E,d,s):d()};m||(c?C():(x.current=1,E.className+=` ${v}`,E.addEventListener("animationend",C)))},[m]),Q.createElement(Q.Fragment,null,a)}}function Cv(t,e){return{content:K2(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function K2(t,e,n=!1){return A.isValidElement(t)&&!cs(t.type)?A.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Oi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function zD({closeToast:t,theme:e,ariaLabel:n="close"}){return Q.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},Q.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Q.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function LD({delay:t,isRunning:e,closeToast:n,type:i="default",hide:s,className:a,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:m}){let g=s||l&&c===0,b={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};l&&(b.transform=`scaleX(${c})`);let v=is("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),x=Oi(a)?a({rtl:d,type:i,defaultClassName:v}):is(v,a),E={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&n()}};return Q.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},Q.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),Q.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:x,style:b,...E}))}var BD=1,Y2=()=>`${BD++}`;function VD(t,e,n){let i=1,s=0,a=[],l=[],c=e,d=new Map,h=new Set,m=k=>(h.add(k),()=>h.delete(k)),g=()=>{l=Array.from(d.values()),h.forEach(k=>k())},b=({containerId:k,toastId:D,updateId:B})=>{let z=k?k!==t:t!==1,H=d.has(D)&&B==null;return z||H},v=(k,D)=>{d.forEach(B=>{var z;(D==null||D===B.props.toastId)&&((z=B.toggle)==null||z.call(B,k))})},x=k=>{var D,B;(B=(D=k.props)==null?void 0:D.onClose)==null||B.call(D,k.removalReason),k.isActive=!1},E=k=>{if(k==null)d.forEach(x);else{let D=d.get(k);D&&x(D)}g()},C=()=>{s-=a.length,a=[]},M=k=>{var D,B;let{toastId:z,updateId:H}=k.props,q=H==null;k.staleId&&d.delete(k.staleId),k.isActive=!0,d.set(z,k),g(),n(Cv(k,q?"added":"updated")),q&&((B=(D=k.props).onOpen)==null||B.call(D))};return{id:t,props:c,observe:m,toggle:v,removeToast:E,toasts:d,clearQueue:C,buildToast:(k,D)=>{if(b(D))return;let{toastId:B,updateId:z,data:H,staleId:q,delay:$}=D,P=z==null;P&&s++;let X={...c,style:c.toastStyle,key:i++,...Object.fromEntries(Object.entries(D).filter(([Le,$e])=>$e!=null)),toastId:B,updateId:z,data:H,isIn:!1,className:Sp(D.className||c.toastClassName),progressClassName:Sp(D.progressClassName||c.progressClassName),autoClose:D.isLoading?!1:RD(D.autoClose,c.autoClose),closeToast(Le){d.get(B).removalReason=Le,E(B)},deleteToast(){let Le=d.get(B);if(Le!=null){if(n(Cv(Le,"removed")),d.delete(B),s--,s<0&&(s=0),a.length>0){M(a.shift());return}g()}}};X.closeButton=c.closeButton,D.closeButton===!1||Tp(D.closeButton)?X.closeButton=D.closeButton:D.closeButton===!0&&(X.closeButton=Tp(c.closeButton)?c.closeButton:!0);let re={content:k,props:X,staleId:q};c.limit&&c.limit>0&&s>c.limit&&P?a.push(re):gl($)?setTimeout(()=>{M(re)},$):M(re)},setProps(k){c=k},setToggle:(k,D)=>{let B=d.get(k);B&&(B.toggle=D)},isToastActive:k=>{var D;return(D=d.get(k))==null?void 0:D.isActive},getSnapshot:()=>l}}var Ut=new Map,Za=[],Ep=new Set,PD=t=>Ep.forEach(e=>e(t)),X2=()=>Ut.size>0;function HD(){Za.forEach(t=>Q2(t.content,t.options)),Za=[]}var UD=(t,{containerId:e})=>{var n;return(n=Ut.get(e||1))==null?void 0:n.toasts.get(t)};function W2(t,e){var n;if(e)return!!((n=Ut.get(e))!=null&&n.isToastActive(t));let i=!1;return Ut.forEach(s=>{s.isToastActive(t)&&(i=!0)}),i}function ID(t){if(!X2()){Za=Za.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||ND(t))Ut.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Ut.get(t.containerId);e?e.removeToast(t.id):Ut.forEach(n=>{n.removeToast(t.id)})}}var FD=(t={})=>{Ut.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Q2(t,e){Tp(t)&&(X2()||Za.push({content:t,options:e}),Ut.forEach(n=>{n.buildToast(t,e)}))}function $D(t){var e;(e=Ut.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function J2(t,e){Ut.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function qD(t){let e=t.containerId||1;return{subscribe(n){let i=VD(e,t,PD);Ut.set(e,i);let s=i.observe(n);return HD(),()=>{s(),Ut.delete(e)}},setProps(n){var i;(i=Ut.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=Ut.get(e))==null?void 0:n.getSnapshot()}}}function GD(t){return Ep.add(t),()=>{Ep.delete(t)}}function KD(t){return t&&(cs(t.toastId)||gl(t.toastId))?t.toastId:Y2()}function yl(t,e){return Q2(t,e),e.toastId}function Lc(t,e){return{...e,type:e&&e.type||t,toastId:KD(e)}}function Bc(t){return(e,n)=>yl(e,Lc(t,n))}function _e(t,e){return yl(t,Lc("default",e))}_e.loading=(t,e)=>yl(t,Lc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function YD(t,{pending:e,error:n,success:i},s){let a;e&&(a=cs(e)?_e.loading(e,s):_e.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,m,g)=>{if(m==null){_e.dismiss(a);return}let b={type:h,...l,...s,data:g},v=cs(m)?{render:m}:m;return a?_e.update(a,{...b,...v}):_e(v.render,{...b,...v}),g},d=Oi(t)?t():t;return d.then(h=>c("success",i,h)).catch(h=>c("error",n,h)),d}_e.promise=YD;_e.success=Bc("success");_e.info=Bc("info");_e.error=Bc("error");_e.warning=Bc("warning");_e.warn=_e.warning;_e.dark=(t,e)=>yl(t,Lc("default",{theme:"dark",...e}));function XD(t){ID(t)}_e.dismiss=XD;_e.clearWaitingQueue=FD;_e.isActive=W2;_e.update=(t,e={})=>{let n=UD(t,e);if(n){let{props:i,content:s}=n,a={delay:100,...i,...e,toastId:e.toastId||t,updateId:Y2()};a.toastId!==t&&(a.staleId=t);let l=a.render||s;delete a.render,yl(l,a)}};_e.done=t=>{_e.update(t,{progress:1})};_e.onChange=GD;_e.play=t=>J2(!0,t);_e.pause=t=>J2(!1,t);function WD(t){var e;let{subscribe:n,getSnapshot:i,setProps:s}=A.useRef(qD(t)).current;s(t);let a=(e=A.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function l(c){if(!a)return[];let d=new Map;return t.newestOnTop&&a.reverse(),a.forEach(h=>{let{position:m}=h.props;d.has(m)||d.set(m,[]),d.get(m).push(h)}),Array.from(d,h=>c(h[0],h[1]))}return{getToastToRender:l,isToastActive:W2,count:a==null?void 0:a.length}}function QD(t){let[e,n]=A.useState(!1),[i,s]=A.useState(!1),a=A.useRef(null),l=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:h,onClick:m,closeOnClick:g}=t;$D({id:t.toastId,containerId:t.containerId,fn:n}),A.useEffect(()=>{if(t.pauseOnFocusLoss)return b(),()=>{v()}},[t.pauseOnFocusLoss]);function b(){document.hasFocus()||M(),window.addEventListener("focus",C),window.addEventListener("blur",M)}function v(){window.removeEventListener("focus",C),window.removeEventListener("blur",M)}function x(q){if(t.draggable===!0||t.draggable===q.pointerType){k();let $=a.current;l.canCloseOnClick=!0,l.canDrag=!0,$.style.transition="none",t.draggableDirection==="x"?(l.start=q.clientX,l.removalDistance=$.offsetWidth*(t.draggablePercent/100)):(l.start=q.clientY,l.removalDistance=$.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function E(q){let{top:$,bottom:P,left:X,right:re}=a.current.getBoundingClientRect();q.nativeEvent.type!=="touchend"&&t.pauseOnHover&&q.clientX>=X&&q.clientX<=re&&q.clientY>=$&&q.clientY<=P?M():C()}function C(){n(!0)}function M(){n(!1)}function k(){l.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",z)}function D(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",z)}function B(q){let $=a.current;if(l.canDrag&&$){l.didMove=!0,e&&M(),t.draggableDirection==="x"?l.delta=q.clientX-l.start:l.delta=q.clientY-l.start,l.start!==q.clientX&&(l.canCloseOnClick=!1);let P=t.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;$.style.transform=`translate3d(${P},0)`,$.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function z(){D();let q=a.current;if(l.canDrag&&l.didMove&&q){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}q.style.transition="transform 0.2s, opacity 0.2s",q.style.removeProperty("transform"),q.style.removeProperty("opacity")}}let H={onPointerDown:x,onPointerUp:E};return c&&d&&(H.onMouseEnter=M,t.stacked||(H.onMouseLeave=C)),g&&(H.onClick=q=>{m&&m(q),l.canCloseOnClick&&h(!0)}),{playToast:C,pauseToast:M,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:H}}var JD=typeof window<"u"?A.useLayoutEffect:A.useEffect,Vc=({theme:t,type:e,isLoading:n,...i})=>Q.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function ZD(t){return Q.createElement(Vc,{...t},Q.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function e4(t){return Q.createElement(Vc,{...t},Q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function t4(t){return Q.createElement(Vc,{...t},Q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function n4(t){return Q.createElement(Vc,{...t},Q.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function i4(){return Q.createElement("div",{className:"Toastify__spinner"})}var Cp={info:e4,warning:ZD,success:t4,error:n4,spinner:i4},r4=t=>t in Cp;function s4({theme:t,type:e,isLoading:n,icon:i}){let s=null,a={theme:t,type:e};return i===!1||(Oi(i)?s=i({...a,isLoading:n}):A.isValidElement(i)?s=A.cloneElement(i,a):n?s=Cp.spinner():r4(e)&&(s=Cp[e](a))),s}var o4=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:s,playToast:a}=QD(t),{closeButton:l,children:c,autoClose:d,onClick:h,type:m,hideProgressBar:g,closeToast:b,transition:v,position:x,className:E,style:C,progressClassName:M,updateId:k,role:D,progress:B,rtl:z,toastId:H,deleteToast:q,isIn:$,isLoading:P,closeOnClick:X,theme:re,ariaLabel:Le}=t,$e=is("Toastify__toast",`Toastify__toast-theme--${re}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":z},{"Toastify__toast--close-on-click":X}),ve=Oi(E)?E({rtl:z,position:x,type:m,defaultClassName:$e}):is($e,E),ae=s4(t),K=!!B||!d,J={closeToast:b,type:m,theme:re},Z=null;return l===!1||(Oi(l)?Z=l(J):A.isValidElement(l)?Z=A.cloneElement(l,J):Z=zD(J)),Q.createElement(v,{isIn:$,done:q,position:x,preventExitTransition:n,nodeRef:i,playToast:a},Q.createElement("div",{id:H,tabIndex:0,onClick:h,"data-in":$,className:ve,...s,style:C,ref:i,...$&&{role:D,"aria-label":Le}},ae!=null&&Q.createElement("div",{className:is("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},ae),K2(c,t,!e),Z,!t.customProgressBar&&Q.createElement(LD,{...k&&!K?{key:`p-${k}`}:{},rtl:z,theme:re,delay:d,isRunning:e,isIn:$,closeToast:b,hide:g,type:m,className:M,controlledProgress:K,progress:B||0})))},a4=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),l4=_D(a4("bounce",!0)),u4={position:"top-right",transition:l4,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function bl(t){let e={...u4,...t},n=t.stacked,[i,s]=A.useState(!0),a=A.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=WD(e),{className:h,style:m,rtl:g,containerId:b,hotKeys:v}=e;function x(C){let M=is("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":g});return Oi(h)?h({position:C,rtl:g,defaultClassName:M}):is(M,Sp(h))}function E(){n&&(s(!0),_e.play())}return JD(()=>{var C;if(n){let M=a.current.querySelectorAll('[data-in="true"]'),k=12,D=(C=e.position)==null?void 0:C.includes("top"),B=0,z=0;Array.from(M).reverse().forEach((H,q)=>{let $=H;$.classList.add("Toastify__toast--stacked"),q>0&&($.dataset.collapsed=`${i}`),$.dataset.pos||($.dataset.pos=D?"top":"bot");let P=B*(i?.2:1)+(i?0:k*q);$.style.setProperty("--y",`${D?P:P*-1}px`),$.style.setProperty("--g",`${k}`),$.style.setProperty("--s",`${1-(i?z:0)}`),B+=$.offsetHeight,z+=.025})}},[i,d,n]),A.useEffect(()=>{function C(M){var k;let D=a.current;v(M)&&((k=D.querySelector('[tabIndex="0"]'))==null||k.focus(),s(!1),_e.pause()),M.key==="Escape"&&(document.activeElement===D||D!=null&&D.contains(document.activeElement))&&(s(!0),_e.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[v]),Q.createElement("section",{ref:a,className:"Toastify",id:b,onMouseEnter:()=>{n&&(s(!1),_e.pause())},onMouseLeave:E,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((C,M)=>{let k=M.length?{...m}:{...m,pointerEvents:"none"};return Q.createElement("div",{tabIndex:-1,className:x(C),"data-stacked":n,style:k,key:`c-${C}`},M.map(({content:D,props:B})=>Q.createElement(o4,{...B,stacked:n,collapseAll:E,isIn:c(B.toastId,B.containerId),key:`t-${B.key}`},D)))}))}const c4=()=>{const[t,e]=A.useState(""),[n,i]=A.useState(""),[s,a]=A.useState(""),[l,c]=A.useState(""),{login:d}=br(),[h,m]=A.useState(!1),g=Co(),[b,v]=A.useState([]),[x,E]=A.useState(!1);A.useEffect(()=>{(async()=>{try{const re=await(await fetch("http://localhost:3000/session",{method:"GET",credentials:"include"})).json();console.log("Session:",re),re.loggedIn&&(E(!0),d({id:re.userId,email:re.email,firstname:re.firstname,lastname:re.lastname,role:re.role}),g("/dashboard"))}catch(X){console.error("Error checking session:",X)}})()},[g,d]),A.useEffect(()=>{(async()=>{try{const re=await(await fetch("http://localhost:3000/users",{method:"GET",credentials:"include"})).json();console.log("Fetched users:",re),v(re),console.log("Users:",b)}catch(X){console.error("Error fetching users:",X)}})()},[]);const C=()=>_e.success("Rekisteröityminen onnistui! Kirjaudutaan sisään...",{position:"top-center",autoClose:2500,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),[M,k]=A.useTransition(),D=async P=>{P.preventDefault(),k(async()=>{try{const X=await fetch("http://localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s.toLowerCase(),password:l})}),re=await X.json();X.ok?(d({id:re.userId,email:s,role:re.role,firstname:re.firstname,lastname:re.lastname}),E(!0),console.log("loggedIn",x),g("/dashboard")):alert(re.error||"Invalid credentials")}catch(X){alert("An error occurred while logging in"),console.error(X)}})},B=async P=>{P.preventDefault(),k(async()=>{try{const X=$e=>$e.charAt(0).toUpperCase()+$e.slice(1).toLowerCase(),re=await fetch("http://localhost:3000/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({firstname:X(t),lastname:X(n),email:s.toLowerCase(),password:l})}),Le=await re.json();re.ok?(C(),setTimeout(()=>D(P),2500)):alert(Le.error||"Registration failed")}catch(X){alert("An error occurred while registering"),console.error(X)}})},z=()=>{m(!h),e(""),i(""),a(""),c("")};A.useEffect(()=>{const P=document.querySelector(".privacy-policy-content");P.innerHTML=`    <h3>
              Keräämme ja käsittelemme seuraavia henkilökohtaisia tietoja
            </h3>
            <ul>
              <li>Sähköpostiosoite</li>
              <li>Etunimi</li>
              <li>Sukunimi</li>
              <li>Salasana</li>
            </ul>
            <h3>Tietojen kerääjä</h3>
            <p>Tehtis</p>
            <p>Varia</p>
            <h3>Tietojen keräämisen tarkoitus</h3>
            <p>
              Keräämme näitä tietoja käyttäjätunnuksen luomiseksi ja
              palveluidemme tarjoamiseksi.
            </p>
            <h3>Tietojen käsittelyn laillisuusperiaate</h3>
            <p>Tietojen käsittely perustuu käyttäjän suostumukseen.</p>
`,P.classList.add("hidden")},[]);const[H,q]=A.useState(!1);console.log("showPrivacyPolicy",H);const $=()=>{q(P=>{const X=!P,re=document.querySelector(".privacy-policy-content");return X?re.classList.remove("hidden"):re.classList.add("hidden"),X})};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"container",children:[T.jsxs("div",{className:"login-box",children:[T.jsx(ok,{mode:"wait",children:h?T.jsx(AD,{toggleRegister:z,firstname:t,setFirstname:e,lastname:n,setLastname:i,email:s,setEmail:a,password:l,setPassword:c,handleRegister:B,isPending:M}):T.jsx(OD,{email:s,password:l,setEmail:a,setPassword:c,handleLogin:D,toggleRegister:z,isPending:M})}),T.jsx(bl,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]}),T.jsxs("div",{className:"privacy-policy",children:[T.jsx("h3",{onClick:$,children:"Tietosuojaseloste"}),T.jsx("span",{className:"privacy-policy-content"})]})]})})},f4=()=>{const t=Co();return A.useEffect(()=>{t("/login")},[]),T.jsxs("div",{style:{margin:"auto"},children:[T.jsx("h1",{children:"Test"}),T.jsx("button",{onClick:()=>t("/login"),children:"Login"})]})};var Z2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wv=Q.createContext&&Q.createContext(Z2),d4=["attr","size","title"];function h4(t,e){if(t==null)return{};var n=p4(t,e),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function p4(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fc.apply(this,arguments)}function Mv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mv(Object(n),!0).forEach(function(i){m4(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function m4(t,e,n){return e=g4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g4(t){var e=y4(t,"string");return typeof e=="symbol"?e:e+""}function y4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eT(t){return t&&t.map((e,n)=>Q.createElement(e.tag,dc({key:n},e.attr),eT(e.child)))}function Di(t){return e=>Q.createElement(b4,fc({attr:dc({},t.attr)},e),eT(t.child))}function b4(t){var e=n=>{var{attr:i,size:s,title:a}=t,l=h4(t,d4),c=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Q.createElement("svg",fc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:d,style:dc(dc({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Q.createElement("title",null,a),t.children)};return wv!==void 0?Q.createElement(wv.Consumer,null,n=>e(n)):e(Z2)}function v4(t){return Di({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function x4(t){return Di({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function tT(t){return Di({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function S4(t){return Di({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}const T4=({courses:t,user:e,toggleAddCourseBox:n})=>T.jsx(T.Fragment,{children:T.jsxs(Mt.div,{className:"dashboard-content",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:.3},children:[T.jsx("h1",{children:"Etusivu"}),T.jsxs("p",{children:["Hei ",e==null?void 0:e.firstname,"! Tämä on etusivu. Täältä löydät listan kursseista, joihin olet osallistunut."]}),(e==null?void 0:e.role)==="admin"&&T.jsx("div",{className:"admin-panel-link",children:T.jsxs("h3",{children:["Hei admin! Avaa ",T.jsx(rc,{to:"/adminpanel",children:"Hallintapaneeli"})]})}),T.jsxs("div",{className:"courses",children:[T.jsx("h2",{children:"Kurssit"}),(e==null?void 0:e.role)==="teacher"&&T.jsxs("button",{type:"button",className:"new-course-button",onClick:n,children:[T.jsx(x4,{})," Luo uusi kurssi"]}),T.jsx("div",{className:"course-list",children:t.length>0?t.filter(i=>i&&i.name).sort((i,s)=>i.name.localeCompare(s.name)).map(i=>T.jsx(rc,{to:`/course/${i.id}`,children:T.jsxs("div",{className:"course",children:[T.jsx("h3",{children:i.name.length>80?`${i.name.slice(0,80)}...`:i.name}),T.jsx("div",{style:{whiteSpace:"pre-wrap",backgroundColor:"var(--aliceblue)",borderRadius:"5px",padding:"5px",marginBottom:"1em",overflow:"hidden"},dangerouslySetInnerHTML:{__html:i.description}})]})},i.id)):T.jsx("p",{children:"Ei kursseja tällä hetkellä."})})]})]})}),Pc=()=>{const{logout:t}=br(),e=Co(),n="#30c67c",i=a=>window.location.pathname===a?{color:n,fontWeight:"bold"}:{},s=async()=>{try{const a=await fetch("http://localhost:3000/logout",{method:"POST"}),l=await a.json();if(!a.ok)throw new Error(l.error||"Logout failed");a.ok&&(t(),e("/login"))}catch(a){console.error("Error logging out:",a)}};return T.jsx("nav",{children:T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx("h2",{children:"Tehtis"})}),T.jsx("li",{children:T.jsx("a",{href:"/dashboard",style:i("/dashboard"),children:"Etusivu"})}),T.jsx("li",{children:T.jsx("a",{href:"/profile",style:i("/profile"),children:"Profiili"})}),T.jsx("li",{children:T.jsx("a",{onClick:s,children:"Kirjaudu ulos"})})]})})},E4=({toggleAddCourseBox:t,user:e,getMyCourses:n})=>{const[i,s]=A.useState(""),a=async l=>{l.preventDefault();try{const d=await(await fetch("http://localhost:3000/add-course",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,description:"kurssin kuvaus",ownerId:e==null?void 0:e.id})})).json();d.success?(console.log("Kurssi luotu:",d),console.log("kurssin data: ",d.data),_e.success("Kurssi luotu onnistuneesti!",{position:"bottom-center",autoClose:2500,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{s(""),n(),t()},2e3)):alert("Kurssin luonti epäonnistui.")}catch(c){console.error("Virhe kurssin luonnissa:",c)}};return T.jsxs("div",{className:"back-shadow",children:[T.jsxs("form",{className:"add-course-form",onSubmit:a,children:[T.jsxs("h2",{children:["Luo uusi kurssi ",T.jsx("span",{})]}),T.jsxs("div",{className:"add-course-form-content",children:[T.jsxs("label",{children:[T.jsx("span",{children:"Otsikko:"}),T.jsx("input",{className:"assignment-input",type:"text",value:i,onChange:l=>s(l.target.value),required:!0,spellCheck:"false"})]}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",onClick:t,children:"Peruuta"}),T.jsx("button",{type:"submit",children:"Luo kurssi"})]})]})]}),T.jsx(bl,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},C4=()=>{const{loggedIn:t,user:e}=br(),n=Co();console.log("User:",e),console.log("firstname: ",e==null?void 0:e.firstname),console.log("lastname: ",e==null?void 0:e.lastname),console.log("role:",e==null?void 0:e.role),console.log("Logged in:",t);const[i,s]=Q.useState([]),a=async()=>{try{const m=await(await fetch("http://localhost:3000/my-courses",{credentials:"include"})).json();console.log("My courses:",m),s(m)}catch(h){console.error("Error fetching my courses",h)}};A.useEffect(()=>{let h;return t?a():h=setTimeout(()=>{n("/login")},1e3),()=>clearTimeout(h)},[e]);const[l,c]=Q.useState(!1),d=()=>{c(!l)};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"container",children:[T.jsx("div",{className:"nav-background"}),T.jsx(Pc,{}),T.jsx(T4,{courses:i,user:e,toggleAddCourseBox:d}),l?T.jsx(E4,{user:e,getMyCourses:a,toggleAddCourseBox:d}):null]})})},w4=({user:t})=>T.jsx(T.Fragment,{children:T.jsxs(Mt.div,{className:"profile-content",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:.3},children:[T.jsx("h1",{children:"Profiili"}),T.jsx("p",{children:"Tämä on profiilisivu. Täältä löydät tietoja omasta profiilistasi."}),T.jsxs("div",{className:"profile-info",children:[T.jsxs("div",{className:"username",children:[T.jsx("label",{children:"Nimi"}),T.jsx("h2",{children:`${t==null?void 0:t.firstname} ${t==null?void 0:t.lastname}`})]}),T.jsxs("div",{className:"email",children:[T.jsx("label",{children:"Sähköposti"}),T.jsx("h3",{children:t==null?void 0:t.email})]})]})]})}),M4=()=>{const{loggedIn:t,user:e}=br();return console.log("profile.user:",e),console.log("loggedIn:",t),T.jsx(T.Fragment,{children:T.jsxs("div",{className:"container",children:[T.jsx("div",{className:"nav-background"}),T.jsx(Pc,{}),e&&T.jsx(w4,{user:e})]})})};function k4(t){return Di({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM504 312l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(t)}function A4(t){return Di({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 14h-6c-.553 0-1-.447-1-1s.447-1 1-1h6c.553 0 1 .447 1 1s-.447 1-1 1zM14 9c0 1.381-.56 2.631-1.464 3.535-.905.905-2.155 1.465-3.536 1.465s-2.631-.56-3.536-1.465c-.904-.904-1.464-2.154-1.464-3.535s.56-2.631 1.464-3.535c.905-.905 2.155-1.465 3.536-1.465s2.631.56 3.536 1.465c.904.904 1.464 2.154 1.464 3.535zM9 15c-3.75 0-6 2-6 4 0 1 2.25 2 6 2 3.518 0 6-1 6-2 0-2-2.354-4-6-4z"},child:[]}]})(t)}function Ct(t){this.content=t}Ct.prototype={constructor:Ct,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,s=i.find(t),a=i.content.slice();return s==-1?a.push(n||t,e):(a[s+1]=e,n&&(a[s]=n)),new Ct(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ct(n)},addToStart:function(t,e){return new Ct([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ct(n)},addBefore:function(t,e,n){var i=this.remove(e),s=i.content.slice(),a=i.find(t);return s.splice(a==-1?s.length:a,0,e,n),new Ct(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ct.from(t),t.size?new Ct(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ct.from(t),t.size?new Ct(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ct.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ct.from=function(t){if(t instanceof Ct)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ct(e)};function nT(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(i),a=e.child(i);if(s==a){n+=s.nodeSize;continue}if(!s.sameMarkup(a))return n;if(s.isText&&s.text!=a.text){for(let l=0;s.text[l]==a.text[l];l++)n++;return n}if(s.content.size||a.content.size){let l=nT(s.content,a.content,n+1);if(l!=null)return l}n+=s.nodeSize}}function iT(t,e,n,i){for(let s=t.childCount,a=e.childCount;;){if(s==0||a==0)return s==a?null:{a:n,b:i};let l=t.child(--s),c=e.child(--a),d=l.nodeSize;if(l==c){n-=d,i-=d;continue}if(!l.sameMarkup(c))return{a:n,b:i};if(l.isText&&l.text!=c.text){let h=0,m=Math.min(l.text.length,c.text.length);for(;h<m&&l.text[l.text.length-h-1]==c.text[c.text.length-h-1];)h++,n--,i--;return{a:n,b:i}}if(l.content.size||c.content.size){let h=iT(l.content,c.content,n-1,i-1);if(h)return h}n-=d,i-=d}}class Y{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,s=0,a){for(let l=0,c=0;c<n;l++){let d=this.content[l],h=c+d.nodeSize;if(h>e&&i(d,s+c,a||null,l)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,n-m),i,s+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,s){let a="",l=!0;return this.nodesBetween(e,n,(c,d)=>{let h=c.isText?c.text.slice(Math.max(e,d)-d,n-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&i&&(l?l=!1:a+=i),a+=h},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,s=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(i)&&(s[s.length-1]=n.withText(n.text+i.text),a=1);a<e.content.length;a++)s.push(e.content[a]);return new Y(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],s=0;if(n>e)for(let a=0,l=0;l<n;a++){let c=this.content[a],d=l+c.nodeSize;d>e&&((l<e||d>n)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,n-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,n-l-1))),i.push(c),s+=c.nodeSize),l=d}return new Y(i,s)}cutByIndex(e,n){return e==n?Y.empty:e==0&&n==this.content.length?this:new Y(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let s=this.content.slice(),a=this.size+n.nodeSize-i.nodeSize;return s[e]=n,new Y(s,a)}addToStart(e){return new Y([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Y(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let s=this.content[n];e(s,i,n),i+=s.nodeSize}}findDiffStart(e,n=0){return nT(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return iT(this,e,n,i)}findIndex(e,n=-1){if(e==0)return Vu(0,e);if(e==this.size)return Vu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,s=0;;i++){let a=this.child(i),l=s+a.nodeSize;if(l>=e)return l==e||n>0?Vu(i+1,l):Vu(i,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Y.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Y(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Y.empty;let n,i=0;for(let s=0;s<e.length;s++){let a=e[s];i+=a.nodeSize,s&&a.isText&&e[s-1].sameMarkup(a)?(n||(n=e.slice(0,s)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new Y(n||e,i)}static from(e){if(!e)return Y.empty;if(e instanceof Y)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Y([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Y.empty=new Y([],0);const Oh={index:0,offset:0};function Vu(t,e){return Oh.index=t,Oh.offset=e,Oh}function hc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!hc(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!hc(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let He=class wp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let s=0;s<e.length;s++){let a=e[s];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,s));else{if(a.type.excludes(this.type))return e;!i&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),i=!0),n&&n.push(a)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&hc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=i.create(n.attrs);return i.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return wp.none;if(e instanceof wp)return[e];let n=e.slice();return n.sort((i,s)=>i.type.rank-s.type.rank),n}};He.none=[];class pc extends Error{}class te{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=sT(this.content,e+this.openStart,n);return i&&new te(i,this.openStart,this.openEnd)}removeBetween(e,n){return new te(rT(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return te.empty;let i=n.openStart||0,s=n.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new te(Y.fromJSON(e,n.content),i,s)}static maxOpen(e,n=!0){let i=0,s=0;for(let a=e.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)i++;for(let a=e.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)s++;return new te(e,i,s)}}te.empty=new te(Y.empty,0,0);function rT(t,e,n){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i),{index:l,offset:c}=t.findIndex(n);if(s==e||a.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(i,a.copy(rT(a.content,e-s-1,n-s-1)))}function sT(t,e,n,i){let{index:s,offset:a}=t.findIndex(e),l=t.maybeChild(s);if(a==e||l.isText)return t.cut(0,e).append(n).append(t.cut(e));let c=sT(l.content,e-a-1,n);return c&&t.replaceChild(s,l.copy(c))}function O4(t,e,n){if(n.openStart>t.depth)throw new pc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new pc("Inconsistent open depths");return oT(t,e,n,0)}function oT(t,e,n,i){let s=t.index(i),a=t.node(i);if(s==e.index(i)&&i<t.depth-n.openStart){let l=oT(t,e,n,i+1);return a.copy(a.content.replaceChild(s,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let l=t.parent,c=l.content;return ss(l,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=D4(n,t);return ss(a,lT(t,l,c,e,i))}else return ss(a,mc(t,e,i))}function aT(t,e){if(!e.type.compatibleContent(t.type))throw new pc("Cannot join "+e.type.name+" onto "+t.type.name)}function Mp(t,e,n){let i=t.node(n);return aT(i,e.node(n)),i}function rs(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ua(t,e,n,i){let s=(e||t).node(n),a=0,l=e?e.index(n):s.childCount;t&&(a=t.index(n),t.depth>n?a++:t.textOffset&&(rs(t.nodeAfter,i),a++));for(let c=a;c<l;c++)rs(s.child(c),i);e&&e.depth==n&&e.textOffset&&rs(e.nodeBefore,i)}function ss(t,e){return t.type.checkContent(e),t.copy(e)}function lT(t,e,n,i,s){let a=t.depth>s&&Mp(t,e,s+1),l=i.depth>s&&Mp(n,i,s+1),c=[];return Ua(null,t,s,c),a&&l&&e.index(s)==n.index(s)?(aT(a,l),rs(ss(a,lT(t,e,n,i,s+1)),c)):(a&&rs(ss(a,mc(t,e,s+1)),c),Ua(e,n,s,c),l&&rs(ss(l,mc(n,i,s+1)),c)),Ua(i,null,s,c),new Y(c)}function mc(t,e,n){let i=[];if(Ua(null,t,n,i),t.depth>n){let s=Mp(t,e,n+1);rs(ss(s,mc(t,e,n+1)),i)}return Ua(e,null,n,i),new Y(i)}function D4(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let a=n-1;a>=0;a--)s=e.node(a).copy(Y.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class el{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=e.child(n);return i?e.child(n).cut(i):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let a=0;a<e;a++)s+=i.child(a).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return He.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),s=e.maybeChild(n);if(!i){let c=i;i=s,s=c}let a=i.marks;for(var l=0;l<a.length;l++)a[l].type.spec.inclusive===!1&&(!s||!a[l].isInSet(s.marks))&&(a=a[l--].removeFromSet(a));return a}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,s=e.parent.maybeChild(e.index());for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new gc(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],s=0,a=n;for(let l=e;;){let{index:c,offset:d}=l.content.findIndex(a),h=a-d;if(i.push(l,c,s+d),!h||(l=l.child(c),l.isText))break;a=h-1,s+=d+1}return new el(n,i,a)}static resolveCached(e,n){let i=kv.get(e);if(i)for(let a=0;a<i.elts.length;a++){let l=i.elts[a];if(l.pos==n)return l}else kv.set(e,i=new N4);let s=i.elts[i.i]=el.resolve(e,n);return i.i=(i.i+1)%R4,s}}class N4{constructor(){this.elts=[],this.i=0}}const R4=12,kv=new WeakMap;class gc{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const j4=Object.create(null);let lr=class kp{constructor(e,n,i,s=He.none){this.type=e,this.attrs=n,this.marks=s,this.content=i||Y.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,s=0){this.content.nodesBetween(e,n,i,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,s){return this.content.textBetween(e,n,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&hc(this.attrs,n||e.defaultAttrs||j4)&&He.sameSet(this.marks,i||He.none)}copy(e=null){return e==this.content?this:new kp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new kp(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return te.empty;let s=this.resolve(e),a=this.resolve(n),l=i?0:s.sharedDepth(n),c=s.start(l),h=s.node(l).content.cut(s.pos-c,a.pos-c);return new te(h,s.depth-l,a.depth-l)}replace(e,n,i){return O4(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let s=this.content.child(n-1);return{node:s,index:n-1,offset:i-s.nodeSize}}resolve(e){return el.resolveCached(this,e)}resolveNoCache(e){return el.resolve(this,e)}rangeHasMark(e,n,i){let s=!1;return n>e&&this.nodesBetween(e,n,a=>(i.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),uT(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=Y.empty,s=0,a=i.childCount){let l=this.contentMatchAt(e).matchFragment(i,s,a),c=l&&l.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let d=s;d<a;d++)if(!this.type.allowsMarks(i.child(d).marks))return!1;return!0}canReplaceWith(e,n,i,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(e).matchType(i),l=a&&a.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=He.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!He.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let s=Y.fromJSON(e,n.content),a=e.nodeType(n.type).create(n.attrs,s,i);return a.type.checkAttrs(a.attrs),a}};lr.prototype.text=void 0;class yc extends lr{constructor(e,n,i,s){if(super(e,n,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):uT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new yc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new yc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function uT(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class fs{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new _4(e,n);if(i.next==null)return fs.empty;let s=cT(i);i.next&&i.err("Unexpected trailing text");let a=U4(H4(s));return I4(a,i),a}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let s=this;for(let a=n;s&&a<i;a++)s=s.matchType(e.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let s=[this];function a(l,c){let d=l.matchFragment(e,i);if(d&&(!n||d.validEnd))return Y.from(c.map(h=>h.createAndFill()));for(let h=0;h<l.next.length;h++){let{type:m,next:g}=l.next[h];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(g)==-1){s.push(g);let b=a(g,c.concat(m));if(b)return b}}return null}return a(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),a=s.match;if(a.matchType(e)){let l=[];for(let c=s;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<a.next.length;l++){let{type:c,next:d}=a.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!s.type||d.validEnd)&&(i.push({match:c.contentMatch,type:c,via:s}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let s=0;s<i.next.length;s++)e.indexOf(i.next[s].next)==-1&&n(i.next[s].next)}return n(this),e.map((i,s)=>{let a=s+(i.validEnd?"*":" ")+" ";for(let l=0;l<i.next.length;l++)a+=(l?", ":"")+i.next[l].type.name+"->"+e.indexOf(i.next[l].next);return a}).join(`
`)}}fs.empty=new fs(!0);class _4{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function cT(t){let e=[];do e.push(z4(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function z4(t){let e=[];do e.push(L4(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function L4(t){let e=P4(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=B4(t,e);else break;return e}function Av(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function B4(t,e){let n=Av(t),i=n;return t.eat(",")&&(t.next!="}"?i=Av(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function V4(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let s=[];for(let a in n){let l=n[a];l.isInGroup(e)&&s.push(l)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function P4(t){if(t.eat("(")){let e=cT(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=V4(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function H4(t){let e=[[]];return s(a(t,0),n()),e;function n(){return e.push([])-1}function i(l,c,d){let h={term:d,to:c};return e[l].push(h),h}function s(l,c){l.forEach(d=>d.to=c)}function a(l,c){if(l.type=="choice")return l.exprs.reduce((d,h)=>d.concat(a(h,c)),[]);if(l.type=="seq")for(let d=0;;d++){let h=a(l.exprs[d],c);if(d==l.exprs.length-1)return h;s(h,c=n())}else if(l.type=="star"){let d=n();return i(c,d),s(a(l.expr,d),d),[i(d)]}else if(l.type=="plus"){let d=n();return s(a(l.expr,c),d),s(a(l.expr,d),d),[i(d)]}else{if(l.type=="opt")return[i(c)].concat(a(l.expr,c));if(l.type=="range"){let d=c;for(let h=0;h<l.min;h++){let m=n();s(a(l.expr,d),m),d=m}if(l.max==-1)s(a(l.expr,d),d);else for(let h=l.min;h<l.max;h++){let m=n();i(d,m),s(a(l.expr,d),m),d=m}return[i(d)]}else{if(l.type=="name")return[i(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function fT(t,e){return e-t}function Ov(t,e){let n=[];return i(e),n.sort(fT);function i(s){let a=t[s];if(a.length==1&&!a[0].term)return i(a[0].to);n.push(s);for(let l=0;l<a.length;l++){let{term:c,to:d}=a[l];!c&&n.indexOf(d)==-1&&i(d)}}}function U4(t){let e=Object.create(null);return n(Ov(t,0));function n(i){let s=[];i.forEach(l=>{t[l].forEach(({term:c,to:d})=>{if(!c)return;let h;for(let m=0;m<s.length;m++)s[m][0]==c&&(h=s[m][1]);Ov(t,d).forEach(m=>{h||s.push([c,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let a=e[i.join(",")]=new fs(i.indexOf(t.length-1)>-1);for(let l=0;l<s.length;l++){let c=s[l][1].sort(fT);a.next.push({type:s[l][0],next:e[c.join(",")]||n(c)})}return a}}function I4(t,e){for(let n=0,i=[t];n<i.length;n++){let s=i[n],a=!s.validEnd,l=[];for(let c=0;c<s.next.length;c++){let{type:d,next:h}=s.next[c];l.push(d.name),a&&!(d.isText||d.hasRequiredAttrs())&&(a=!1),i.indexOf(h)==-1&&i.push(h)}a&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function dT(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function hT(t,e){let n=Object.create(null);for(let i in t){let s=e&&e[i];if(s===void 0){let a=t[i];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=s}return n}function pT(t,e,n,i){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let a=t[s];a.validate&&a.validate(e[s])}}function mT(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new $4(t,i,e[i]);return n}let Dv=class gT{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=mT(e,i.attrs),this.defaultAttrs=dT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==fs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:hT(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new lr(this,this.computeAttrs(e),Y.from(n),He.setFrom(i))}createChecked(e=null,n,i){return n=Y.from(n),this.checkContent(n),new lr(this,this.computeAttrs(e),n,He.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=Y.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let s=this.contentMatch.matchFragment(n),a=s&&s.fillBefore(Y.empty,!0);return a?new lr(this,e,n.append(a),He.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){pT(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:He.none:e}static compile(e,n){let i=Object.create(null);e.forEach((a,l)=>i[a]=new gT(a,n,l));let s=n.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let a in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function F4(t,e,n){let i=n.split("|");return s=>{let a=s===null?"null":typeof s;if(i.indexOf(a)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${a}`)}}class $4{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?F4(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class Hc{constructor(e,n,i,s){this.name=e,this.rank=n,this.schema=i,this.spec=s,this.attrs=mT(e,s.attrs),this.excluded=null;let a=dT(this.attrs);this.instance=a?new He(this,a):null}create(e=null){return!e&&this.instance?this.instance:new He(this,hT(this.attrs,e))}static compile(e,n){let i=Object.create(null),s=0;return e.forEach((a,l)=>i[a]=new Hc(a,s++,n,l)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){pT(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class yT{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Ct.from(e.nodes),n.marks=Ct.from(e.marks||{}),this.nodes=Dv.compile(this.spec.nodes,this),this.marks=Hc.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],l=a.spec.content||"",c=a.spec.marks;if(a.contentMatch=i[l]||(i[l]=fs.parse(l,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=c=="_"?null:c?Nv(this,c.split(" ")):c==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],l=a.spec.excludes;a.excluded=l==null?[a]:l==""?[]:Nv(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Dv){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,s)}text(e,n){let i=this.nodes.text;return new yc(i,i.defaultAttrs,e,He.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return lr.fromJSON(this,e)}markFromJSON(e){return He.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Nv(t,e){let n=[];for(let i=0;i<e.length;i++){let s=e[i],a=t.marks[s],l=a;if(a)n.push(a);else for(let c in t.marks){let d=t.marks[c];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function q4(t){return t.tag!=null}function G4(t){return t.style!=null}class ur{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(s=>{if(q4(s))this.tags.push(s);else if(G4(s)){let a=/[^=]*/.exec(s.style)[0];i.indexOf(a)<0&&i.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=e.nodes[s.node];return a.contentMatch.matchType(a)})}parse(e,n={}){let i=new jv(this,n,!1);return i.addAll(e,He.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new jv(this,n,!0);return i.addAll(e,He.none,n.from,n.to),te.maxOpen(i.finish())}matchTag(e,n,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(X4(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let l=a.getAttrs(e);if(l===!1)continue;a.attrs=l||void 0}return a}}}matchStyle(e,n,i,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let l=this.styles[a],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!i.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function i(s){let a=s.priority==null?50:s.priority,l=0;for(;l<n.length;l++){let c=n[l];if((c.priority==null?50:c.priority)<a)break}n.splice(l,0,s)}for(let s in e.marks){let a=e.marks[s].spec.parseDOM;a&&a.forEach(l=>{i(l=_v(l)),l.mark||l.ignore||l.clearMark||(l.mark=s)})}for(let s in e.nodes){let a=e.nodes[s].spec.parseDOM;a&&a.forEach(l=>{i(l=_v(l)),l.node||l.ignore||l.mark||(l.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ur(e,ur.schemaRules(e)))}}const bT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},K4={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},vT={ol:!0,ul:!0},tl=1,Ap=2,Qu=4;function Rv(t,e,n){return e!=null?(e?tl:0)|(e==="full"?Ap:0):t&&t.whitespace=="pre"?tl|Ap:n&-5}class Pu{constructor(e,n,i,s,a,l){this.type=e,this.attrs=n,this.marks=i,this.solid=s,this.options=l,this.content=[],this.activeMarks=He.none,this.match=a||(l&Qu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Y.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(e.type))?(this.match=i,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&tl)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let a=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let n=Y.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Y.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!bT.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class jv{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let s=n.topNode,a,l=Rv(null,n.preserveWhitespace,0)|(i?Qu:0);s?a=new Pu(s.type,s.attrs,He.none,!0,n.topMatch||s.type.contentMatch,l):i?a=new Pu(null,null,He.none,!0,null,l):a=new Pu(e.schema.topNodeType,null,He.none,!0,null,l),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,s=this.top,a=s.options&Ap?"full":this.localPreserveWS||(s.options&tl)>0;if(a==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(a)a!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let s=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;vT.hasOwnProperty(l)&&this.parser.normalizeLists&&Y4(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,i));e:if(d?d.ignore:K4.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(bT.hasOwnProperty(l))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),h=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=d&&d.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),h&&this.sync(a),this.needsBlock=m}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,d,h,d.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],l=i.getPropertyValue(a);if(l)for(let c=void 0;;){let d=this.parser.matchStyle(a,l,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(h=>!d.clearMark(h)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return n}addElementByRule(e,n,i,s){let a,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),i)||this.leafFallback(e,i);else{let d=this.enter(l,n.attrs||null,i,n.preserveWhitespace);d&&(a=!0,i=d)}else{let d=this.parser.schema.marks[n.mark];i=i.concat(d.create(n.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(s)this.addElement(e,i,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,i));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,i),this.findAround(e,d,!1)}a&&this.sync(c)&&this.open--}addAll(e,n,i,s){let a=i||0;for(let l=i?e.childNodes[i]:e.firstChild,c=s==null?null:e.childNodes[s];l!=c;l=l.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(l,n);this.findAtPoint(e,a)}findPlace(e,n){let i,s;for(let a=this.open;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(e);if(c&&(!i||i.length>c.length)&&(i=c,s=l,!c.length)||l.solid)break}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=He.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):zv(l.type,e.type))&&(a=l.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,i,s){let a=this.findPlace(e.create(n),i);return a&&(a=this.enterInner(e,n,i,!0,s)),a}enterInner(e,n,i,s=!1,a){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=Rv(e,a,l.options);l.options&Qu&&l.content.length==0&&(c|=Qu);let d=He.none;return i=i.filter(h=>(l.type?l.type.allowsMarkType(h.type):zv(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new Pu(e,n,d,s,null,c)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=tl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let s=i.length-1;s>=0;s--)e+=i[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),a=-(i?i.depth+1:0)+(s?0:1),l=(c,d)=>{for(;c>=0;c--){let h=n[c];if(h==""){if(c==n.length-1||c==0)continue;for(;d>=a;d--)if(l(c-1,d))return!0;return!1}else{let m=d>0||d==0&&s?this.nodes[d].type:i&&d>=a?i.node(d-a).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function Y4(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&vT.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function X4(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function _v(t){let e={};for(let n in t)e[n]=t[n];return e}function zv(t,e){let n=e.schema.nodes;for(let i in n){let s=n[i];if(!s.allowsMarkType(t))continue;let a=[],l=c=>{a.push(c);for(let d=0;d<c.edgeCount;d++){let{type:h,next:m}=c.edge(d);if(h==e||a.indexOf(m)<0&&l(m))return!0}};if(l(s.contentMatch))return!0}}class gs{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=Dh(n).createDocumentFragment());let s=i,a=[];return e.forEach(l=>{if(a.length||l.marks.length){let c=0,d=0;for(;c<a.length&&d<l.marks.length;){let h=l.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(a[c][0])||h.type.spec.spanning===!1)break;c++,d++}for(;c<a.length;)s=a.pop()[1];for(;d<l.marks.length;){let h=l.marks[d++],m=this.serializeMark(h,l.isInline,n);m&&(a.push([h,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(l,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:s}=Ju(Dh(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let a=this.serializeMark(e.marks[s],e.isInline,n);a&&((a.contentDOM||a.dom).appendChild(i),i=a.dom)}return i}serializeMark(e,n,i={}){let s=this.marks[e.type.name];return s&&Ju(Dh(i),s(e,n),null,e.attrs)}static renderSpec(e,n,i=null,s){return Ju(e,n,i,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new gs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Lv(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return Lv(e.marks)}}function Lv(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function Dh(t){return t.document||window.document}const Bv=new WeakMap;function W4(t){let e=Bv.get(t);return e===void 0&&Bv.set(t,e=Q4(t)),e}function Q4(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let s=0;s<i.length;s++)n(i[s]);else for(let s in i)n(i[s])}return n(t),e}function Ju(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(a=W4(i))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=s.indexOf(" ");l>0&&(n=s.slice(0,l),s=s.slice(l+1));let c,d=n?t.createElementNS(n,s):t.createElement(s),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let g in h)if(h[g]!=null){let b=g.indexOf(" ");b>0?d.setAttributeNS(g.slice(0,b),g.slice(b+1),h[g]):d.setAttribute(g,h[g])}}for(let g=m;g<e.length;g++){let b=e[g];if(b===0){if(g<e.length-1||g>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:x}=Ju(t,b,n,i);if(d.appendChild(v),x){if(c)throw new RangeError("Multiple content holes");c=x}}}return{dom:d,contentDOM:c}}const xT=65535,ST=Math.pow(2,16);function J4(t,e){return t+e*ST}function Vv(t){return t&xT}function Z4(t){return(t-(t&xT))/ST}const TT=1,ET=2,Zu=4,CT=8;class Op{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&CT)>0}get deletedBefore(){return(this.delInfo&(TT|Zu))>0}get deletedAfter(){return(this.delInfo&(ET|Zu))>0}get deletedAcross(){return(this.delInfo&Zu)>0}}class an{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&an.empty)return an.empty}recover(e){let n=0,i=Vv(e);if(!this.inverted)for(let s=0;s<i;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+n+Z4(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let s=0,a=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[c+a],m=this.ranges[c+l],g=d+h;if(e<=g){let b=h?e==d?-1:e==g?1:n:n,v=d+s+(b<0?0:m);if(i)return v;let x=e==(n<0?d:g)?null:J4(c/3,e-d),E=e==d?ET:e==g?TT:Zu;return(n<0?e!=d:e!=g)&&(E|=CT),new Op(v,E,x)}s+=m-h}return i?e+s:new Op(e+s,0,null)}touches(e,n){let i=0,s=Vv(n),a=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?i:0);if(d>e)break;let h=this.ranges[c+a],m=d+h;if(e<=m&&c==s*3)return!0;i+=this.ranges[c+l]-h}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let l=this.ranges[s],c=l-(this.inverted?a:0),d=l+(this.inverted?0:a),h=this.ranges[s+n],m=this.ranges[s+i];e(c,c+h,d,d+m),a+=m-h}}invert(){return new an(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?an.empty:new an(e<0?[0,-e,0]:[0,0,e])}}an.empty=new an([]);class uo{constructor(e=[],n,i=0,s=e.length){this.maps=e,this.mirror=n,this.from=i,this.to=s}slice(e=0,n=this.maps.length){return new uo(this.maps,this.mirror,e,n)}copy(){return new uo(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,i=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?i+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?i-s-1:void 0)}}invert(){let e=new uo;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this.maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let s=0;for(let a=this.from;a<this.to;a++){let l=this.maps[a],c=l.mapResult(e,n);if(c.recover!=null){let d=this.getMirror(a);if(d!=null&&d>a&&d<this.to){a=d,e=this.maps[d].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return i?e:new Op(e,s,null)}}const Nh=Object.create(null);class Bt{getMap(){return an.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Nh[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Nh)throw new RangeError("Duplicate use of step JSON ID "+e);return Nh[e]=n,n.prototype.jsonID=e,n}}class lt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new lt(e,null)}static fail(e){return new lt(null,e)}static fromReplace(e,n,i,s){try{return lt.ok(e.replace(n,i,s))}catch(a){if(a instanceof pc)return lt.fail(a.message);throw a}}}function Bm(t,e,n){let i=[];for(let s=0;s<t.childCount;s++){let a=t.child(s);a.content.size&&(a=a.copy(Bm(a.content,e,a))),a.isInline&&(a=e(a,n,s)),i.push(a)}return Y.fromArray(i)}class sr extends Bt{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),s=i.node(i.sharedDepth(this.to)),a=new te(Bm(n.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),s),n.openStart,n.openEnd);return lt.fromReplace(e,this.from,this.to,a)}invert(){return new Gn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new sr(n.pos,i.pos,this.mark)}merge(e){return e instanceof sr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new sr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new sr(n.from,n.to,e.markFromJSON(n.mark))}}Bt.jsonID("addMark",sr);class Gn extends Bt{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new te(Bm(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return lt.fromReplace(e,this.from,this.to,i)}invert(){return new sr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Gn(n.pos,i.pos,this.mark)}merge(e){return e instanceof Gn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Gn(n.from,n.to,e.markFromJSON(n.mark))}}Bt.jsonID("removeMark",Gn);class or extends Bt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return lt.fromReplace(e,this.pos,this.pos+1,new te(Y.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(i))return new or(this.pos,n.marks[s]);return new or(this.pos,this.mark)}}return new go(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new or(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new or(n.pos,e.markFromJSON(n.mark))}}Bt.jsonID("addNodeMark",or);class go extends Bt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return lt.fromReplace(e,this.pos,this.pos+1,new te(Y.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new or(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new go(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new go(n.pos,e.markFromJSON(n.mark))}}Bt.jsonID("removeNodeMark",go);class yt extends Bt{constructor(e,n,i,s=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=s}apply(e){return this.structure&&Dp(e,this.from,this.to)?lt.fail("Structure replace would overwrite content"):lt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new an([this.from,this.to-this.from,this.slice.size])}invert(e){return new yt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new yt(n.pos,Math.max(n.pos,i.pos),this.slice)}merge(e){if(!(e instanceof yt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?te.empty:new te(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new yt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?te.empty:new te(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new yt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new yt(n.from,n.to,te.fromJSON(e,n.slice),!!n.structure)}}Bt.jsonID("replace",yt);class bt extends Bt{constructor(e,n,i,s,a,l,c=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=s,this.slice=a,this.insert=l,this.structure=c}apply(e){if(this.structure&&(Dp(e,this.from,this.gapFrom)||Dp(e,this.gapTo,this.to)))return lt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return lt.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?lt.fromReplace(e,this.from,this.to,i):lt.fail("Content does not fit in gap")}getMap(){return new an([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new bt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||s<n.pos||a>i.pos?null:new bt(n.pos,i.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new bt(n.from,n.to,n.gapFrom,n.gapTo,te.fromJSON(e,n.slice),n.insert,!!n.structure)}}Bt.jsonID("replaceAround",bt);function Dp(t,e,n){let i=t.resolve(e),s=n-e,a=i.depth;for(;s>0&&a>0&&i.indexAfter(a)==i.node(a).childCount;)a--,s--;if(s>0){let l=i.node(a).maybeChild(i.indexAfter(a));for(;s>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,s--}}return!1}function eN(t,e,n,i){let s=[],a=[],l,c;t.doc.nodesBetween(e,n,(d,h,m)=>{if(!d.isInline)return;let g=d.marks;if(!i.isInSet(g)&&m.type.allowsMarkType(i.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,n),x=i.addToSet(g);for(let E=0;E<g.length;E++)g[E].isInSet(x)||(l&&l.to==b&&l.mark.eq(g[E])?l.to=v:s.push(l=new Gn(b,v,g[E])));c&&c.to==b?c.to=v:a.push(c=new sr(b,v,i))}}),s.forEach(d=>t.step(d)),a.forEach(d=>t.step(d))}function tN(t,e,n,i){let s=[],a=0;t.doc.nodesBetween(e,n,(l,c)=>{if(!l.isInline)return;a++;let d=null;if(i instanceof Hc){let h=l.marks,m;for(;m=i.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else i?i.isInSet(l.marks)&&(d=[i]):d=l.marks;if(d&&d.length){let h=Math.min(c+l.nodeSize,n);for(let m=0;m<d.length;m++){let g=d[m],b;for(let v=0;v<s.length;v++){let x=s[v];x.step==a-1&&g.eq(s[v].style)&&(b=x)}b?(b.to=h,b.step=a):s.push({style:g,from:Math.max(c,e),to:h,step:a})}}}),s.forEach(l=>t.step(new Gn(l.from,l.to,l.style)))}function Vm(t,e,n,i=n.contentMatch,s=!0){let a=t.doc.nodeAt(e),l=[],c=e+1;for(let d=0;d<a.childCount;d++){let h=a.child(d),m=c+h.nodeSize,g=i.matchType(h.type);if(!g)l.push(new yt(c,m,te.empty));else{i=g;for(let b=0;b<h.marks.length;b++)n.allowsMarkType(h.marks[b].type)||t.step(new Gn(c,m,h.marks[b]));if(s&&h.isText&&n.whitespace!="pre"){let b,v=/\r?\n|\r/g,x;for(;b=v.exec(h.text);)x||(x=new te(Y.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),l.push(new yt(c+b.index,c+b.index+b[0].length,x))}}c=m}if(!i.validEnd){let d=i.fillBefore(Y.empty,!0);t.replace(c,c,new te(d,0,0))}for(let d=l.length-1;d>=0;d--)t.step(l[d])}function nN(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ko(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth;;--i){let s=t.$from.node(i),a=t.$from.index(i),l=t.$to.indexAfter(i);if(i<t.depth&&s.canReplace(a,l,n))return i;if(i==0||s.type.spec.isolating||!nN(s,a,l))break}return null}function iN(t,e,n){let{$from:i,$to:s,depth:a}=e,l=i.before(a+1),c=s.after(a+1),d=l,h=c,m=Y.empty,g=0;for(let x=a,E=!1;x>n;x--)E||i.index(x)>0?(E=!0,m=Y.from(i.node(x).copy(m)),g++):d--;let b=Y.empty,v=0;for(let x=a,E=!1;x>n;x--)E||s.after(x+1)<s.end(x)?(E=!0,b=Y.from(s.node(x).copy(b)),v++):h++;t.step(new bt(d,h,l,c,new te(m.append(b),g,v),m.size-g,!0))}function Pm(t,e,n=null,i=t){let s=rN(t,e),a=s&&sN(i,e);return a?s.map(Pv).concat({type:e,attrs:n}).concat(a.map(Pv)):null}function Pv(t){return{type:t,attrs:null}}function rN(t,e){let{parent:n,startIndex:i,endIndex:s}=t,a=n.contentMatchAt(i).findWrapping(e);if(!a)return null;let l=a.length?a[0]:e;return n.canReplaceWith(i,s,l)?a:null}function sN(t,e){let{parent:n,startIndex:i,endIndex:s}=t,a=n.child(i),l=e.contentMatch.findWrapping(a.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let h=i;d&&h<s;h++)d=d.matchType(n.child(h).type);return!d||!d.validEnd?null:l}function oN(t,e,n){let i=Y.empty;for(let l=n.length-1;l>=0;l--){if(i.size){let c=n[l].type.contentMatch.matchFragment(i);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=Y.from(n[l].type.create(n[l].attrs,i))}let s=e.start,a=e.end;t.step(new bt(s,a,s,a,new te(i,0,0),n.length,!0))}function aN(t,e,n,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,n,(l,c)=>{let d=typeof s=="function"?s(l):s;if(l.isTextblock&&!l.hasMarkup(i,d)&&lN(t.doc,t.mapping.slice(a).map(c),i)){let h=null;if(i.schema.linebreakReplacement){let v=i.whitespace=="pre",x=!!i.contentMatch.matchType(i.schema.linebreakReplacement);v&&!x?h=!1:!v&&x&&(h=!0)}h===!1&&MT(t,l,c,a),Vm(t,t.mapping.slice(a).map(c,1),i,void 0,h===null);let m=t.mapping.slice(a),g=m.map(c,1),b=m.map(c+l.nodeSize,1);return t.step(new bt(g,b,g+1,b-1,new te(Y.from(i.create(d,null,l.marks)),0,0),1,!0)),h===!0&&wT(t,l,c,a),!1}})}function wT(t,e,n,i){e.forEach((s,a)=>{if(s.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(s.text);){let d=t.mapping.slice(i).map(n+1+a+l.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function MT(t,e,n,i){e.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let l=t.mapping.slice(i).map(n+1+a);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function lN(t,e,n){let i=t.resolve(e),s=i.index();return i.parent.canReplaceWith(s,s+1,n)}function uN(t,e,n,i,s){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let l=n.create(i,null,s||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,l);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new bt(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new te(Y.from(l),0,0),1,!0))}function Mi(t,e,n=1,i){let s=t.resolve(e),a=s.depth-n,l=i&&i[i.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!l.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,m=n-2;h>a;h--,m--){let g=s.node(h),b=s.index(h);if(g.type.spec.isolating)return!1;let v=g.content.cutByIndex(b,g.childCount),x=i&&i[m+1];x&&(v=v.replaceChild(0,x.type.create(x.attrs)));let E=i&&i[m]||g;if(!g.canReplace(b+1,g.childCount)||!E.type.validContent(v))return!1}let c=s.indexAfter(a),d=i&&i[0];return s.node(a).canReplaceWith(c,c,d?d.type:s.node(a+1).type)}function cN(t,e,n=1,i){let s=t.doc.resolve(e),a=Y.empty,l=Y.empty;for(let c=s.depth,d=s.depth-n,h=n-1;c>d;c--,h--){a=Y.from(s.node(c).copy(a));let m=i&&i[h];l=Y.from(m?m.type.create(m.attrs,l):s.node(c).copy(l))}t.step(new yt(e,e,new te(a.append(l),n,n),!0))}function xr(t,e){let n=t.resolve(e),i=n.index();return kT(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function fN(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let s=0;s<e.childCount;s++){let a=e.child(s),l=a.type==i?t.type.schema.nodes.text:a.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(a.marks))return!1}return n.validEnd}function kT(t,e){return!!(t&&e&&!t.isLeaf&&fN(t,e))}function Uc(t,e,n=-1){let i=t.resolve(e);for(let s=i.depth;;s--){let a,l,c=i.index(s);if(s==i.depth?(a=i.nodeBefore,l=i.nodeAfter):n>0?(a=i.node(s+1),c++,l=i.node(s).maybeChild(c)):(a=i.node(s).maybeChild(c-1),l=i.node(s+1)),a&&!a.isTextblock&&kT(a,l)&&i.node(s).canReplace(c,c+1))return e;if(s==0)break;e=n<0?i.before(s):i.after(s)}}function dN(t,e,n){let i=null,{linebreakReplacement:s}=t.doc.type.schema,a=t.doc.resolve(e-n),l=a.node().type;if(s&&l.inlineContent){let m=l.whitespace=="pre",g=!!l.contentMatch.matchType(s);m&&!g?i=!1:!m&&g&&(i=!0)}let c=t.steps.length;if(i===!1){let m=t.doc.resolve(e+n);MT(t,m.node(),m.before(),c)}l.inlineContent&&Vm(t,e+n-1,l,a.node().contentMatchAt(a.index()),i==null);let d=t.mapping.slice(c),h=d.map(e-n);if(t.step(new yt(h,d.map(e+n,-1),te.empty,!0)),i===!0){let m=t.doc.resolve(h);wT(t,m.node(),m.before(),t.steps.length)}return t}function hN(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let a=i.index(s);if(i.node(s).canReplaceWith(a,a,n))return i.before(s+1);if(a>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let a=i.indexAfter(s);if(i.node(s).canReplaceWith(a,a,n))return i.after(s+1);if(a<i.node(s).childCount)return null}return null}function AT(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let a=0;a<n.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let l=i.depth;l>=0;l--){let c=l==i.depth?0:i.pos<=(i.start(l+1)+i.end(l+1))/2?-1:1,d=i.index(l)+(c>0?1:0),h=i.node(l),m=!1;if(a==1)m=h.canReplace(d,d,s);else{let g=h.contentMatchAt(d).findWrapping(s.firstChild.type);m=g&&h.canReplaceWith(d,d,g[0])}if(m)return c==0?i.pos:c<0?i.before(l+1):i.after(l+1)}return null}function Ic(t,e,n=e,i=te.empty){if(e==n&&!i.size)return null;let s=t.resolve(e),a=t.resolve(n);return OT(s,a,i)?new yt(e,n,i):new pN(s,a,i).fit()}function OT(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class pN{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=Y.empty;for(let s=0;s<=e.depth;s++){let a=e.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=Y.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(e<0?this.$to:i.doc.resolve(e));if(!s)return null;let a=this.placed,l=i.depth,c=s.depth;for(;l&&c&&a.childCount==1;)a=a.firstChild.content,l--,c--;let d=new te(a,l,c);return e>-1?new bt(i.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||i.pos!=this.$to.pos?new yt(i.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<e;i++){let a=n.firstChild;if(n.childCount>1&&(s=0),a.type.spec.isolating&&s<=i){e=i;break}n=a.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let s,a=null;i?(a=Rh(this.unplaced.content,i-1).firstChild,s=a.content):s=this.unplaced.content;let l=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:h}=this.frontier[c],m,g=null;if(n==1&&(l?h.matchType(l.type)||(g=h.fillBefore(Y.from(l),!1)):a&&d.compatibleContent(a.type)))return{sliceDepth:i,frontierDepth:c,parent:a,inject:g};if(n==2&&l&&(m=h.findWrapping(l.type)))return{sliceDepth:i,frontierDepth:c,parent:a,wrap:m};if(a&&h.matchType(a.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=Rh(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new te(e,n+1,Math.max(i,s.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=Rh(e,n);if(s.childCount<=1&&n>0){let a=e.size-n<=n+s.size;this.unplaced=new te(_a(e,n-1,1),n-1,a?n-1:i)}else this.unplaced=new te(_a(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:s,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let E=0;E<a.length;E++)this.openFrontierNode(a[E]);let l=this.unplaced,c=i?i.content:l.content,d=l.openStart-e,h=0,m=[],{match:g,type:b}=this.frontier[n];if(s){for(let E=0;E<s.childCount;E++)m.push(s.child(E));g=g.matchFragment(s)}let v=c.size+e-(l.content.size-l.openEnd);for(;h<c.childCount;){let E=c.child(h),C=g.matchType(E.type);if(!C)break;h++,(h>1||d==0||E.content.size)&&(g=C,m.push(DT(E.mark(b.allowedMarks(E.marks)),h==1?d:0,h==c.childCount?v:-1)))}let x=h==c.childCount;x||(v=-1),this.placed=za(this.placed,n,Y.from(m)),this.frontier[n].match=g,x&&v<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,C=c;E<v;E++){let M=C.lastChild;this.frontier.push({type:M.type,match:M.contentMatchAt(M.childCount)}),C=M.content}this.unplaced=x?e==0?te.empty:new te(_a(l.content,e-1,1),e-1,v<0?l.openEnd:e-1):new te(_a(l.content,e,h),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!jh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:s}=this.frontier[n],a=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=jh(e,n,s,i,a);if(l){for(let c=n-1;c>=0;c--){let{match:d,type:h}=this.frontier[c],m=jh(e,c,h,d,!0);if(!m||m.childCount)continue e}return{depth:n,fit:l,move:a?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=za(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let s=e.node(i),a=s.type.contentMatch.fillBefore(s.content,!0,e.index(i));this.openFrontierNode(s.type,s.attrs,a)}return e}openFrontierNode(e,n=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=za(this.placed,this.depth,Y.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Y.empty,!0);n.childCount&&(this.placed=za(this.placed,this.frontier.length,n))}}function _a(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(_a(t.firstChild.content,e-1,n)))}function za(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(za(t.lastChild.content,e-1,n)))}function Rh(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function DT(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,DT(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(Y.empty,!0)))),t.copy(i)}function jh(t,e,n,i,s){let a=t.node(e),l=s?t.indexAfter(e):t.index(e);if(l==a.childCount&&!n.compatibleContent(a.type))return null;let c=i.fillBefore(a.content,!0,l);return c&&!mN(n,a.content,l)?c:null}function mN(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function gN(t){return t.spec.defining||t.spec.definingForContent}function yN(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),a=t.doc.resolve(n);if(OT(s,a,i))return t.step(new yt(e,n,i));let l=RT(s,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let c=-(s.depth+1);l.unshift(c);for(let b=s.depth,v=s.pos-1;b>0;b--,v--){let x=s.node(b).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;l.indexOf(b)>-1?c=b:s.before(b)==v&&l.splice(1,0,-b)}let d=l.indexOf(c),h=[],m=i.openStart;for(let b=i.content,v=0;;v++){let x=b.firstChild;if(h.push(x),v==i.openStart)break;b=x.content}for(let b=m-1;b>=0;b--){let v=h[b],x=gN(v.type);if(x&&!v.sameMarkup(s.node(Math.abs(c)-1)))m=b;else if(x||!v.type.isTextblock)break}for(let b=i.openStart;b>=0;b--){let v=(b+m+1)%(i.openStart+1),x=h[v];if(x)for(let E=0;E<l.length;E++){let C=l[(E+d)%l.length],M=!0;C<0&&(M=!1,C=-C);let k=s.node(C-1),D=s.index(C-1);if(k.canReplaceWith(D,D,x.type,x.marks))return t.replace(s.before(C),M?a.after(C):n,new te(NT(i.content,0,i.openStart,v),v,i.openEnd))}}let g=t.steps.length;for(let b=l.length-1;b>=0&&(t.replace(e,n,i),!(t.steps.length>g));b--){let v=l[b];v<0||(e=s.before(v),n=a.after(v))}}function NT(t,e,n,i,s){if(e<n){let a=t.firstChild;t=t.replaceChild(0,a.copy(NT(a.content,e+1,n,i,a)))}if(e>i){let a=s.contentMatchAt(0),l=a.fillBefore(t).append(t);t=l.append(a.matchFragment(l).fillBefore(Y.empty,!0))}return t}function bN(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=hN(t.doc,e,i.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new te(Y.from(i),0,0))}function vN(t,e,n){let i=t.doc.resolve(e),s=t.doc.resolve(n),a=RT(i,s);for(let l=0;l<a.length;l++){let c=a[l],d=l==a.length-1;if(d&&c==0||i.node(c).type.contentMatch.validEnd)return t.delete(i.start(c),s.end(c));if(c>0&&(d||i.node(c-1).canReplace(i.index(c-1),s.indexAfter(c-1))))return t.delete(i.before(c),s.after(c))}for(let l=1;l<=i.depth&&l<=s.depth;l++)if(e-i.start(l)==i.depth-l&&n>i.end(l)&&s.end(l)-n!=s.depth-l&&i.start(l-1)==s.start(l-1)&&i.node(l-1).canReplace(i.index(l-1),s.index(l-1)))return t.delete(i.before(l),n);t.delete(e,n)}function RT(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let s=i;s>=0;s--){let a=t.start(s);if(a<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(a==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==a-1)&&n.push(s)}return n}class co extends Bt{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at attribute step's position");let i=Object.create(null);for(let a in n.attrs)i[a]=n.attrs[a];i[this.attr]=this.value;let s=n.type.create(i,null,n.marks);return lt.fromReplace(e,this.pos,this.pos+1,new te(Y.from(s),0,n.isLeaf?0:1))}getMap(){return an.empty}invert(e){return new co(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new co(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new co(n.pos,n.attr,n.value)}}Bt.jsonID("attr",co);class nl extends Bt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return lt.ok(i)}getMap(){return an.empty}invert(e){return new nl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new nl(n.attr,n.value)}}Bt.jsonID("docAttr",nl);let yo=class extends Error{};yo=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};yo.prototype=Object.create(Error.prototype);yo.prototype.constructor=yo;yo.prototype.name="TransformError";class xN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new uo}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new yo(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=te.empty){let s=Ic(this.doc,e,n,i);return s&&this.step(s),this}replaceWith(e,n,i){return this.replace(e,n,new te(Y.from(i),0,0))}delete(e,n){return this.replace(e,n,te.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return yN(this,e,n,i),this}replaceRangeWith(e,n,i){return bN(this,e,n,i),this}deleteRange(e,n){return vN(this,e,n),this}lift(e,n){return iN(this,e,n),this}join(e,n=1){return dN(this,e,n),this}wrap(e,n){return oN(this,e,n),this}setBlockType(e,n=e,i,s=null){return aN(this,e,n,i,s),this}setNodeMarkup(e,n,i=null,s){return uN(this,e,n,i,s),this}setNodeAttribute(e,n,i){return this.step(new co(e,n,i)),this}setDocAttribute(e,n){return this.step(new nl(e,n)),this}addNodeMark(e,n){return this.step(new or(e,n)),this}removeNodeMark(e,n){if(!(n instanceof He)){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n=n.isInSet(i.marks),!n)return this}return this.step(new go(e,n)),this}split(e,n=1,i){return cN(this,e,n,i),this}addMark(e,n,i){return eN(this,e,n,i),this}removeMark(e,n,i){return tN(this,e,n,i),this}clearIncompatible(e,n,i){return Vm(this,e,n,i),this}}const _h=Object.create(null);class Ee{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new SN(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=te.empty){let i=n.content.lastChild,s=null;for(let c=0;c<n.openEnd;c++)s=i,i=i.lastChild;let a=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:d,$to:h}=l[c],m=e.mapping.slice(a);e.replaceRange(m.map(d.pos),m.map(h.pos),c?te.empty:n),c==0&&Iv(e,a,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],d=e.mapping.slice(i),h=d.map(l.pos),m=d.map(c.pos);a?e.deleteRange(h,m):(e.replaceRangeWith(h,m,n),Iv(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let s=e.parent.inlineContent?new ye(e):eo(e.node(0),e.parent,e.pos,e.index(),n,i);if(s)return s;for(let a=e.depth-1;a>=0;a--){let l=n<0?eo(e.node(0),e.node(a),e.before(a+1),e.index(a),n,i):eo(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,n,i);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new cn(e.node(0))}static atStart(e){return eo(e,e,0,0,1)||new cn(e)}static atEnd(e){return eo(e,e,e.content.size,e.childCount,-1)||new cn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=_h[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in _h)throw new RangeError("Duplicate use of selection JSON ID "+e);return _h[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ye.between(this.$anchor,this.$head).getBookmark()}}Ee.prototype.visible=!0;class SN{constructor(e,n){this.$from=e,this.$to=n}}let Hv=!1;function Uv(t){!Hv&&!t.parent.inlineContent&&(Hv=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ye extends Ee{constructor(e,n=e){Uv(e),Uv(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return Ee.near(i);let s=e.resolve(n.map(this.anchor));return new ye(s.parent.inlineContent?s:i,i)}replace(e,n=te.empty){if(super.replace(e,n),n==te.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Fc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ye(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let s=e.resolve(n);return new this(s,i==n?s:e.resolve(i))}static between(e,n,i){let s=e.pos-n.pos;if((!i||s)&&(i=s>=0?1:-1),!n.parent.inlineContent){let a=Ee.findFrom(n,i,!0)||Ee.findFrom(n,-i,!0);if(a)n=a.$head;else return Ee.near(n,i)}return e.parent.inlineContent||(s==0?e=n:(e=(Ee.findFrom(e,-i,!0)||Ee.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new ye(e,n)}}Ee.jsonID("text",ye);class Fc{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Fc(e.map(this.anchor),e.map(this.head))}resolve(e){return ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class de extends Ee{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:s}=n.mapResult(this.anchor),a=e.resolve(s);return i?Ee.near(a):new de(a)}content(){return new te(Y.from(this.node),0,0)}eq(e){return e instanceof de&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Hm(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new de(e.resolve(n.anchor))}static create(e,n){return new de(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}de.prototype.visible=!1;Ee.jsonID("node",de);class Hm{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new Fc(i,i):new Hm(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&de.isSelectable(i)?new de(n):Ee.near(n)}}class cn extends Ee{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=te.empty){if(n==te.empty){e.delete(0,e.doc.content.size);let i=Ee.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new cn(e)}map(e){return new cn(e)}eq(e){return e instanceof cn}getBookmark(){return TN}}Ee.jsonID("all",cn);const TN={map(){return this},resolve(t){return new cn(t)}};function eo(t,e,n,i,s,a=!1){if(e.inlineContent)return ye.create(t,n);for(let l=i-(s>0?0:1);s>0?l<e.childCount:l>=0;l+=s){let c=e.child(l);if(c.isAtom){if(!a&&de.isSelectable(c))return de.create(t,n-(s<0?c.nodeSize:0))}else{let d=eo(t,c,n+s,s<0?c.childCount:0,s,a);if(d)return d}n+=c.nodeSize*s}return null}function Iv(t,e,n){let i=t.steps.length-1;if(i<e)return;let s=t.steps[i];if(!(s instanceof yt||s instanceof bt))return;let a=t.mapping.maps[i],l;a.forEach((c,d,h,m)=>{l==null&&(l=m)}),t.setSelection(Ee.near(t.doc.resolve(l),n))}const Fv=1,$v=2,qv=4;class EN extends xN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Fv)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&Fv)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=$v,this}ensureMarks(e){return He.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&$v)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||He.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!e)return this.deleteRange(n,i);let a=this.storedMarks;if(!a){let l=this.doc.resolve(n);a=i==n?l.marks():l.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,s.text(e,a)),this.selection.empty||this.setSelection(Ee.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=qv,this}get scrolledIntoView(){return(this.updated&qv)>0}}function Gv(t,e){return!e||!t?t:t.bind(e)}class La{constructor(e,n,i){this.name=e,this.init=Gv(n.init,i),this.apply=Gv(n.apply,i)}}const CN=[new La("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new La("selection",{init(t,e){return t.selection||Ee.atStart(e.doc)},apply(t){return t.selection}}),new La("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new La("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class zh{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=CN.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new La(i.key,i.spec.state,i))})}}class ao{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),s=null;for(;;){let a=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let d=s?s[l].n:0,h=s?s[l].state:this,m=d<n.length&&c.spec.appendTransaction.call(c,d?n.slice(d):n,h,i);if(m&&i.filterTransaction(m,l)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let g=0;g<this.config.plugins.length;g++)s.push(g<l?{state:i,n:n.length}:{state:this,n:0})}n.push(m),i=i.applyInner(m),a=!0}s&&(s[l]={state:i,n:n.length})}}if(!a)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ao(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let a=i[s];n[a.name]=a.apply(e,this[a.name],this,n)}return n}get tr(){return new EN(this)}static create(e){let n=new zh(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new ao(n);for(let s=0;s<n.fields.length;s++)i[n.fields[s].name]=n.fields[s].init(e,i);return i}reconfigure(e){let n=new zh(this.schema,e.plugins),i=n.fields,s=new ao(n);for(let a=0;a<i.length;a++){let l=i[a].name;s[l]=this.hasOwnProperty(l)?this[l]:i[a].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[i],a=s.spec.state;a&&a.toJSON&&(n[i]=a.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new zh(e.schema,e.plugins),a=new ao(s);return s.fields.forEach(l=>{if(l.name=="doc")a.doc=lr.fromJSON(e.schema,n.doc);else if(l.name=="selection")a.selection=Ee.fromJSON(a.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let c in i){let d=i[c],h=d.spec.state;if(d.key==l.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){a[l.name]=h.fromJSON.call(d,e,n[c],a);return}}a[l.name]=l.init(e,a)}}),a}}function jT(t,e,n){for(let i in t){let s=t[i];s instanceof Function?s=s.bind(e):i=="handleDOMEvents"&&(s=jT(s,e,{})),n[i]=s}return n}class Gt{constructor(e){this.spec=e,this.props={},e.props&&jT(e.props,this,this.props),this.key=e.key?e.key.key:_T("plugin")}getState(e){return e[this.key]}}const Lh=Object.create(null);function _T(t){return t in Lh?t+"$"+ ++Lh[t]:(Lh[t]=0,t+"$")}class Vn{constructor(e="key"){this.key=_T(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const kt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},il=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Np=null;const Si=function(t,e,n){let i=Np||(Np=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},wN=function(){Np=null},ds=function(t,e,n,i){return n&&(Kv(t,e,n,i,-1)||Kv(t,e,n,i,1))},MN=/^(img|br|input|textarea|hr)$/i;function Kv(t,e,n,i,s){for(;;){if(t==n&&e==i)return!0;if(e==(s<0?0:An(t))){let a=t.parentNode;if(!a||a.nodeType!=1||vl(t)||MN.test(t.nodeName)||t.contentEditable=="false")return!1;e=kt(t)+(s<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?An(t):0}else return!1}}function An(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function kN(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=An(t)}else if(t.parentNode&&!vl(t))e=kt(t),t=t.parentNode;else return null}}function AN(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!vl(t))e=kt(t)+1,t=t.parentNode;else return null}}function ON(t,e,n){for(let i=e==0,s=e==An(t);i||s;){if(t==n)return!0;let a=kt(t);if(t=t.parentNode,!t)return!1;i=i&&a==0,s=s&&a==An(t)}}function vl(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const $c=function(t){return t.focusNode&&ds(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Wr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function DN(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function NN(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(An(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(An(i.startContainer),i.startOffset)}}}const Wn=typeof navigator<"u"?navigator:null,Yv=typeof document<"u"?document:null,Sr=Wn&&Wn.userAgent||"",Rp=/Edge\/(\d+)/.exec(Sr),zT=/MSIE \d/.exec(Sr),jp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Sr),Qt=!!(zT||jp||Rp),cr=zT?document.documentMode:jp?+jp[1]:Rp?+Rp[1]:0,Bn=!Qt&&/gecko\/(\d+)/i.test(Sr);Bn&&+(/Firefox\/(\d+)/.exec(Sr)||[0,0])[1];const _p=!Qt&&/Chrome\/(\d+)/.exec(Sr),zt=!!_p,LT=_p?+_p[1]:0,It=!Qt&&!!Wn&&/Apple Computer/.test(Wn.vendor),bo=It&&(/Mobile\/\w+/.test(Sr)||!!Wn&&Wn.maxTouchPoints>2),kn=bo||(Wn?/Mac/.test(Wn.platform):!1),RN=Wn?/Win/.test(Wn.platform):!1,Ti=/Android \d/.test(Sr),xl=!!Yv&&"webkitFontSmoothing"in Yv.documentElement.style,jN=xl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function _N(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function bi(t,e){return typeof t=="number"?t:t[e]}function zN(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function Xv(t,e,n){let i=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let l=n||t.dom;l;l=il(l)){if(l.nodeType!=1)continue;let c=l,d=c==a.body,h=d?_N(a):zN(c),m=0,g=0;if(e.top<h.top+bi(i,"top")?g=-(h.top-e.top+bi(s,"top")):e.bottom>h.bottom-bi(i,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+bi(s,"top")-h.top:e.bottom-h.bottom+bi(s,"bottom")),e.left<h.left+bi(i,"left")?m=-(h.left-e.left+bi(s,"left")):e.right>h.right-bi(i,"right")&&(m=e.right-h.right+bi(s,"right")),m||g)if(d)a.defaultView.scrollBy(m,g);else{let b=c.scrollLeft,v=c.scrollTop;g&&(c.scrollTop+=g),m&&(c.scrollLeft+=m);let x=c.scrollLeft-b,E=c.scrollTop-v;e={left:e.left-x,top:e.top-E,right:e.right-x,bottom:e.bottom-E}}if(d||/^(fixed|sticky)$/.test(getComputedStyle(l).position))break}}function LN(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,s;for(let a=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=t.root.elementFromPoint(a,l);if(!c||c==t.dom||!t.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=n-20){i=c,s=d.top;break}}return{refDOM:i,refTop:s,stack:BT(t.dom)}}function BT(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=il(i));return e}function BN({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;VT(n,i==0?0:i-e)}function VT(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:s,left:a}=t[n];i.scrollTop!=s+e&&(i.scrollTop=s+e),i.scrollLeft!=a&&(i.scrollLeft=a)}}let Js=null;function VN(t){if(t.setActive)return t.setActive();if(Js)return t.focus(Js);let e=BT(t);t.focus(Js==null?{get preventScroll(){return Js={preventScroll:!0},!0}}:void 0),Js||(Js=!1,VT(e,0))}function PT(t,e){let n,i=2e8,s,a=0,l=e.top,c=e.top,d,h;for(let m=t.firstChild,g=0;m;m=m.nextSibling,g++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=Si(m).getClientRects();else continue;for(let v=0;v<b.length;v++){let x=b[v];if(x.top<=l&&x.bottom>=c){l=Math.max(x.bottom,l),c=Math.min(x.top,c);let E=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(E<i){n=m,i=E,s=E&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,m.nodeType==1&&E&&(a=g+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!d&&x.left<=e.left&&x.right>=e.left&&(d=m,h={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(a=g+1)}}return!n&&d&&(n=d,s=h,i=0),n&&n.nodeType==3?PN(n,s):!n||i&&n.nodeType==1?{node:t,offset:a}:PT(n,s)}function PN(t,e){let n=t.nodeValue.length,i=document.createRange();for(let s=0;s<n;s++){i.setEnd(t,s+1),i.setStart(t,s);let a=tr(i,1);if(a.top!=a.bottom&&Um(e,a))return{node:t,offset:s+(e.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}function Um(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function HN(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function UN(t,e,n){let{node:i,offset:s}=PT(e,n),a=-1;if(i.nodeType==1&&!i.firstChild){let l=i.getBoundingClientRect();a=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(i,s,a)}function IN(t,e,n,i){let s=-1;for(let a=e,l=!1;a!=t.dom;){let c=t.docView.nearestDesc(a,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&(!l&&d.left>i.left||d.top>i.top?s=c.posBefore:(!l&&d.right<i.left||d.bottom<i.top)&&(s=c.posAfter),l=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?i.top<(d.top+d.bottom)/2:i.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;a=c.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function HT(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),a=s;;){let l=t.childNodes[a];if(l.nodeType==1){let c=l.getClientRects();for(let d=0;d<c.length;d++){let h=c[d];if(Um(e,h))return HT(l,e,h)}}if((a=(a+1)%i)==s)break}return t}function FN(t,e){let n=t.dom.ownerDocument,i,s=0,a=NN(n,e.left,e.top);a&&({node:i,offset:s}=a);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let h=t.dom.getBoundingClientRect();if(!Um(e,h)||(l=HT(t.dom,e,h),!l))return null}if(It)for(let h=l;i&&h;h=il(h))h.draggable&&(i=void 0);if(l=HN(l,e),i){if(Bn&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let m=i.childNodes[s],g;m.nodeName=="IMG"&&(g=m.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&s++}let h;xl&&s&&i.nodeType==1&&(h=i.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,i==t.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(c=IN(t,i,s,e))}c==null&&(c=UN(t,l,e));let d=t.docView.nearestDesc(l,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function Wv(t){return t.top<t.bottom||t.left<t.right}function tr(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(Wv(i))return i}return Array.prototype.find.call(n,Wv)||t.getBoundingClientRect()}const $N=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function UT(t,e,n){let{node:i,offset:s,atom:a}=t.docView.domFromPos(e,n<0?-1:1),l=xl||Bn;if(i.nodeType==3)if(l&&($N.test(i.nodeValue)||(n<0?!s:s==i.nodeValue.length))){let d=tr(Si(i,s,s),n);if(Bn&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let h=tr(Si(i,s-1,s-1),-1);if(h.top==d.top){let m=tr(Si(i,s,s+1),-1);if(m.top!=d.top)return Da(m,m.left<h.left)}}return d}else{let d=s,h=s,m=n<0?1:-1;return n<0&&!s?(h++,m=-1):n>=0&&s==i.nodeValue.length?(d--,m=1):n<0?d--:h++,Da(tr(Si(i,d,h),m),m<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&s&&(n<0||s==An(i))){let d=i.childNodes[s-1];if(d.nodeType==1)return Bh(d.getBoundingClientRect(),!1)}if(a==null&&s<An(i)){let d=i.childNodes[s];if(d.nodeType==1)return Bh(d.getBoundingClientRect(),!0)}return Bh(i.getBoundingClientRect(),n>=0)}if(a==null&&s&&(n<0||s==An(i))){let d=i.childNodes[s-1],h=d.nodeType==3?Si(d,An(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Da(tr(h,1),!1)}if(a==null&&s<An(i)){let d=i.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?Si(d,0,l?0:1):d.nodeType==1?d:null:null;if(h)return Da(tr(h,-1),!0)}return Da(tr(i.nodeType==3?Si(i):i,-n),n>=0)}function Da(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Bh(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function IT(t,e,n){let i=t.state,s=t.root.activeElement;i!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),s!=t.dom&&s&&s.focus()}}function qN(t,e,n){let i=e.selection,s=n=="up"?i.$from:i.$to;return IT(t,e,()=>{let{node:a}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(a,!0);if(!c)break;if(c.node.isBlock){a=c.contentDOM||c.dom;break}a=c.dom.parentNode}let l=UT(t,s.pos,1);for(let c=a.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Si(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(n=="up"?l.top-m.top>(m.bottom-l.top)*2:m.bottom-l.bottom>(l.bottom-m.top)*2))return!1}}return!0})}const GN=/[\u0590-\u08ac]/;function KN(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,a=!s,l=s==i.parent.content.size,c=t.domSelection();return c?!GN.test(i.parent.textContent)||!c.modify?n=="left"||n=="backward"?a:l:IT(t,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:g}=t.domSelectionRange(),b=c.caretBidiLevel;c.modify("move",n,"character");let v=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:x,focusOffset:E}=t.domSelectionRange(),C=x&&!v.contains(x.nodeType==1?x:x.parentNode)||d==x&&h==E;try{c.collapse(m,g),d&&(d!=m||h!=g)&&c.extend&&c.extend(d,h)}catch{}return b!=null&&(c.caretBidiLevel=b),C}):i.pos==i.start()||i.pos==i.end()}let Qv=null,Jv=null,Zv=!1;function YN(t,e,n){return Qv==e&&Jv==n?Zv:(Qv=e,Jv=n,Zv=n=="up"||n=="down"?qN(t,e,n):KN(t,e,n))}const Dn=0,ex=1,Zr=2,Qn=3;class Sl{constructor(e,n,i,s){this.parent=e,this.children=n,this.dom=i,this.contentDOM=s,this.dirty=Dn,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let s=this.children[n];if(s==e)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let a,l;if(e==this.contentDOM)a=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(l)+l.size:this.posAtStart}else{let a,l;if(e==this.contentDOM)a=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(l):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>kt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,s=e;s;s=s.parentNode){let a=this.getDesc(s),l;if(a&&(!n||a.node))if(i&&(l=a.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))i=!1;else return a}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let s=e;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let s=this.children[n],a=i+s.size;if(i==e&&a!=i){for(;!s.border&&s.children.length;)for(let l=0;l<s.children.length;l++){let c=s.children[l];if(c.size){s=c;break}}return s}if(e<a)return s.descAt(e-i-s.border);i=a}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,s=0;for(let a=0;i<this.children.length;i++){let l=this.children[i],c=a+l.size;if(c>e||l instanceof $T){s=e-a;break}a=c}if(s)return this.children[i].domFromPos(s-this.children[i].border,n);for(let a;i&&!(a=this.children[i-1]).size&&a instanceof FT&&a.side>=0;i--);if(n<=0){let a,l=!0;for(;a=i?this.children[i-1]:null,!(!a||a.dom.parentNode==this.contentDOM);i--,l=!1);return a&&n&&l&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?kt(a.dom)+1:0}}else{let a,l=!0;for(;a=i<this.children.length?this.children[i]:null,!(!a||a.dom.parentNode==this.contentDOM);i++,l=!1);return a&&l&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?kt(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let l=i,c=0;;c++){let d=this.children[c],h=l+d.size;if(s==-1&&e<=h){let m=l+d.border;if(e>=m&&n<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,m);e=l;for(let g=c;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=kt(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(h>n||c==this.children.length-1)){n=h;for(let m=c+1;m<this.children.length;m++){let g=this.children[m];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){a=kt(g.dom);break}n+=g.size}a==-1&&(a=this.contentDOM.childNodes.length);break}l=h}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,s=!1){let a=Math.min(e,n),l=Math.max(e,n);for(let v=0,x=0;v<this.children.length;v++){let E=this.children[v],C=x+E.size;if(a>x&&l<C)return E.setSelection(e-x-E.border,n-x-E.border,i,s);x=C}let c=this.domFromPos(e,e?-1:1),d=n==e?c:this.domFromPos(n,n?-1:1),h=i.root.getSelection(),m=i.domSelectionRange(),g=!1;if((Bn||It)&&e==n){let{node:v,offset:x}=c;if(v.nodeType==3){if(g=!!(x&&v.nodeValue[x-1]==`
`),g&&x==v.nodeValue.length)for(let E=v,C;E;E=E.parentNode){if(C=E.nextSibling){C.nodeName=="BR"&&(c=d={node:C.parentNode,offset:kt(C)+1});break}let M=E.pmViewDesc;if(M&&M.node&&M.node.isBlock)break}}else{let E=v.childNodes[x-1];g=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(Bn&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||g&&It)&&ds(c.node,c.offset,m.anchorNode,m.anchorOffset)&&ds(d.node,d.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||e==n)&&!g){h.collapse(c.node,c.offset);try{e!=n&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>n){let x=c;c=d,d=x}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,s=0;s<this.children.length;s++){let a=this.children[s],l=i+a.size;if(i==l?e<=l&&n>=i:e<l&&n>i){let c=i+a.border,d=l-a.border;if(e>=c&&n<=d){this.dirty=e==i||n==l?Zr:ex,e==c&&n==d&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Qn:a.markDirty(e-c,n-c);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Zr:Qn}i=l}this.dirty=Zr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?Zr:ex;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class FT extends Sl{constructor(e,n,i,s){let a,l=n.type.toDOM;if(typeof l=="function"&&(l=l(i,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,a=this}matchesWidget(e){return this.dirty==Dn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class XN extends Sl{constructor(e,n,i,s){super(e,[],n,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class hs extends Sl{constructor(e,n,i,s,a){super(e,[],i,s),this.mark=n,this.spec=a}static create(e,n,i,s){let a=s.nodeViews[n.type.name],l=a&&a(n,s,i);return(!l||!l.dom)&&(l=gs.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new hs(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Qn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Qn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Dn){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Dn}}slice(e,n,i){let s=hs.create(this.parent,this.mark,!0,i),a=this.children,l=this.size;n<l&&(a=Lp(a,n,l,i)),e>0&&(a=Lp(a,0,e,i));for(let c=0;c<a.length;c++)a[c].parent=s;return s.children=a,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class fr extends Sl{constructor(e,n,i,s,a,l,c,d,h){super(e,[],a,l),this.node=n,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=c}static create(e,n,i,s,a,l){let c=a.nodeViews[n.type.name],d,h=c&&c(n,a,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},i,s),m=h&&h.dom,g=h&&h.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:g}=gs.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let b=m;return m=KT(m,i,n),h?d=new WN(e,n,i,s,m,g||null,b,h,a,l+1):n.isText?new qc(e,n,i,s,m,b,a):new fr(e,n,i,s,m,g||null,b,a,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Y.empty)}return e}matchesNode(e,n,i){return this.dirty==Dn&&e.eq(this.node)&&bc(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,s=n,a=e.composing?this.localCompositionInfo(e,n):null,l=a&&a.pos>-1?a:null,c=a&&a.pos<0,d=new JN(this,l&&l.node,e);tR(this.node,this.innerDeco,(h,m,g)=>{h.spec.marks?d.syncToMarks(h.spec.marks,i,e):h.type.side>=0&&!g&&d.syncToMarks(m==this.node.childCount?He.none:this.node.child(m).marks,i,e),d.placeWidget(h,e,s)},(h,m,g,b)=>{d.syncToMarks(h.marks,i,e);let v;d.findNodeMatch(h,m,g,b)||c&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=d.findIndexWithChild(a.node))>-1&&d.updateNodeAt(h,m,g,v,e)||d.updateNextNode(h,m,g,e,b,s)||d.addNode(h,m,g,e,s),s+=h.nodeSize}),d.syncToMarks([],i,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Zr)&&(l&&this.protectLocalComposition(e,l),qT(this.contentDOM,this.children,e),bo&&nR(this.dom))}localCompositionInfo(e,n){let{from:i,to:s}=e.state.selection;if(!(e.state.selection instanceof ye)||i<n||s>n+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let l=a.nodeValue,c=iR(this.node.content,l,i-n,s-n);return c<0?null:{node:a,pos:c,text:l}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:s}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let l=new XN(this,a,n,s);e.input.compositionNodes.push(l),this.children=Lp(this.children,i,i+s.length,e,l)}update(e,n,i,s){return this.dirty==Qn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,s),!0)}updateInner(e,n,i,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Dn}updateOuterDeco(e){if(bc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=GT(this.dom,this.nodeDOM,zp(this.outerDeco,this.node,n),zp(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function tx(t,e,n,i,s){KT(i,e,t);let a=new fr(void 0,t,e,n,i,i,i,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class qc extends fr{constructor(e,n,i,s,a,l,c){super(e,n,i,s,a,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,s){return this.dirty==Qn||this.dirty!=Dn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Dn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Dn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let s=this.node.cut(e,n),a=document.createTextNode(s.text);return new qc(this.parent,s,this.outerDeco,this.innerDeco,a,a,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Qn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class $T extends Sl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Dn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class WN extends fr{constructor(e,n,i,s,a,l,c,d,h,m){super(e,n,i,s,a,l,c,h,m),this.spec=d}update(e,n,i,s){if(this.dirty==Qn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,n,i);return a&&this.updateInner(e,n,i,s),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,s){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function qT(t,e,n){let i=t.firstChild,s=!1;for(let a=0;a<e.length;a++){let l=e[a],c=l.dom;if(c.parentNode==t){for(;c!=i;)i=nx(i),s=!0;i=i.nextSibling}else s=!0,t.insertBefore(c,i);if(l instanceof hs){let d=i?i.previousSibling:t.lastChild;qT(l.contentDOM,l.children,n),i=d?d.nextSibling:t.firstChild}}for(;i;)i=nx(i),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Ia=function(t){t&&(this.nodeName=t)};Ia.prototype=Object.create(null);const es=[new Ia];function zp(t,e,n){if(t.length==0)return es;let i=n?es[0]:new Ia,s=[i];for(let a=0;a<t.length;a++){let l=t[a].type.attrs;if(l){l.nodeName&&s.push(i=new Ia(l.nodeName));for(let c in l){let d=l[c];d!=null&&(n&&s.length==1&&s.push(i=new Ia(e.isInline?"span":"div")),c=="class"?i.class=(i.class?i.class+" ":"")+d:c=="style"?i.style=(i.style?i.style+";":"")+d:c!="nodeName"&&(i[c]=d))}}}return s}function GT(t,e,n,i){if(n==es&&i==es)return e;let s=e;for(let a=0;a<i.length;a++){let l=i[a],c=n[a];if(a){let d;c&&c.nodeName==l.nodeName&&s!=t&&(d=s.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(s),c=es[0]),s=d}QN(s,c||es[0],l)}return s}function QN(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<i.length;a++)s.indexOf(i[a])==-1&&t.classList.remove(i[a]);for(let a=0;a<s.length;a++)i.indexOf(s[a])==-1&&t.classList.add(s[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function KT(t,e,n){return GT(t,t,es,zp(e,n,t.nodeType!=1))}function bc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function nx(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class JN{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=ZN(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i){let s=0,a=this.stack.length>>1,l=Math.min(a,e.length);for(;s<l&&(s==a-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<a;)this.destroyRest(),this.top.dirty=Dn,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[a])&&!this.isLocked(h.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=hs.create(this.top,e[a],n,i);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,a++}}findNodeMatch(e,n,i,s){let a=-1,l;if(s>=this.preMatch.index&&(l=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,i))a=this.top.children.indexOf(l,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let h=this.top.children[c];if(h.matchesNode(e,n,i)&&!this.preMatch.matched.has(h)){a=c;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,n,i,s,a){let l=this.top.children[s];return l.dirty==Qn&&l.dom==l.contentDOM&&(l.dirty=Zr),l.update(e,n,i,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}e=n}}updateNextNode(e,n,i,s,a,l){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof fr){let h=this.preMatch.matched.get(d);if(h!=null&&h!=a)return!1;let m=d.dom,g,b=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Qn&&bc(n,d.outerDeco));if(!b&&d.update(e,n,i,s))return this.destroyBetween(this.index,c),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(d,e,n,i,s,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=Zr,g.updateChildren(s,l+1),g.dirty=Dn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,s,a,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!bc(i,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=fr.create(this.top,n,i,s,a,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,n,i,s,a){let l=fr.create(this.top,e,n,i,s,a);l.contentDOM&&l.updateChildren(s,a+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new FT(this.top,e,n,i);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof hs;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof qc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((It||zt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new $T(this.top,[],i,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function ZN(t,e){let n=e,i=n.children.length,s=t.childCount,a=new Map,l=[];e:for(;s>0;){let c;for(;;)if(i){let h=n.children[i-1];if(h instanceof hs)n=h,i=h.children.length;else{c=h,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let d=c.node;if(d){if(d!=t.child(s-1))break;--s,a.set(c,s),l.push(c)}}return{index:s,matched:a,matches:l.reverse()}}function eR(t,e){return t.type.side-e.type.side}function tR(t,e,n,i){let s=e.locals(t),a=0;if(s.length==0){for(let h=0;h<t.childCount;h++){let m=t.child(h);i(m,s,e.forChild(a,m),h),a+=m.nodeSize}return}let l=0,c=[],d=null;for(let h=0;;){let m,g;for(;l<s.length&&s[l].to==a;){let C=s[l++];C.widget&&(m?(g||(g=[m])).push(C):m=C)}if(m)if(g){g.sort(eR);for(let C=0;C<g.length;C++)n(g[C],h,!!d)}else n(m,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<t.childCount)v=h,b=t.child(h++);else break;for(let C=0;C<c.length;C++)c[C].to<=a&&c.splice(C--,1);for(;l<s.length&&s[l].from<=a&&s[l].to>a;)c.push(s[l++]);let x=a+b.nodeSize;if(b.isText){let C=x;l<s.length&&s[l].from<C&&(C=s[l].from);for(let M=0;M<c.length;M++)c[M].to<C&&(C=c[M].to);C<x&&(d=b.cut(C-a),b=b.cut(0,C-a),x=C,v=-1)}else for(;l<s.length&&s[l].to<x;)l++;let E=b.isInline&&!b.isLeaf?c.filter(C=>!C.inline):c.slice();i(b,E,e.forChild(a,b),v),a=x}}function nR(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function iR(t,e,n,i){for(let s=0,a=0;s<t.childCount&&a<=i;){let l=t.child(s++),c=a;if(a+=l.nodeSize,!l.isText)continue;let d=l.text;for(;s<t.childCount;){let h=t.child(s++);if(a+=h.nodeSize,!h.isText)break;d+=h.text}if(a>=n){if(a>=i&&d.slice(i-e.length-c,i-c)==e)return i-e.length;let h=c<i?d.lastIndexOf(e,i-c-1):-1;if(h>=0&&h+e.length+c>=n)return c+h;if(n==i&&d.length>=i+e.length-c&&d.slice(i-c,i-c+e.length)==e)return i}}return-1}function Lp(t,e,n,i,s){let a=[];for(let l=0,c=0;l<t.length;l++){let d=t[l],h=c,m=c+=d.size;h>=n||m<=e?a.push(d):(h<e&&a.push(d.slice(0,e-h,i)),s&&(a.push(s),s=void 0),m>n&&a.push(d.slice(n-h,d.size,i)))}return a}function Im(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),a=s&&s.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c=i.resolve(l),d,h;if($c(n)){for(d=l;s&&!s.node;)s=s.parent;let g=s.node;if(s&&g.isAtom&&de.isSelectable(g)&&s.parent&&!(g.isInline&&ON(n.focusNode,n.focusOffset,s.dom))){let b=s.posBefore;h=new de(l==b?c:i.resolve(b))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=l,b=l;for(let v=0;v<n.rangeCount;v++){let x=n.getRangeAt(v);g=Math.min(g,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),b=Math.max(b,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(g<0)return null;[d,l]=b==t.state.selection.anchor?[b,g]:[g,b],c=i.resolve(l)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let m=i.resolve(d);if(!h){let g=e=="pointer"||t.state.selection.head<c.pos&&!a?1:-1;h=Fm(t,m,c,g)}return h}function YT(t){return t.editable?t.hasFocus():WT(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ki(t,e=!1){let n=t.state.selection;if(XT(t,n),!!YT(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&zt){let i=t.domSelectionRange(),s=t.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&ds(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)sR(t);else{let{anchor:i,head:s}=n,a,l;ix&&!(n instanceof ye)&&(n.$from.parent.inlineContent||(a=rx(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=rx(t,n.to))),t.docView.setSelection(i,s,t,e),ix&&(a&&sx(a),l&&sx(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&rR(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ix=It||zt&&LT<63;function rx(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),s=i<n.childNodes.length?n.childNodes[i]:null,a=i?n.childNodes[i-1]:null;if(It&&s&&s.contentEditable=="false")return Vh(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return Vh(s);if(a)return Vh(a)}}function Vh(t){return t.contentEditable="true",It&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function sx(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function rR(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!YT(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function sR(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let i=t.cursorWrapper.dom,s=i.nodeName=="IMG";s?n.setStart(i.parentNode,kt(i)+1):n.setStart(i,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&Qt&&cr<=11&&(i.disabled=!0,i.disabled=!1)}function XT(t,e){if(e instanceof de){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(ox(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else ox(t)}function ox(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Fm(t,e,n,i){return t.someProp("createSelectionBetween",s=>s(t,e,n))||ye.between(e,n,i)}function ax(t){return t.editable&&!t.hasFocus()?!1:WT(t)}function WT(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function oR(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ds(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Bp(t,e){let{$anchor:n,$head:i}=t.selection,s=e>0?n.max(i):n.min(i),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&Ee.findFrom(a,e)}function nr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function lx(t,e,n){let i=t.state.selection;if(i instanceof ye)if(n.indexOf("s")>-1){let{$head:s}=i,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let l=t.state.doc.resolve(s.pos+a.nodeSize*(e<0?-1:1));return nr(t,new ye(i.$anchor,l))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Bp(t.state,e);return s&&s instanceof de?nr(t,s):!1}else if(!(kn&&n.indexOf("m")>-1)){let s=i.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,l;if(!a||a.isText)return!1;let c=e<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(l=t.docView.descAt(c))&&!l.contentDOM?de.isSelectable(a)?nr(t,new de(e<0?t.state.doc.resolve(s.pos-a.nodeSize):s)):xl?nr(t,new ye(t.state.doc.resolve(e<0?c:c+a.nodeSize))):!1:!1}}else return!1;else{if(i instanceof de&&i.node.isInline)return nr(t,new ye(e>0?i.$to:i.$from));{let s=Bp(t.state,e);return s?nr(t,s):!1}}}function vc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Fa(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Zs(t,e){return e<0?aR(t):lR(t)}function aR(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s,a,l=!1;for(Bn&&n.nodeType==1&&i<vc(n)&&Fa(n.childNodes[i],-1)&&(l=!0);;)if(i>0){if(n.nodeType!=1)break;{let c=n.childNodes[i-1];if(Fa(c,-1))s=n,a=--i;else if(c.nodeType==3)n=c,i=n.nodeValue.length;else break}}else{if(QT(n))break;{let c=n.previousSibling;for(;c&&Fa(c,-1);)s=n.parentNode,a=kt(c),c=c.previousSibling;if(c)n=c,i=vc(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}l?Vp(t,n,i):s&&Vp(t,s,a)}function lR(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s=vc(n),a,l;for(;;)if(i<s){if(n.nodeType!=1)break;let c=n.childNodes[i];if(Fa(c,1))a=n,l=++i;else break}else{if(QT(n))break;{let c=n.nextSibling;for(;c&&Fa(c,1);)a=c.parentNode,l=kt(c)+1,c=c.nextSibling;if(c)n=c,i=0,s=vc(n);else{if(n=n.parentNode,n==t.dom)break;i=s=0}}}a&&Vp(t,a,l)}function QT(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function uR(t,e){for(;t&&e==t.childNodes.length&&!vl(t);)e=kt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function cR(t,e){for(;t&&!e&&!vl(t);)e=kt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Vp(t,e,n){if(e.nodeType!=3){let a,l;(l=uR(e,n))?(e=l,n=0):(a=cR(e,n))&&(e=a,n=a.nodeValue.length)}let i=t.domSelection();if(!i)return;if($c(i)){let a=document.createRange();a.setEnd(e,n),a.setStart(e,n),i.removeAllRanges(),i.addRange(a)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&ki(t)},50)}function ux(t,e){let n=t.state.doc.resolve(e);if(!(zt||RN)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let a=t.coordsAtPos(e-1),l=(a.top+a.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(e<n.end()){let a=t.coordsAtPos(e+1),l=(a.top+a.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function cx(t,e,n){let i=t.state.selection;if(i instanceof ye&&!i.empty||n.indexOf("s")>-1||kn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:a}=i;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Bp(t.state,e);if(l&&l instanceof de)return nr(t,l)}if(!s.parent.inlineContent){let l=e<0?s:a,c=i instanceof cn?Ee.near(l,e):Ee.findFrom(l,e);return c?nr(t,c):!1}return!1}function fx(t,e){if(!(t.state.selection instanceof ye))return!0;let{$head:n,$anchor:i,empty:s}=t.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let l=t.state.tr;return e<0?l.delete(n.pos-a.nodeSize,n.pos):l.delete(n.pos,n.pos+a.nodeSize),t.dispatch(l),!0}return!1}function dx(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function fR(t){if(!It||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;dx(t,i,"true"),setTimeout(()=>dx(t,i,"false"),20)}return!1}function dR(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function hR(t,e){let n=e.keyCode,i=dR(e);if(n==8||kn&&n==72&&i=="c")return fx(t,-1)||Zs(t,-1);if(n==46&&!e.shiftKey||kn&&n==68&&i=="c")return fx(t,1)||Zs(t,1);if(n==13||n==27)return!0;if(n==37||kn&&n==66&&i=="c"){let s=n==37?ux(t,t.state.selection.from)=="ltr"?-1:1:-1;return lx(t,s,i)||Zs(t,s)}else if(n==39||kn&&n==70&&i=="c"){let s=n==39?ux(t,t.state.selection.from)=="ltr"?1:-1:1;return lx(t,s,i)||Zs(t,s)}else{if(n==38||kn&&n==80&&i=="c")return cx(t,-1,i)||Zs(t,-1);if(n==40||kn&&n==78&&i=="c")return fR(t)||cx(t,1,i)||Zs(t,1);if(i==(kn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function $m(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:i,openStart:s,openEnd:a}=e;for(;s>1&&a>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,a--;let v=i.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),i=v.content}let l=t.someProp("clipboardSerializer")||gs.fromSchema(t.state.schema),c=iE(),d=c.createElement("div");d.appendChild(l.serializeFragment(i,{document:c}));let h=d.firstChild,m,g=0;for(;h&&h.nodeType==1&&(m=nE[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let x=c.createElement(m[v]);for(;d.firstChild;)x.appendChild(d.firstChild);d.appendChild(x),g++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${a}${g?` -${g}`:""} ${JSON.stringify(n)}`);let b=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function JT(t,e,n,i,s){let a=s.parent.type.spec.code,l,c;if(!n&&!e)return null;let d=e&&(i||a||!n);if(d){if(t.someProp("transformPastedText",b=>{e=b(e,a||i,t)}),a)return e?new te(Y.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):te.empty;let g=t.someProp("clipboardTextParser",b=>b(e,s,i,t));if(g)c=g;else{let b=s.marks(),{schema:v}=t.state,x=gs.fromSchema(v);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let C=l.appendChild(document.createElement("p"));E&&C.appendChild(x.serializeNode(v.text(E,b)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),l=yR(n),xl&&bR(l);let h=l&&l.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let g=+m[3];g>0;g--){let b=l.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;l=b}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||ur.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||m),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!pR.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)c=vR(hx(c,+m[1],+m[2]),m[4]);else if(c=te.maxOpen(mR(c.content,s),!0),c.openStart||c.openEnd){let g=0,b=0;for(let v=c.content.firstChild;g<c.openStart&&!v.type.spec.isolating;g++,v=v.firstChild);for(let v=c.content.lastChild;b<c.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);c=hx(c,g,b)}return t.someProp("transformPasted",g=>{c=g(c,t)}),c}const pR=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function mR(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),a,l=[];if(t.forEach(c=>{if(!l)return;let d=s.findWrapping(c.type),h;if(!d)return l=null;if(h=l.length&&a.length&&eE(d,a,c,l[l.length-1],0))l[l.length-1]=h;else{l.length&&(l[l.length-1]=tE(l[l.length-1],a.length));let m=ZT(c,d);l.push(m),s=s.matchType(m.type),a=d}}),l)return Y.from(l)}return t}function ZT(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,Y.from(t));return t}function eE(t,e,n,i,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let a=eE(t,e,n,i.lastChild,s+1);if(a)return i.copy(i.content.replaceChild(i.childCount-1,a));if(i.contentMatchAt(i.childCount).matchType(s==t.length-1?n.type:t[s+1]))return i.copy(i.content.append(Y.from(ZT(n,t,s+1))))}}function tE(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,tE(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(Y.empty,!0);return t.copy(n.append(i))}function Pp(t,e,n,i,s,a){let l=e<0?t.firstChild:t.lastChild,c=l.content;return t.childCount>1&&(a=0),s<i-1&&(c=Pp(c,e,n,i,s+1,a)),s>=n&&(c=e<0?l.contentMatchAt(0).fillBefore(c,a<=s).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(Y.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(c))}function hx(t,e,n){return e<t.openStart&&(t=new te(Pp(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new te(Pp(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const nE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let px=null;function iE(){return px||(px=document.implementation.createHTMLDocument("title"))}let Ph=null;function gR(t){let e=window.trustedTypes;return e?(Ph||(Ph=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Ph.createHTML(t)):t}function yR(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=iE().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),s;if((s=i&&nE[i[1].toLowerCase()])&&(t=s.map(a=>"<"+a+">").join("")+t+s.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=gR(t),s)for(let a=0;a<s.length;a++)n=n.querySelector(s[a])||n;return n}function bR(t){let e=t.querySelectorAll(zt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==" "&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function vR(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:s,openStart:a,openEnd:l}=t;for(let c=i.length-2;c>=0;c-=2){let d=n.nodes[i[c]];if(!d||d.hasRequiredAttrs())break;s=Y.from(d.create(i[c+1],s)),a++,l++}return new te(s,a,l)}const Ft={},$t={},xR={touchstart:!0,touchmove:!0};class SR{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function TR(t){for(let e in Ft){let n=Ft[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{CR(t,i)&&!qm(t,i)&&(t.editable||!(i.type in $t))&&n(t,i)},xR[e]?{passive:!0}:void 0)}It&&t.dom.addEventListener("input",()=>null),Hp(t)}function ar(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function ER(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Hp(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>qm(t,i))})}function qm(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function CR(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function wR(t,e){!qm(t,e)&&Ft[e.type]&&(t.editable||!(e.type in $t))&&Ft[e.type](t,e)}$t.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!sE(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ti&&zt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),bo&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",s=>s(t,Wr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||hR(t,n)?n.preventDefault():ar(t,"key")};$t.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};$t.keypress=(t,e)=>{let n=e;if(sE(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||kn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof ye)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,i.$from.pos,i.$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function Gc(t){return{left:t.clientX,top:t.clientY}}function MR(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function Gm(t,e,n,i,s){if(i==-1)return!1;let a=t.state.doc.resolve(i);for(let l=a.depth+1;l>0;l--)if(t.someProp(e,c=>l>a.depth?c(t,n,a.nodeAfter,a.before(l),s,!0):c(t,n,a.node(l),a.before(l),s,!1)))return!0;return!1}function fo(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function kR(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&de.isSelectable(i)?(fo(t,new de(n)),!0):!1}function AR(t,e){if(e==-1)return!1;let n=t.state.selection,i,s;n instanceof de&&(i=n.node);let a=t.state.doc.resolve(e);for(let l=a.depth+1;l>0;l--){let c=l>a.depth?a.nodeAfter:a.node(l);if(de.isSelectable(c)){i&&n.$from.depth>0&&l>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?s=a.before(n.$from.depth):s=a.before(l);break}}return s!=null?(fo(t,de.create(t.state.doc,s)),!0):!1}function OR(t,e,n,i,s){return Gm(t,"handleClickOn",e,n,i)||t.someProp("handleClick",a=>a(t,e,i))||(s?AR(t,n):kR(t,n))}function DR(t,e,n,i){return Gm(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",s=>s(t,e,i))}function NR(t,e,n,i){return Gm(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",s=>s(t,e,i))||RR(t,n,i)}function RR(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(fo(t,ye.create(i,0,i.content.size)),!0):!1;let s=i.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a),c=s.before(a);if(l.inlineContent)fo(t,ye.create(i,c+1,c+1+l.content.size));else if(de.isSelectable(l))fo(t,de.create(i,c));else continue;return!0}}function Km(t){return xc(t)}const rE=kn?"metaKey":"ctrlKey";Ft.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=Km(t),s=Date.now(),a="singleClick";s-t.input.lastClick.time<500&&MR(n,t.input.lastClick)&&!n[rE]&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:a};let l=t.posAtCoords(Gc(n));l&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new jR(t,l,n,!!i)):(a=="doubleClick"?DR:NR)(t,l.pos,l.inside,n)?n.preventDefault():ar(t,"pointer"))};class jR{constructor(e,n,i,s){this.view=e,this.pos=n,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[rE],this.allowDefault=i.shiftKey;let a,l;if(n.inside>-1)a=e.state.doc.nodeAt(n.inside),l=n.inside;else{let m=e.state.doc.resolve(n.pos);a=m.parent,l=m.depth?m.before():0}const c=s?null:i.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(i.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||h instanceof de&&h.from<=l&&h.to>l)&&(this.mightDrag={node:a,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Bn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ar(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ki(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Gc(e))),this.updateAllowDefault(e),this.allowDefault||!n?ar(this.view,"pointer"):OR(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||It&&this.mightDrag&&!this.mightDrag.node.isAtom||zt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(fo(this.view,Ee.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ar(this.view,"pointer")}move(e){this.updateAllowDefault(e),ar(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ft.touchstart=t=>{t.input.lastTouch=Date.now(),Km(t),ar(t,"pointer")};Ft.touchmove=t=>{t.input.lastTouch=Date.now(),ar(t,"pointer")};Ft.contextmenu=t=>Km(t);function sE(t,e){return t.composing?!0:It&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const _R=Ti?5e3:-1;$t.compositionstart=$t.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ye&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),xc(t,!0),t.markCursor=null;else if(xc(t,!e.selection.empty),Bn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let s=i.focusNode,a=i.focusOffset;s&&s.nodeType==1&&a!=0;){let l=a<0?s.lastChild:s.childNodes[a-1];if(!l)break;if(l.nodeType==3){let c=t.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else s=l,a=-1}}t.input.composing=!0}oE(t,_R)};$t.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,oE(t,20))};function oE(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>xc(t),e))}function aE(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=LR());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function zR(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=kN(e.focusNode,e.focusOffset),i=AN(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let s=i.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(n==a||i==a)return a;if(!s||!s.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return i}}return n||i}function LR(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function xc(t,e=!1){if(!(Ti&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),aE(t),e||t.docView&&t.docView.dirty){let n=Im(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function BR(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const rl=Qt&&cr<15||bo&&jN<604;Ft.copy=$t.cut=(t,e)=>{let n=e,i=t.state.selection,s=n.type=="cut";if(i.empty)return;let a=rl?null:n.clipboardData,l=i.content(),{dom:c,text:d}=$m(t,l);a?(n.preventDefault(),a.clearData(),a.setData("text/html",c.innerHTML),a.setData("text/plain",d)):BR(t,c),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function VR(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function PR(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?sl(t,i.value,null,s,e):sl(t,i.textContent,i.innerHTML,s,e)},50)}function sl(t,e,n,i,s){let a=JT(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,s,a||te.empty)))return!0;if(!a)return!1;let l=VR(a),c=l?t.state.tr.replaceSelectionWith(l,i):t.state.tr.replaceSelection(a);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function lE(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}$t.paste=(t,e)=>{let n=e;if(t.composing&&!Ti)return;let i=rl?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&sl(t,lE(i),i.getData("text/html"),s,n)?n.preventDefault():PR(t,n)};class uE{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const cE=kn?"altKey":"ctrlKey";Ft.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let s=t.state.selection,a=s.empty?null:t.posAtCoords(Gc(n)),l;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof de?s.to-1:s.to))){if(i&&i.mightDrag)l=de.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(l=de.create(t.state.doc,g.posBefore))}}let c=(l||t.state.selection).content(),{dom:d,text:h,slice:m}=$m(t,c);(!n.dataTransfer.files.length||!zt||LT>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(rl?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",rl||n.dataTransfer.setData("text/plain",h),t.dragging=new uE(m,!n[cE],l)};Ft.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};$t.dragover=$t.dragenter=(t,e)=>e.preventDefault();$t.drop=(t,e)=>{let n=e,i=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(Gc(n));if(!s)return;let a=t.state.doc.resolve(s.pos),l=i&&i.slice;l?t.someProp("transformPasted",x=>{l=x(l,t)}):l=JT(t,lE(n.dataTransfer),rl?null:n.dataTransfer.getData("text/html"),!1,a);let c=!!(i&&!n[cE]);if(t.someProp("handleDrop",x=>x(t,n,l||te.empty,c))){n.preventDefault();return}if(!l)return;n.preventDefault();let d=l?AT(t.state.doc,a.pos,l):a.pos;d==null&&(d=a.pos);let h=t.state.tr;if(c){let{node:x}=i;x?x.replace(h):h.deleteSelection()}let m=h.mapping.map(d),g=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,b=h.doc;if(g?h.replaceRangeWith(m,m,l.content.firstChild):h.replaceRange(m,m,l),h.doc.eq(b))return;let v=h.doc.resolve(m);if(g&&de.isSelectable(l.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(l.content.firstChild))h.setSelection(new de(v));else{let x=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((E,C,M,k)=>x=k),h.setSelection(Fm(t,v,h.doc.resolve(x)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))};Ft.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ki(t)},20))};Ft.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ft.beforeinput=(t,e)=>{if(zt&&Ti&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,Wr(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in $t)Ft[t]=$t[t];function ol(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Sc{constructor(e,n){this.toDOM=e,this.spec=n||as,this.side=this.spec.side||0}map(e,n,i,s){let{pos:a,deleted:l}=e.mapResult(n.from+s,this.side<0?-1:1);return l?null:new ln(a-i,a-i,this)}valid(){return!0}eq(e){return this==e||e instanceof Sc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ol(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class dr{constructor(e,n){this.attrs=e,this.spec=n||as}map(e,n,i,s){let a=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-i,l=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-i;return a>=l?null:new ln(a,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof dr&&ol(this.attrs,e.attrs)&&ol(this.spec,e.spec)}static is(e){return e.type instanceof dr}destroy(){}}class Ym{constructor(e,n){this.attrs=e,this.spec=n||as}map(e,n,i,s){let a=e.mapResult(n.from+s,1);if(a.deleted)return null;let l=e.mapResult(n.to+s,-1);return l.deleted||l.pos<=a.pos?null:new ln(a.pos-i,l.pos-i,this)}valid(e,n){let{index:i,offset:s}=e.content.findIndex(n.from),a;return s==n.from&&!(a=e.child(i)).isText&&s+a.nodeSize==n.to}eq(e){return this==e||e instanceof Ym&&ol(this.attrs,e.attrs)&&ol(this.spec,e.spec)}destroy(){}}class ln{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new ln(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new ln(e,e,new Sc(n,i))}static inline(e,n,i,s){return new ln(e,n,new dr(i,s))}static node(e,n,i,s){return new ln(e,n,new Ym(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof dr}get widget(){return this.type instanceof Sc}}const to=[],as={};class at{constructor(e,n){this.local=e.length?e:to,this.children=n.length?n:to}static create(e,n){return n.length?Tc(n,e,0,as):jt}find(e,n,i){let s=[];return this.findInner(e??0,n??1e9,s,0,i),s}findInner(e,n,i,s,a){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=n&&c.to>=e&&(!a||a(c.spec))&&i.push(c.copy(c.from+s,c.to+s))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,n-c,i,s+c,a)}}map(e,n,i){return this==jt||e.maps.length==0?this:this.mapInner(e,n,0,0,i||as)}mapInner(e,n,i,s,a){let l;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,i,s);d&&d.type.valid(n,d)?(l||(l=[])).push(d):a.onRemove&&a.onRemove(this.local[c].spec)}return this.children.length?HR(this.children,l||[],e,n,i,s,a):l?new at(l.sort(ls),to):jt}add(e,n){return n.length?this==jt?at.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let s,a=0;e.forEach((c,d)=>{let h=d+i,m;if(m=dE(n,c,h)){for(s||(s=this.children.slice());a<s.length&&s[a]<d;)a+=3;s[a]==d?s[a+2]=s[a+2].addInner(c,m,h+1):s.splice(a,0,d,d+c.nodeSize,Tc(m,c,h+1,as)),a+=3}});let l=fE(a?hE(n):n,-i);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new at(l.length?this.local.concat(l).sort(ls):this.local,s||this.children)}remove(e){return e.length==0||this==jt?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,s=this.local;for(let a=0;a<i.length;a+=3){let l,c=i[a]+n,d=i[a+1]+n;for(let m=0,g;m<e.length;m++)(g=e[m])&&g.from>c&&g.to<d&&(e[m]=null,(l||(l=[])).push(g));if(!l)continue;i==this.children&&(i=this.children.slice());let h=i[a+2].removeInner(l,c+1);h!=jt?i[a+2]=h:(i.splice(a,3),a-=3)}if(s.length){for(let a=0,l;a<e.length;a++)if(l=e[a])for(let c=0;c<s.length;c++)s[c].eq(l,n)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new at(s,i):jt}forChild(e,n){if(this==jt)return this;if(n.isLeaf)return at.empty;let i,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(i=this.children[c+2]);break}let a=e+1,l=a+n.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<l&&d.to>a&&d.type instanceof dr){let h=Math.max(a,d.from)-a,m=Math.min(l,d.to)-a;h<m&&(s||(s=[])).push(d.copy(h,m))}}if(s){let c=new at(s.sort(ls),to);return i?new rr([c,i]):c}return i||jt}eq(e){if(this==e)return!0;if(!(e instanceof at)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Xm(this.localsInner(e))}localsInner(e){if(this==jt)return to;if(e.inlineContent||!this.local.some(dr.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof dr||n.push(this.local[i]);return n}forEachSet(e){e(this)}}at.empty=new at([],[]);at.removeOverlap=Xm;const jt=at.empty;class rr{constructor(e){this.members=e}map(e,n){const i=this.members.map(s=>s.map(e,n,as));return rr.from(i)}forChild(e,n){if(n.isLeaf)return at.empty;let i=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(e,n);a!=jt&&(a instanceof rr?i=i.concat(a.members):i.push(a))}return rr.from(i)}eq(e){if(!(e instanceof rr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(e);if(a.length)if(!n)n=a;else{i&&(n=n.slice(),i=!1);for(let l=0;l<a.length;l++)n.push(a[l])}}return n?Xm(i?n:n.sort(ls)):to}static from(e){switch(e.length){case 0:return jt;case 1:return e[0];default:return new rr(e.every(n=>n instanceof at)?e:e.reduce((n,i)=>n.concat(i instanceof at?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function HR(t,e,n,i,s,a,l){let c=t.slice();for(let h=0,m=a;h<n.maps.length;h++){let g=0;n.maps[h].forEach((b,v,x,E)=>{let C=E-x-(v-b);for(let M=0;M<c.length;M+=3){let k=c[M+1];if(k<0||b>k+m-g)continue;let D=c[M]+m-g;v>=D?c[M+1]=b<=D?-2:-1:b>=m&&C&&(c[M]+=C,c[M+1]+=C)}g+=C}),m=n.maps[h].map(m,-1)}let d=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){d=!0,c[h+1]=-1;continue}let m=n.map(t[h]+a),g=m-s;if(g<0||g>=i.content.size){d=!0;continue}let b=n.map(t[h+1]+a,-1),v=b-s,{index:x,offset:E}=i.content.findIndex(g),C=i.maybeChild(x);if(C&&E==g&&E+C.nodeSize==v){let M=c[h+2].mapInner(n,C,m+1,t[h]+a+1,l);M!=jt?(c[h]=g,c[h+1]=v,c[h+2]=M):(c[h+1]=-2,d=!0)}else d=!0}if(d){let h=UR(c,t,e,n,s,a,l),m=Tc(h,i,0,l);e=m.local;for(let g=0;g<c.length;g+=3)c[g+1]<0&&(c.splice(g,3),g-=3);for(let g=0,b=0;g<m.children.length;g+=3){let v=m.children[g];for(;b<c.length&&c[b]<v;)b+=3;c.splice(b,0,m.children[g],m.children[g+1],m.children[g+2])}}return new at(e.sort(ls),c)}function fE(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let s=t[i];n.push(new ln(s.from+e,s.to+e,s.type))}return n}function UR(t,e,n,i,s,a,l){function c(d,h){for(let m=0;m<d.local.length;m++){let g=d.local[m].map(i,s,h);g?n.push(g):l.onRemove&&l.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)c(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&c(t[d+2],e[d]+a+1);return n}function dE(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,s=null;for(let a=0,l;a<t.length;a++)(l=t[a])&&l.from>n&&l.to<i&&((s||(s=[])).push(l),t[a]=null);return s}function hE(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Tc(t,e,n,i){let s=[],a=!1;e.forEach((c,d)=>{let h=dE(t,c,d+n);if(h){a=!0;let m=Tc(h,c,n+d+1,i);m!=jt&&s.push(d,d+c.nodeSize,m)}});let l=fE(a?hE(t):t,-n).sort(ls);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(i.onRemove&&i.onRemove(l[c].spec),l.splice(c--,1));return l.length||s.length?new at(l,s):jt}function ls(t,e){return t.from-e.from||t.to-e.to}function Xm(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let s=n+1;s<e.length;s++){let a=e[s];if(a.from==i.from){a.to!=i.to&&(e==t&&(e=t.slice()),e[s]=a.copy(a.from,i.to),mx(e,s+1,a.copy(i.to,a.to)));continue}else{a.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,a.from),mx(e,s,i.copy(a.from,i.to)));break}}}return e}function mx(t,e,n){for(;e<t.length&&ls(n,t[e])>0;)e++;t.splice(e,0,n)}function Hh(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=jt&&e.push(i)}),t.cursorWrapper&&e.push(at.create(t.state.doc,[t.cursorWrapper.deco])),rr.from(e)}const IR={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},FR=Qt&&cr<=11;class $R{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class qR{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new $R,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);Qt&&cr<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),FR&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,IR)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ax(this.view)){if(this.suppressingSelectionUpdates)return ki(this.view);if(Qt&&cr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ds(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let a=e.focusNode;a;a=il(a))n.add(a);for(let a=e.anchorNode;a;a=il(a))if(n.has(a)){i=a;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&ax(e)&&!this.ignoreSelectionChange(i),a=-1,l=-1,c=!1,d=[];if(e.editable)for(let m=0;m<n.length;m++){let g=this.registerMutation(n[m],d);g&&(a=a<0?g.from:Math.min(g.from,a),l=l<0?g.to:Math.max(g.to,l),g.typeOver&&(c=!0))}if(Bn&&d.length){let m=d.filter(g=>g.nodeName=="BR");if(m.length==2){let[g,b]=m;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of m){let v=b.parentNode;v&&v.nodeName=="LI"&&(!g||YR(e,g)!=v)&&b.remove()}}}let h=null;a<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&$c(i)&&(h=Im(e))&&h.eq(Ee.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ki(e),this.currentSelection.set(i)):(a>-1||s)&&(a>-1&&(e.docView.markDirty(a,l),GR(e)),this.handleDOMChange(a,l,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||ki(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let g=e.addedNodes[m];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let s=e.previousSibling,a=e.nextSibling;if(Qt&&cr<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:g,nextSibling:b}=e.addedNodes[m];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(a=b)}let l=s&&s.parentNode==e.target?kt(s)+1:0,c=i.localPosFromDOM(e.target,l,-1),d=a&&a.parentNode==e.target?kt(a):e.target.childNodes.length,h=i.localPosFromDOM(e.target,d,1);return{from:c,to:h}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let gx=new WeakMap,yx=!1;function GR(t){if(!gx.has(t)&&(gx.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Bn,yx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yx=!0}}function bx(t,e){let n=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return ds(l.node,l.offset,s,a)&&([n,i,s,a]=[s,a,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}}function KR(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return bx(t,s)}let n;function i(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?bx(t,n):null}function YR(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function XR(t,e,n){let{node:i,fromOffset:s,toOffset:a,from:l,to:c}=t.docView.parseRange(e,n),d=t.domSelectionRange(),h,m=d.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],$c(d)||h.push({node:d.focusNode,offset:d.focusOffset})),zt&&t.input.lastKeyCode===8)for(let C=a;C>s;C--){let M=i.childNodes[C-1],k=M.pmViewDesc;if(M.nodeName=="BR"&&!k){a=C;break}if(!k||k.size)break}let g=t.state.doc,b=t.someProp("domParser")||ur.fromSchema(t.state.schema),v=g.resolve(l),x=null,E=b.parse(i,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:a,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:WR,context:v});if(h&&h[0].pos!=null){let C=h[0].pos,M=h[1]&&h[1].pos;M==null&&(M=C),x={anchor:C+l,head:M+l}}return{doc:E,sel:x,from:l,to:c}}function WR(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(It&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||It&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const QR=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function JR(t,e,n,i,s){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,X=Im(t,P);if(X&&!t.state.selection.eq(X)){if(zt&&Ti&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Le=>Le(t,Wr(13,"Enter"))))return;let re=t.state.tr.setSelection(X);P=="pointer"?re.setMeta("pointer",!0):P=="key"&&re.scrollIntoView(),a&&re.setMeta("composition",a),t.dispatch(re)}return}let l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);let d=t.state.selection,h=XR(t,e,n),m=t.state.doc,g=m.slice(h.from,h.to),b,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(b=t.state.selection.to,v="end"):(b=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let x=t6(g.content,h.doc.content,h.from,b,v);if(x&&t.input.domChangeCount++,(bo&&t.input.lastIOSEnter>Date.now()-225||Ti)&&s.some(P=>P.nodeType==1&&!QR.test(P.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",P=>P(t,Wr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(i&&d instanceof ye&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))x={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let P=vx(t,t.state.doc,h.sel);if(P&&!P.eq(t.state.selection)){let X=t.state.tr.setSelection(P);a&&X.setMeta("composition",a),t.dispatch(X)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof ye&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),Qt&&cr<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>h.from&&h.doc.textBetween(x.start-h.from-1,x.start-h.from+1)=="  "&&(x.start--,x.endA--,x.endB--);let E=h.doc.resolveNoCache(x.start-h.from),C=h.doc.resolveNoCache(x.endB-h.from),M=m.resolve(x.start),k=E.sameParent(C)&&E.parent.inlineContent&&M.end()>=x.endA,D;if((bo&&t.input.lastIOSEnter>Date.now()-225&&(!k||s.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!k&&E.pos<h.doc.content.size&&!E.sameParent(C)&&(D=Ee.findFrom(h.doc.resolve(E.pos+1),1,!0))&&D.head==C.pos)&&t.someProp("handleKeyDown",P=>P(t,Wr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&e6(m,x.start,x.endA,E,C)&&t.someProp("handleKeyDown",P=>P(t,Wr(8,"Backspace")))){Ti&&zt&&t.domObserver.suppressSelectionUpdates();return}zt&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),Ti&&!k&&E.start()!=C.start()&&C.parentOffset==0&&E.depth==C.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==x.endA&&(x.endB-=2,C=h.doc.resolveNoCache(x.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,Wr(13,"Enter"))})},20));let B=x.start,z=x.endA,H,q,$;if(k){if(E.pos==C.pos)Qt&&cr<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ki(t),20)),H=t.state.tr.delete(B,z),q=m.resolve(x.start).marksAcross(m.resolve(x.endA));else if(x.endA==x.endB&&($=ZR(E.parent.content.cut(E.parentOffset,C.parentOffset),M.parent.content.cut(M.parentOffset,x.endA-M.start()))))H=t.state.tr,$.type=="add"?H.addMark(B,z,$.mark):H.removeMark(B,z,$.mark);else if(E.parent.child(E.index()).isText&&E.index()==C.index()-(C.textOffset?0:1)){let P=E.parent.textBetween(E.parentOffset,C.parentOffset);if(t.someProp("handleTextInput",X=>X(t,B,z,P)))return;H=t.state.tr.insertText(P,B,z)}}if(H||(H=t.state.tr.replace(B,z,h.doc.slice(x.start-h.from,x.endB-h.from))),h.sel){let P=vx(t,H.doc,h.sel);P&&!(zt&&t.composing&&P.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(P.head==B||P.head==H.mapping.map(z)-1)||Qt&&P.empty&&P.head==B)&&H.setSelection(P)}q&&H.ensureMarks(q),a&&H.setMeta("composition",a),t.dispatch(H.scrollIntoView())}function vx(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Fm(t,e.resolve(n.anchor),e.resolve(n.head))}function ZR(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,s=n,a=i,l,c,d;for(let m=0;m<i.length;m++)s=i[m].removeFromSet(s);for(let m=0;m<n.length;m++)a=n[m].removeFromSet(a);if(s.length==1&&a.length==0)c=s[0],l="add",d=m=>m.mark(c.addToSet(m.marks));else if(s.length==0&&a.length==1)c=a[0],l="remove",d=m=>m.mark(c.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(Y.from(h).eq(t))return{mark:c,type:l}}function e6(t,e,n,i,s){if(n-e<=s.pos-i.pos||Uh(i,!0,!1)<s.pos)return!1;let a=t.resolve(e);if(!i.parent.isTextblock){let c=a.nodeAfter;return c!=null&&n==e+c.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let l=t.resolve(Uh(a,!0,!0));return!l.parent.isTextblock||l.pos>n||Uh(l,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(l.parent.content)}function Uh(t,e,n){let i=t.depth,s=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,s++,e=!1;if(n){let a=t.node(i).maybeChild(t.indexAfter(i));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function t6(t,e,n,i,s){let a=t.findDiffStart(e,n);if(a==null)return null;let{a:l,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let d=Math.max(0,a-Math.min(l,c));i-=l+d-a}if(l<a&&t.size<e.size){let d=i<=a&&i>=l?a-i:0;a-=d,a&&a<e.size&&xx(e.textBetween(a-1,a+1))&&(a+=d?1:-1),c=a+(c-l),l=a}else if(c<a){let d=i<=a&&i>=c?a-i:0;a-=d,a&&a<t.size&&xx(t.textBetween(a-1,a+1))&&(a+=d?1:-1),l=a+(l-c),c=a}return{start:a,endA:l,endB:c}}function xx(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class n6{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new SR,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(wx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ex(this),Tx(this),this.nodeViews=Cx(this),this.docView=tx(this.state.doc,Sx(this),Hh(this),this.dom,this),this.domObserver=new qR(this,(i,s,a,l)=>JR(this,i,s,a,l)),this.domObserver.start(),TR(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Hp(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(wx),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let s=this.state,a=!1,l=!1;e.storedMarks&&this.composing&&(aE(this),l=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=Cx(this);r6(v,this.nodeViews)&&(this.nodeViews=v,a=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&Hp(this),this.editable=Ex(this),Tx(this);let d=Hh(this),h=Sx(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",g=a||!this.docView.matchesNode(e.doc,h,d);(g||!e.selection.eq(s.selection))&&(l=!0);let b=m=="preserve"&&l&&this.dom.style.overflowAnchor==null&&LN(this);if(l){this.domObserver.stop();let v=g&&(Qt||zt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&i6(s.selection,e.selection);if(g){let x=zt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=zR(this)),(a||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=tx(e.doc,h,d,this.dom,this)),x&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&oR(this))?ki(this,v):(XT(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&BN(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof de){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Xv(this,n.getBoundingClientRect(),e)}else Xv(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let a=i.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==i.node&&(s=a)}this.dragging=new uE(e.slice,e.move,s<0?void 0:de.create(this.state.doc,s))}someProp(e,n){let i=this._props&&this._props[e],s;if(i!=null&&(s=n?n(i):i))return s;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(s=n?n(c):c))return s}let a=this.state.plugins;if(a)for(let l=0;l<a.length;l++){let c=a[l].props[e];if(c!=null&&(s=n?n(c):c))return s}}hasFocus(){if(Qt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&VN(this.dom),ki(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return FN(this,e)}coordsAtPos(e,n=1){return UT(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let s=this.docView.posFromDOM(e,n,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return YN(this,n||this.state,e)}pasteHTML(e,n){return sl(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return sl(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return $m(this,e)}destroy(){this.docView&&(ER(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,wN())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return wR(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?It&&this.root.nodeType===11&&DN(this.dom.ownerDocument)==this.dom&&KR(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Sx(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[ln.node(0,t.state.doc.content.size,e)]}function Tx(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ln.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Ex(t){return!t.someProp("editable",e=>e(t.state)===!1)}function i6(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Cx(t){let e=Object.create(null);function n(i){for(let s in i)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=i[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function r6(t,e){let n=0,i=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)i++;return n!=i}function wx(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var gr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ec={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},s6=typeof navigator<"u"&&/Mac/.test(navigator.platform),o6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var At=0;At<10;At++)gr[48+At]=gr[96+At]=String(At);for(var At=1;At<=24;At++)gr[At+111]="F"+At;for(var At=65;At<=90;At++)gr[At]=String.fromCharCode(At+32),Ec[At]=String.fromCharCode(At);for(var Ih in gr)Ec.hasOwnProperty(Ih)||(Ec[Ih]=gr[Ih]);function a6(t){var e=s6&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||o6&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ec:gr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const l6=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function u6(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,s,a,l;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))l6?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),l&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function c6(t){let e=Object.create(null);for(let n in t)e[u6(n)]=t[n];return e}function Fh(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function f6(t){return new Gt({props:{handleKeyDown:pE(t)}})}function pE(t){let e=c6(t);return function(n,i){let s=a6(i),a,l=e[Fh(s,i)];if(l&&l(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let c=e[Fh(s,i,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((i.shiftKey||i.altKey||i.metaKey||s.charCodeAt(0)>127)&&(a=gr[i.keyCode])&&a!=s){let c=e[Fh(a,i)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}const Wm=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function mE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const gE=(t,e,n)=>{let i=mE(t,n);if(!i)return!1;let s=Qm(i);if(!s){let l=i.blockRange(),c=l&&ko(l);return c==null?!1:(e&&e(t.tr.lift(l,c).scrollIntoView()),!0)}let a=s.nodeBefore;if(wE(t,s,e,-1))return!0;if(i.parent.content.size==0&&(vo(a,"end")||de.isSelectable(a)))for(let l=i.depth;;l--){let c=Ic(t.doc,i.before(l),i.after(l),te.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(vo(a,"end")?Ee.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):de.create(d.doc,s.pos-a.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||i.node(l-1).childCount>1)break}return a.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},d6=(t,e,n)=>{let i=mE(t,n);if(!i)return!1;let s=Qm(i);return s?yE(t,s,e):!1},h6=(t,e,n)=>{let i=vE(t,n);if(!i)return!1;let s=Jm(i);return s?yE(t,s,e):!1};function yE(t,e,n){let i=e.nodeBefore,s=i,a=e.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let l=e.nodeAfter,c=l,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let h=Ic(t.doc,a,d,te.empty);if(!h||h.from!=a||h instanceof yt&&h.slice.size>=d-a)return!1;if(n){let m=t.tr.step(h);m.setSelection(ye.create(m.doc,a)),n(m.scrollIntoView())}return!0}function vo(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const bE=(t,e,n)=>{let{$head:i,empty:s}=t.selection,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;a=Qm(i)}let l=a&&a.nodeBefore;return!l||!de.isSelectable(l)?!1:(e&&e(t.tr.setSelection(de.create(t.doc,a.pos-l.nodeSize)).scrollIntoView()),!0)};function Qm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function vE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const xE=(t,e,n)=>{let i=vE(t,n);if(!i)return!1;let s=Jm(i);if(!s)return!1;let a=s.nodeAfter;if(wE(t,s,e,1))return!0;if(i.parent.content.size==0&&(vo(a,"start")||de.isSelectable(a))){let l=Ic(t.doc,i.before(),i.after(),te.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(vo(a,"start")?Ee.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):de.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return a.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},SE=(t,e,n)=>{let{$head:i,empty:s}=t.selection,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;a=Jm(i)}let l=a&&a.nodeAfter;return!l||!de.isSelectable(l)?!1:(e&&e(t.tr.setSelection(de.create(t.doc,a.pos)).scrollIntoView()),!0)};function Jm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const p6=(t,e)=>{let n=t.selection,i=n instanceof de,s;if(i){if(n.node.isTextblock||!xr(t.doc,n.from))return!1;s=n.from}else if(s=Uc(t.doc,n.from,-1),s==null)return!1;if(e){let a=t.tr.join(s);i&&a.setSelection(de.create(a.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},m6=(t,e)=>{let n=t.selection,i;if(n instanceof de){if(n.node.isTextblock||!xr(t.doc,n.to))return!1;i=n.to}else if(i=Uc(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},g6=(t,e)=>{let{$from:n,$to:i}=t.selection,s=n.blockRange(i),a=s&&ko(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)},TE=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Zm(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const y6=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let s=n.node(-1),a=n.indexAfter(-1),l=Zm(s.contentMatchAt(a));if(!l||!s.canReplaceWith(a,a,l))return!1;if(e){let c=n.after(),d=t.tr.replaceWith(c,c,l.createAndFill());d.setSelection(Ee.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},EE=(t,e)=>{let n=t.selection,{$from:i,$to:s}=n;if(n instanceof cn||i.parent.inlineContent||s.parent.inlineContent)return!1;let a=Zm(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let l=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,c=t.tr.insert(l,a.createAndFill());c.setSelection(ye.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},CE=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(Mi(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let i=n.blockRange(),s=i&&ko(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)};function b6(t){return(e,n)=>{let{$from:i,$to:s}=e.selection;if(e.selection instanceof de&&e.selection.node.isBlock)return!i.parentOffset||!Mi(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let a=[],l,c,d=!1,h=!1;for(let v=i.depth;;v--)if(i.node(v).isBlock){d=i.end(v)==i.pos+(i.depth-v),h=i.start(v)==i.pos-(i.depth-v),c=Zm(i.node(v-1).contentMatchAt(i.indexAfter(v-1))),a.unshift(d&&c?{type:c}:null),l=v;break}else{if(v==1)return!1;a.unshift(null)}let m=e.tr;(e.selection instanceof ye||e.selection instanceof cn)&&m.deleteSelection();let g=m.mapping.map(i.pos),b=Mi(m.doc,g,a.length,a);if(b||(a[0]=c?{type:c}:null,b=Mi(m.doc,g,a.length,a)),m.split(g,a.length,a),!d&&h&&i.node(l).type!=c){let v=m.mapping.map(i.before(l)),x=m.doc.resolve(v);c&&i.node(l-1).canReplaceWith(x.index(),x.index()+1,c)&&m.setNodeMarkup(m.mapping.map(i.before(l)),c)}return n&&n(m.scrollIntoView()),!0}}const v6=b6(),x6=(t,e)=>{let{$from:n,to:i}=t.selection,s,a=n.sharedDepth(i);return a==0?!1:(s=n.before(a),e&&e(t.tr.setSelection(de.create(t.doc,s))),!0)};function S6(t,e,n){let i=e.nodeBefore,s=e.nodeAfter,a=e.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(s.isTextblock||xr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function wE(t,e,n,i){let s=e.nodeBefore,a=e.nodeAfter,l,c,d=s.type.spec.isolating||a.type.spec.isolating;if(!d&&S6(t,e,n))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(l=(c=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&c.matchType(l[0]||a.type).validEnd){if(n){let v=e.pos+a.nodeSize,x=Y.empty;for(let M=l.length-1;M>=0;M--)x=Y.from(l[M].create(null,x));x=Y.from(s.copy(x));let E=t.tr.step(new bt(e.pos-1,v,e.pos,v,new te(x,1,0),l.length,!0)),C=E.doc.resolve(v+2*l.length);C.nodeAfter&&C.nodeAfter.type==s.type&&xr(E.doc,C.pos)&&E.join(C.pos),n(E.scrollIntoView())}return!0}let m=a.type.spec.isolating||i>0&&d?null:Ee.findFrom(e,1),g=m&&m.$from.blockRange(m.$to),b=g&&ko(g);if(b!=null&&b>=e.depth)return n&&n(t.tr.lift(g,b).scrollIntoView()),!0;if(h&&vo(a,"start",!0)&&vo(s,"end")){let v=s,x=[];for(;x.push(v),!v.isTextblock;)v=v.lastChild;let E=a,C=1;for(;!E.isTextblock;E=E.firstChild)C++;if(v.canReplace(v.childCount,v.childCount,E.content)){if(n){let M=Y.empty;for(let D=x.length-1;D>=0;D--)M=Y.from(x[D].copy(M));let k=t.tr.step(new bt(e.pos-x.length,e.pos+a.nodeSize,e.pos+C,e.pos+a.nodeSize-C,new te(M,x.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function ME(t){return function(e,n){let i=e.selection,s=t<0?i.$from:i.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(n&&n(e.tr.setSelection(ye.create(e.doc,t<0?s.start(a):s.end(a)))),!0):!1}}const T6=ME(-1),E6=ME(1);function C6(t,e=null){return function(n,i){let{$from:s,$to:a}=n.selection,l=s.blockRange(a),c=l&&Pm(l,t,e);return c?(i&&i(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function Mx(t,e=null){return function(n,i){let s=!1;for(let a=0;a<n.selection.ranges.length&&!s;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];n.doc.nodesBetween(l,c,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let m=n.doc.resolve(h),g=m.index();s=m.parent.canReplaceWith(g,g+1,t)}})}if(!s)return!1;if(i){let a=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[l];a.setBlockType(c,d,t,e)}i(a.scrollIntoView())}return!0}}function eg(...t){return function(e,n,i){for(let s=0;s<t.length;s++)if(t[s](e,n,i))return!0;return!1}}eg(Wm,gE,bE);eg(Wm,xE,SE);eg(TE,EE,CE,v6);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function w6(t,e=null){return function(n,i){let{$from:s,$to:a}=n.selection,l=s.blockRange(a);if(!l)return!1;let c=i?n.tr:null;return M6(c,l,t,e)?(i&&i(c.scrollIntoView()),!0):!1}}function M6(t,e,n,i=null){let s=!1,a=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);a=new gc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new gc(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=Pm(a,n,i,e);return c?(t&&k6(t,e,c,s,n),!0):!1}function k6(t,e,n,i,s){let a=Y.empty;for(let m=n.length-1;m>=0;m--)a=Y.from(n[m].type.create(n[m].attrs,a));t.step(new bt(e.start-(i?2:0),e.end,e.start,e.end,new te(a,0,0),n.length,!0));let l=0;for(let m=0;m<n.length;m++)n[m].type==s&&(l=m+1);let c=n.length-l,d=e.start+n.length-(i?2:0),h=e.parent;for(let m=e.startIndex,g=e.endIndex,b=!0;m<g;m++,b=!1)!b&&Mi(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=h.child(m).nodeSize;return t}function A6(t){return function(e,n){let{$from:i,$to:s}=e.selection,a=i.blockRange(s,l=>l.childCount>0&&l.firstChild.type==t);return a?n?i.node(a.depth-1).type==t?O6(e,n,t,a):D6(e,n,a):!0:!1}}function O6(t,e,n,i){let s=t.tr,a=i.end,l=i.$to.end(i.depth);a<l&&(s.step(new bt(a-1,l,a,l,new te(Y.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new gc(s.doc.resolve(i.$from.pos),s.doc.resolve(l),i.depth));const c=ko(i);if(c==null)return!1;s.lift(i,c);let d=s.mapping.map(a,-1)-1;return xr(s.doc,d)&&s.join(d),e(s.scrollIntoView()),!0}function D6(t,e,n){let i=t.tr,s=n.parent;for(let v=n.end,x=n.endIndex-1,E=n.startIndex;x>E;x--)v-=s.child(x).nodeSize,i.delete(v-1,v+1);let a=i.doc.resolve(n.start),l=a.nodeAfter;if(i.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,d=n.endIndex==s.childCount,h=a.node(-1),m=a.index(-1);if(!h.canReplace(m+(c?0:1),m+1,l.content.append(d?Y.empty:Y.from(s))))return!1;let g=a.pos,b=g+l.nodeSize;return i.step(new bt(g-(c?1:0),b+(d?1:0),g+1,b-1,new te((c?Y.empty:Y.from(s.copy(Y.empty))).append(d?Y.empty:Y.from(s.copy(Y.empty))),c?0:1,d?0:1),c?0:1)),e(i.scrollIntoView()),!0}function N6(t){return function(e,n){let{$from:i,$to:s}=e.selection,a=i.blockRange(s,h=>h.childCount>0&&h.firstChild.type==t);if(!a)return!1;let l=a.startIndex;if(l==0)return!1;let c=a.parent,d=c.child(l-1);if(d.type!=t)return!1;if(n){let h=d.lastChild&&d.lastChild.type==c.type,m=Y.from(h?t.create():null),g=new te(Y.from(t.create(null,Y.from(c.type.create(null,m)))),h?3:1,0),b=a.start,v=a.end;n(e.tr.step(new bt(b-(h?3:1),v,b,v,g,1,!0)).scrollIntoView())}return!0}}function Kc(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:s}=n,{storedMarks:a}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return i},get doc(){return s},get tr(){return i=n.selection,s=n.doc,a=n.storedMarks,n}}}class Yc{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:i}=this,{view:s}=n,{tr:a}=i,l=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...m)=>{const g=d(...m)(l);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(a),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:i,editor:s,state:a}=this,{view:l}=s,c=[],d=!!e,h=e||a.tr,m=()=>(!d&&n&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(h),c.every(b=>b===!0)),g={...Object.fromEntries(Object.entries(i).map(([b,v])=>[b,(...E)=>{const C=this.buildProps(h,n),M=v(...E)(C);return c.push(M),g}])),run:m};return g}createCan(e){const{rawCommands:n,state:i}=this,s=!1,a=e||i.tr,l=this.buildProps(a,s);return{...Object.fromEntries(Object.entries(n).map(([d,h])=>[d,(...m)=>h(...m)({...l,dispatch:void 0})])),chain:()=>this.createChain(a,s)}}buildProps(e,n=!0){const{rawCommands:i,editor:s,state:a}=this,{view:l}=s,c={tr:e,editor:s,view:l,state:Kc({state:a,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([d,h])=>[d,(...m)=>h(...m)(c)]))}};return c}}class R6{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const i=this.callbacks[e];return i&&i.forEach(s=>s.apply(this,n)),this}off(e,n){const i=this.callbacks[e];return i&&(n?this.callbacks[e]=i.filter(s=>s!==n):delete this.callbacks[e]),this}once(e,n){const i=(...s)=>{this.off(e,i),n.apply(this,s)};return this.on(e,i)}removeAllListeners(){this.callbacks={}}}function oe(t,e,n){return t.config[e]===void 0&&t.parent?oe(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?oe(t.parent,e,n):null}):t.config[e]}function Xc(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),i=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function kE(t){const e=[],{nodeExtensions:n,markExtensions:i}=Xc(t),s=[...n,...i],a={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:s},d=oe(l,"addGlobalAttributes",c);if(!d)return;d().forEach(m=>{m.types.forEach(g=>{Object.entries(m.attributes).forEach(([b,v])=>{e.push({type:g,name:b,attribute:{...a,...v}})})})})}),s.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},d=oe(l,"addAttributes",c);if(!d)return;const h=d();Object.entries(h).forEach(([m,g])=>{const b={...a,...g};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:l.name,name:m,attribute:b})})}),e}function xt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function qt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([s,a])=>{if(!i[s]){i[s]=a;return}if(s==="class"){const c=a?String(a).split(" "):[],d=i[s]?i[s].split(" "):[],h=c.filter(m=>!d.includes(m));i[s]=[...d,...h].join(" ")}else if(s==="style"){const c=a?a.split(";").map(m=>m.trim()).filter(Boolean):[],d=i[s]?i[s].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[g,b]=m.split(":").map(v=>v.trim());h.set(g,b)}),c.forEach(m=>{const[g,b]=m.split(":").map(v=>v.trim());h.set(g,b)}),i[s]=Array.from(h.entries()).map(([m,g])=>`${m}: ${g}`).join("; ")}else i[s]=a}),i},{})}function Up(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>qt(n,i),{})}function AE(t){return typeof t=="function"}function we(t,e=void 0,...n){return AE(t)?e?t.bind(e)(...n):t(...n):t}function j6(t={}){return Object.keys(t).length===0&&t.constructor===Object}function _6(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function kx(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const s=e.reduce((a,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(n):_6(n.getAttribute(l.name));return c==null?a:{...a,[l.name]:c}},{});return{...i,...s}}}}function Ax(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&j6(n)?!1:n!=null))}function z6(t,e){var n;const i=kE(t),{nodeExtensions:s,markExtensions:a}=Xc(t),l=(n=s.find(h=>oe(h,"topNode")))===null||n===void 0?void 0:n.name,c=Object.fromEntries(s.map(h=>{const m=i.filter(M=>M.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((M,k)=>{const D=oe(k,"extendNodeSchema",g);return{...M,...D?D(h):{}}},{}),v=Ax({...b,content:we(oe(h,"content",g)),marks:we(oe(h,"marks",g)),group:we(oe(h,"group",g)),inline:we(oe(h,"inline",g)),atom:we(oe(h,"atom",g)),selectable:we(oe(h,"selectable",g)),draggable:we(oe(h,"draggable",g)),code:we(oe(h,"code",g)),whitespace:we(oe(h,"whitespace",g)),linebreakReplacement:we(oe(h,"linebreakReplacement",g)),defining:we(oe(h,"defining",g)),isolating:we(oe(h,"isolating",g)),attrs:Object.fromEntries(m.map(M=>{var k;return[M.name,{default:(k=M==null?void 0:M.attribute)===null||k===void 0?void 0:k.default}]}))}),x=we(oe(h,"parseHTML",g));x&&(v.parseDOM=x.map(M=>kx(M,m)));const E=oe(h,"renderHTML",g);E&&(v.toDOM=M=>E({node:M,HTMLAttributes:Up(M,m)}));const C=oe(h,"renderText",g);return C&&(v.toText=C),[h.name,v]})),d=Object.fromEntries(a.map(h=>{const m=i.filter(C=>C.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((C,M)=>{const k=oe(M,"extendMarkSchema",g);return{...C,...k?k(h):{}}},{}),v=Ax({...b,inclusive:we(oe(h,"inclusive",g)),excludes:we(oe(h,"excludes",g)),group:we(oe(h,"group",g)),spanning:we(oe(h,"spanning",g)),code:we(oe(h,"code",g)),attrs:Object.fromEntries(m.map(C=>{var M;return[C.name,{default:(M=C==null?void 0:C.attribute)===null||M===void 0?void 0:M.default}]}))}),x=we(oe(h,"parseHTML",g));x&&(v.parseDOM=x.map(C=>kx(C,m)));const E=oe(h,"renderHTML",g);return E&&(v.toDOM=C=>E({mark:C,HTMLAttributes:Up(C,m)})),[h.name,v]}));return new yT({topNode:l,nodes:c,marks:d})}function $h(t,e){return e.nodes[t]||e.marks[t]||null}function Ox(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function tg(t,e){const n=gs.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}const L6=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(s,a,l,c)=>{var d,h;const m=((h=(d=s.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:s,pos:a,parent:l,index:c}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,i-a))}),n};function ng(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Wc{constructor(e){this.find=e.find,this.handler=e.handler}}const B6=(t,e)=>{if(ng(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function Hu(t){var e;const{editor:n,from:i,to:s,text:a,rules:l,plugin:c}=t,{view:d}=n;if(d.composing)return!1;const h=d.state.doc.resolve(i);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const g=L6(h)+a;return l.forEach(b=>{if(m)return;const v=B6(g,b.find);if(!v)return;const x=d.state.tr,E=Kc({state:d.state,transaction:x}),C={from:i-(v[0].length-a.length),to:s},{commands:M,chain:k,can:D}=new Yc({editor:n,state:E});b.handler({state:E,range:C,match:v,commands:M,chain:k,can:D})===null||!x.steps.length||(x.setMeta(c,{transform:x,from:i,to:s,text:a}),d.dispatch(x),m=!0)}),m}function V6(t){const{editor:e,rules:n}=t,i=new Gt({state:{init(){return null},apply(s,a,l){const c=s.getMeta(i);if(c)return c;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=tg(Y.from(m),l.schema);const{from:g}=d,b=g+m.length;Hu({editor:e,from:g,to:b,text:m,rules:n,plugin:i})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,l,c){return Hu({editor:e,from:a,to:l,text:c,rules:n,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&Hu({editor:e,from:a.pos,to:a.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:l}=s.state.selection;return l?Hu({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function P6(t){return Object.prototype.toString.call(t).slice(8,-1)}function Uu(t){return P6(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Qc(t,e){const n={...t};return Uu(t)&&Uu(e)&&Object.keys(e).forEach(i=>{Uu(e[i])&&Uu(t[i])?n[i]=Qc(t[i],e[i]):n[i]=e[i]}),n}class yr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=we(oe(this,"addOptions",{name:this.name}))),this.storage=we(oe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new yr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Qc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new yr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=we(oe(n,"addOptions",{name:n.name})),n.storage=we(oe(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const l=s.marks();if(!!!l.find(h=>(h==null?void 0:h.type.name)===n.name))return!1;const d=l.find(h=>(h==null?void 0:h.type.name)===n.name);return d&&i.removeStoredMark(d),i.insertText(" ",s.pos),e.view.dispatch(i),!0}return!1}}function H6(t){return typeof t=="number"}class U6{constructor(e){this.find=e.find,this.handler=e.handler}}const I6=(t,e,n)=>{if(ng(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(s=>{const a=[s.text];return a.index=s.index,a.input=t,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function F6(t){const{editor:e,state:n,from:i,to:s,rule:a,pasteEvent:l,dropEvent:c}=t,{commands:d,chain:h,can:m}=new Yc({editor:e,state:n}),g=[];return n.doc.nodesBetween(i,s,(v,x)=>{if(!v.isTextblock||v.type.spec.code)return;const E=Math.max(i,x),C=Math.min(s,x+v.content.size),M=v.textBetween(E-x,C-x,void 0,"￼");I6(M,a.find,l).forEach(D=>{if(D.index===void 0)return;const B=E+D.index+1,z=B+D[0].length,H={from:n.tr.mapping.map(B),to:n.tr.mapping.map(z)},q=a.handler({state:n,range:H,match:D,commands:d,chain:h,can:m,pasteEvent:l,dropEvent:c});g.push(q)})}),g.every(v=>v!==null)}let Iu=null;const $6=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function q6(t){const{editor:e,rules:n}=t;let i=null,s=!1,a=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:m,from:g,to:b,rule:v,pasteEvt:x})=>{const E=m.tr,C=Kc({state:m,transaction:E});if(!(!F6({editor:e,state:C,from:Math.max(g-1,0),to:b.b-1,rule:v,pasteEvent:x,dropEvent:c})||!E.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(m=>new Gt({view(g){const b=x=>{var E;i=!((E=g.dom.parentElement)===null||E===void 0)&&E.contains(x.target)?g.dom.parentElement:null,i&&(Iu=e)},v=()=>{Iu&&(Iu=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(a=i===g.dom.parentElement,c=b,!a){const v=Iu;v&&setTimeout(()=>{const x=v.state.selection;x&&v.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(g,b)=>{var v;const x=(v=b.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return l=b,s=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(g,b,v)=>{const x=g[0],E=x.getMeta("uiEvent")==="paste"&&!s,C=x.getMeta("uiEvent")==="drop"&&!a,M=x.getMeta("applyPasteRules"),k=!!M;if(!E&&!C&&!k)return;if(k){let{text:z}=M;typeof z=="string"?z=z:z=tg(Y.from(z),v.schema);const{from:H}=M,q=H+z.length,$=$6(z);return d({rule:m,state:v,from:H,to:{b:q},pasteEvt:$})}const D=b.doc.content.findDiffStart(v.doc.content),B=b.doc.content.findDiffEnd(v.doc.content);if(!(!H6(D)||!B||D===B.b))return d({rule:m,state:v,from:D,to:B,pasteEvt:l})}}))}function G6(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}class lo{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=lo.resolve(e),this.schema=z6(this.extensions,n),this.setupExtensions()}static resolve(e){const n=lo.sort(lo.flatten(e)),i=G6(n.map(s=>s.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const i={name:n.name,options:n.options,storage:n.storage},s=oe(n,"addExtensions",i);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((i,s)=>{const a=oe(i,"priority")||100,l=oe(s,"priority")||100;return a>l?-1:a<l?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:$h(n.name,this.schema)},s=oe(n,"addCommands",i);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=lo.sort([...this.extensions].reverse()),i=[],s=[],a=n.map(l=>{const c={name:l.name,options:l.options,storage:l.storage,editor:e,type:$h(l.name,this.schema)},d=[],h=oe(l,"addKeyboardShortcuts",c);let m={};if(l.type==="mark"&&oe(l,"exitable",c)&&(m.ArrowRight=()=>yr.handleExit({editor:e,mark:l})),h){const E=Object.fromEntries(Object.entries(h()).map(([C,M])=>[C,()=>M({editor:e})]));m={...m,...E}}const g=f6(m);d.push(g);const b=oe(l,"addInputRules",c);Ox(l,e.options.enableInputRules)&&b&&i.push(...b());const v=oe(l,"addPasteRules",c);Ox(l,e.options.enablePasteRules)&&v&&s.push(...v());const x=oe(l,"addProseMirrorPlugins",c);if(x){const E=x();d.push(...E)}return d}).flat();return[V6({editor:e,rules:i}),...q6({editor:e,rules:s}),...a]}get attributes(){return kE(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Xc(this.extensions);return Object.fromEntries(n.filter(i=>!!oe(i,"addNodeView")).map(i=>{const s=this.attributes.filter(d=>d.type===i.name),a={name:i.name,options:i.options,storage:i.storage,editor:e,type:xt(i.name,this.schema)},l=oe(i,"addNodeView",a);if(!l)return[];const c=(d,h,m,g,b)=>{const v=Up(d,s);return l()({node:d,view:h,getPos:m,decorations:g,innerDecorations:b,editor:e,extension:i,HTMLAttributes:v})};return[i.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const i={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:$h(e.name,this.schema)};e.type==="mark"&&(!((n=we(oe(e,"keepOnSplit",i)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const s=oe(e,"onBeforeCreate",i),a=oe(e,"onCreate",i),l=oe(e,"onUpdate",i),c=oe(e,"onSelectionUpdate",i),d=oe(e,"onTransaction",i),h=oe(e,"onFocus",i),m=oe(e,"onBlur",i),g=oe(e,"onDestroy",i);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),g&&this.editor.on("destroy",g)})}}class Lt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=we(oe(this,"addOptions",{name:this.name}))),this.storage=we(oe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Lt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Qc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Lt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=we(oe(n,"addOptions",{name:n.name})),n.storage=we(oe(n,"addStorage",{name:n.name,options:n.options})),n}}function OE(t,e,n){const{from:i,to:s}=e,{blockSeparator:a=`

`,textSerializers:l={}}=n||{};let c="";return t.nodesBetween(i,s,(d,h,m,g)=>{var b;d.isBlock&&h>i&&(c+=a);const v=l==null?void 0:l[d.type.name];if(v)return m&&(c+=v({node:d,pos:h,parent:m,index:g,range:e})),!1;d.isText&&(c+=(b=d==null?void 0:d.text)===null||b===void 0?void 0:b.slice(Math.max(i,h)-h,s-h))}),c}function DE(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const K6=Lt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Gt({key:new Vn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:s}=e,{ranges:a}=s,l=Math.min(...a.map(m=>m.$from.pos)),c=Math.max(...a.map(m=>m.$to.pos)),d=DE(n);return OE(i,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),Y6=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),X6=(t=!1)=>({commands:e})=>e.setContent("",t),W6=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:s}=i;return n&&s.forEach(({$from:a,$to:l})=>{t.doc.nodesBetween(a.pos,l.pos,(c,d)=>{if(c.type.isText)return;const{doc:h,mapping:m}=e,g=h.resolve(m.map(d)),b=h.resolve(m.map(d+c.nodeSize)),v=g.blockRange(b);if(!v)return;const x=ko(v);if(c.type.isTextblock){const{defaultType:E}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(v.start,E)}(x||x===0)&&e.lift(v,x)})}),!0},Q6=t=>e=>t(e),J6=()=>({state:t,dispatch:e})=>EE(t,e),Z6=(t,e)=>({editor:n,tr:i})=>{const{state:s}=n,a=s.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const l=i.mapping.map(e);return i.insert(l,a.content),i.setSelection(new ye(i.doc.resolve(l-1))),!0},e8=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i.type){if(e){const c=s.before(a),d=s.after(a);t.delete(c,d).scrollIntoView()}return!0}return!1},t8=t=>({tr:e,state:n,dispatch:i})=>{const s=xt(t,n.schema),a=e.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===s){if(i){const d=a.before(l),h=a.after(l);e.delete(d,h).scrollIntoView()}return!0}return!1},n8=t=>({tr:e,dispatch:n})=>{const{from:i,to:s}=t;return n&&e.delete(i,s),!0},i8=()=>({state:t,dispatch:e})=>Wm(t,e),r8=()=>({commands:t})=>t.keyboardShortcut("Enter"),s8=()=>({state:t,dispatch:e})=>y6(t,e);function Cc(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(s=>n.strict?e[s]===t[s]:ng(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function NE(t,e,n={}){return t.find(i=>i.type===e&&Cc(Object.fromEntries(Object.keys(n).map(s=>[s,i.attrs[s]])),n))}function Dx(t,e,n={}){return!!NE(t,e,n)}function ig(t,e,n){var i;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(n=n||((i=s.node.marks[0])===null||i===void 0?void 0:i.attrs),!NE([...s.node.marks],e,n)))return;let l=s.index,c=t.start()+s.offset,d=l+1,h=c+s.node.nodeSize;for(;l>0&&Dx([...t.parent.child(l-1).marks],e,n);)l-=1,c-=t.parent.child(l).nodeSize;for(;d<t.parent.childCount&&Dx([...t.parent.child(d).marks],e,n);)h+=t.parent.child(d).nodeSize,d+=1;return{from:c,to:h}}function Tr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const o8=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const a=Tr(t,i.schema),{doc:l,selection:c}=n,{$from:d,from:h,to:m}=c;if(s){const g=ig(d,a,e);if(g&&g.from<=h&&g.to>=m){const b=ye.create(l,g.from,g.to);n.setSelection(b)}}return!0},a8=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function RE(t){return t instanceof ye}function ts(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function jE(t,e=null){if(!e)return null;const n=Ee.atStart(t),i=Ee.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const s=n.from,a=i.to;return e==="all"?ye.create(t,ts(0,s,a),ts(t.content.size,s,a)):ye.create(t,ts(e,s,a),ts(e,s,a))}function l8(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function rg(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const u8=(t=null,e={})=>({editor:n,view:i,tr:s,dispatch:a})=>{e={scrollIntoView:!0,...e};const l=()=>{(rg()||l8())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&t===null||t===!1)return!0;if(a&&t===null&&!RE(n.state.selection))return l(),!0;const c=jE(s.doc,t)||n.state.selection,d=n.state.selection.eq(c);return a&&(d||s.setSelection(c),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0},c8=(t,e)=>n=>t.every((i,s)=>e(i,{...n,index:s})),f8=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),_E=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&_E(i)}return t};function Fu(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return _E(n)}function wc(t,e,n){if(t instanceof lr||t instanceof Y)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,s=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return Y.fromArray(t.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),wc("",e,n)}if(s){if(n.errorOnInvalidContent){let l=!1,c="";const d=new yT({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(l=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?ur.fromSchema(d).parseSlice(Fu(t),n.parseOptions):ur.fromSchema(d).parse(Fu(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const a=ur.fromSchema(e);return n.slice?a.parseSlice(Fu(t),n.parseOptions).content:a.parse(Fu(t),n.parseOptions)}return wc("",e,n)}function d8(t,e,n){const i=t.steps.length-1;if(i<e)return;const s=t.steps[i];if(!(s instanceof yt||s instanceof bt))return;const a=t.mapping.maps[i];let l=0;a.forEach((c,d,h,m)=>{l===0&&(l=m)}),t.setSelection(Ee.near(t.doc.resolve(l),n))}const h8=t=>!("type"in t),p8=(t,e,n)=>({tr:i,dispatch:s,editor:a})=>{var l;if(s){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;try{c=wc(e,a.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:a.options.enableContentCheck})}catch(x){return a.emit("contentError",{editor:a,error:x,disableCollaboration:()=>{a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:h}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},m=!0,g=!0;if((h8(c)?c:[c]).forEach(x=>{x.check(),m=m?x.isText&&x.marks.length===0:!1,g=g?x.isBlock:!1}),d===h&&g){const{parent:x}=i.doc.resolve(d);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(d-=1,h+=1)}let v;if(m){if(Array.isArray(e))v=e.map(x=>x.text||"").join("");else if(e instanceof Y){let x="";e.forEach(E=>{E.text&&(x+=E.text)}),v=x}else typeof e=="object"&&e&&e.text?v=e.text:v=e;i.insertText(v,d,h)}else v=c,i.replaceWith(d,h,v);n.updateSelection&&d8(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:d,text:v}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:d,text:v})}return!0},m8=()=>({state:t,dispatch:e})=>p6(t,e),g8=()=>({state:t,dispatch:e})=>m6(t,e),y8=()=>({state:t,dispatch:e})=>gE(t,e),b8=()=>({state:t,dispatch:e})=>xE(t,e),v8=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Uc(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},x8=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Uc(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},S8=()=>({state:t,dispatch:e})=>d6(t,e),T8=()=>({state:t,dispatch:e})=>h6(t,e);function zE(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function E8(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,s,a,l;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))rg()||zE()?l=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return i&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}const C8=t=>({editor:e,view:n,tr:i,dispatch:s})=>{const a=E8(t).split(/-(?!$)/),l=a.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,c))});return d==null||d.steps.forEach(h=>{const m=h.map(i.mapping);m&&s&&i.maybeStep(m)}),!0};function al(t,e,n={}){const{from:i,to:s,empty:a}=t.selection,l=e?xt(e,t.schema):null,c=[];t.doc.nodesBetween(i,s,(g,b)=>{if(g.isText)return;const v=Math.max(i,b),x=Math.min(s,b+g.nodeSize);c.push({node:g,from:v,to:x})});const d=s-i,h=c.filter(g=>l?l.name===g.node.type.name:!0).filter(g=>Cc(g.node.attrs,n,{strict:!1}));return a?!!h.length:h.reduce((g,b)=>g+b.to-b.from,0)>=d}const w8=(t,e={})=>({state:n,dispatch:i})=>{const s=xt(t,n.schema);return al(n,s,e)?g6(n,i):!1},M8=()=>({state:t,dispatch:e})=>CE(t,e),k8=t=>({state:e,dispatch:n})=>{const i=xt(t,e.schema);return A6(i)(e,n)},A8=()=>({state:t,dispatch:e})=>TE(t,e);function Jc(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Nx(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,s)=>(n.includes(s)||(i[s]=t[s]),i),{})}const O8=(t,e)=>({tr:n,state:i,dispatch:s})=>{let a=null,l=null;const c=Jc(typeof t=="string"?t:t.name,i.schema);return c?(c==="node"&&(a=xt(t,i.schema)),c==="mark"&&(l=Tr(t,i.schema)),s&&n.selection.ranges.forEach(d=>{i.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,m)=>{a&&a===h.type&&n.setNodeMarkup(m,void 0,Nx(h.attrs,e)),l&&h.marks.length&&h.marks.forEach(g=>{l===g.type&&n.addMark(m,m+h.nodeSize,l.create(Nx(g.attrs,e)))})})}),!0):!1},D8=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),N8=()=>({tr:t,dispatch:e})=>{if(e){const n=new cn(t.doc);t.setSelection(n)}return!0},R8=()=>({state:t,dispatch:e})=>bE(t,e),j8=()=>({state:t,dispatch:e})=>SE(t,e),_8=()=>({state:t,dispatch:e})=>x6(t,e),z8=()=>({state:t,dispatch:e})=>E6(t,e),L8=()=>({state:t,dispatch:e})=>T6(t,e);function Ip(t,e,n={},i={}){return wc(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}const B8=(t,e=!1,n={},i={})=>({editor:s,tr:a,dispatch:l,commands:c})=>{var d,h;const{doc:m}=a;if(n.preserveWhitespace!=="full"){const g=Ip(t,s.schema,n,{errorOnInvalidContent:(d=i.errorOnInvalidContent)!==null&&d!==void 0?d:s.options.enableContentCheck});return l&&a.replaceWith(0,m.content.size,g).setMeta("preventUpdate",!e),!0}return l&&a.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:m.content.size},t,{parseOptions:n,errorOnInvalidContent:(h=i.errorOnInvalidContent)!==null&&h!==void 0?h:s.options.enableContentCheck})};function LE(t,e){const n=Tr(e,t.schema),{from:i,to:s,empty:a}=t.selection,l=[];a?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,s,d=>{l.push(...d.marks)});const c=l.find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function V8(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function P8(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function sg(t){return e=>P8(e.$from,t)}function H8(t,e){const n={from:0,to:t.content.size};return OE(t,n,e)}function U8(t,e){const n=xt(e,t.schema),{from:i,to:s}=t.selection,a=[];t.doc.nodesBetween(i,s,c=>{a.push(c)});const l=a.reverse().find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function I8(t,e){const n=Jc(typeof e=="string"?e:e.name,t.schema);return n==="node"?U8(t,e):n==="mark"?LE(t,e):{}}function BE(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(s=>{const a=n.resolve(t),l=ig(a,s.type);l&&i.push({mark:s,...l})}):n.nodesBetween(t,e,(s,a)=>{!s||(s==null?void 0:s.nodeSize)===void 0||i.push(...s.marks.map(l=>({from:a,to:a+s.nodeSize,mark:l})))}),i}function ec(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const s=t.find(a=>a.type===e&&a.name===i);return s?s.attribute.keepOnSplit:!1}))}function Fp(t,e,n={}){const{empty:i,ranges:s}=t.selection,a=e?Tr(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>a?a.name===g.type.name:!0).find(g=>Cc(g.attrs,n,{strict:!1}));let l=0;const c=[];if(s.forEach(({$from:g,$to:b})=>{const v=g.pos,x=b.pos;t.doc.nodesBetween(v,x,(E,C)=>{if(!E.isText&&!E.marks.length)return;const M=Math.max(v,C),k=Math.min(x,C+E.nodeSize),D=k-M;l+=D,c.push(...E.marks.map(B=>({mark:B,from:M,to:k})))})}),l===0)return!1;const d=c.filter(g=>a?a.name===g.mark.type.name:!0).filter(g=>Cc(g.mark.attrs,n,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),h=c.filter(g=>a?g.mark.type!==a&&g.mark.type.excludes(a):!0).reduce((g,b)=>g+b.to-b.from,0);return(d>0?d+h:d)>=l}function F8(t,e,n={}){if(!e)return al(t,null,n)||Fp(t,null,n);const i=Jc(e,t.schema);return i==="node"?al(t,e,n):i==="mark"?Fp(t,e,n):!1}function Rx(t,e){const{nodeExtensions:n}=Xc(e),i=n.find(l=>l.name===t);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},a=we(oe(i,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function Zc(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!==null&&i!==void 0?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(a=>{s!==!1&&(Zc(a,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function $8(t){return t instanceof de}function q8(t,e,n){var i;const{selection:s}=e;let a=null;if(RE(s)&&(a=s.$cursor),a){const c=(i=t.storedMarks)!==null&&i!==void 0?i:a.marks();return!!n.isInSet(c)||!c.some(d=>d.type.excludes(n))}const{ranges:l}=s;return l.some(({$from:c,$to:d})=>{let h=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,d.pos,(m,g,b)=>{if(h)return!1;if(m.isInline){const v=!b||b.type.allowsMarkType(n),x=!!n.isInSet(m.marks)||!m.marks.some(E=>E.type.excludes(n));h=v&&x}return!h}),h})}const G8=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const{selection:a}=n,{empty:l,ranges:c}=a,d=Tr(t,i.schema);if(s)if(l){const h=LE(i,d);n.addStoredMark(d.create({...h,...e}))}else c.forEach(h=>{const m=h.$from.pos,g=h.$to.pos;i.doc.nodesBetween(m,g,(b,v)=>{const x=Math.max(v,m),E=Math.min(v+b.nodeSize,g);b.marks.find(M=>M.type===d)?b.marks.forEach(M=>{d===M.type&&n.addMark(x,E,d.create({...M.attrs,...e}))}):n.addMark(x,E,d.create(e))})});return q8(i,n,d)},K8=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Y8=(t,e={})=>({state:n,dispatch:i,chain:s})=>{const a=xt(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:c})=>Mx(a,{...l,...e})(n)?!0:c.clearNodes()).command(({state:c})=>Mx(a,{...l,...e})(c,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},X8=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,s=ts(t,0,i.content.size),a=de.create(i,s);e.setSelection(a)}return!0},W8=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:s,to:a}=typeof t=="number"?{from:t,to:t}:t,l=ye.atStart(i).from,c=ye.atEnd(i).to,d=ts(s,l,c),h=ts(a,l,c),m=ye.create(i,d,h);e.setSelection(m)}return!0},Q8=t=>({state:e,dispatch:n})=>{const i=xt(t,e.schema);return N6(i)(e,n)};function jx(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(i)}}const J8=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:s})=>{const{selection:a,doc:l}=e,{$from:c,$to:d}=a,h=s.extensionManager.attributes,m=ec(h,c.node().type.name,c.node().attrs);if(a instanceof de&&a.node.isBlock)return!c.parentOffset||!Mi(l,c.pos)?!1:(i&&(t&&jx(n,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,b=c.depth===0?void 0:V8(c.node(-1).contentMatchAt(c.indexAfter(-1)));let v=g&&b?[{type:b,attrs:m}]:void 0,x=Mi(e.doc,e.mapping.map(c.pos),1,v);if(!v&&!x&&Mi(e.doc,e.mapping.map(c.pos),1,b?[{type:b}]:void 0)&&(x=!0,v=b?[{type:b,attrs:m}]:void 0),i){if(x&&(a instanceof ye&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,v),b&&!g&&!c.parentOffset&&c.parent.type!==b)){const E=e.mapping.map(c.before()),C=e.doc.resolve(E);c.node(-1).canReplaceWith(C.index(),C.index()+1,b)&&e.setNodeMarkup(e.mapping.map(c.before()),b)}t&&jx(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return x},Z8=(t,e={})=>({tr:n,state:i,dispatch:s,editor:a})=>{var l;const c=xt(t,i.schema),{$from:d,$to:h}=i.selection,m=i.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const g=d.node(-1);if(g.type!==c)return!1;const b=a.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let M=Y.empty;const k=d.index(-1)?1:d.index(-2)?2:3;for(let $=d.depth-k;$>=d.depth-3;$-=1)M=Y.from(d.node($).copy(M));const D=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,B={...ec(b,d.node().type.name,d.node().attrs),...e},z=((l=c.contentMatch.defaultType)===null||l===void 0?void 0:l.createAndFill(B))||void 0;M=M.append(Y.from(c.createAndFill(null,z)||void 0));const H=d.before(d.depth-(k-1));n.replace(H,d.after(-D),new te(M,4-k,0));let q=-1;n.doc.nodesBetween(H,n.doc.content.size,($,P)=>{if(q>-1)return!1;$.isTextblock&&$.content.size===0&&(q=P+1)}),q>-1&&n.setSelection(ye.near(n.doc.resolve(q))),n.scrollIntoView()}return!0}const v=h.pos===d.end()?g.contentMatchAt(0).defaultType:null,x={...ec(b,g.type.name,g.attrs),...e},E={...ec(b,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,h.pos);const C=v?[{type:c,attrs:x},{type:v,attrs:E}]:[{type:c,attrs:x}];if(!Mi(n.doc,d.pos,2))return!1;if(s){const{selection:M,storedMarks:k}=i,{splittableMarks:D}=a.extensionManager,B=k||M.$to.parentOffset&&M.$from.marks();if(n.split(d.pos,2,C).scrollIntoView(),!B||!s)return!0;const z=B.filter(H=>D.includes(H.type.name));n.ensureMarks(z)}return!0},qh=(t,e)=>{const n=sg(l=>l.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&xr(t.doc,n.pos)&&t.join(n.pos),!0},Gh=(t,e)=>{const n=sg(l=>l.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&xr(t.doc,i)&&t.join(i),!0},ej=(t,e,n,i={})=>({editor:s,tr:a,state:l,dispatch:c,chain:d,commands:h,can:m})=>{const{extensions:g,splittableMarks:b}=s.extensionManager,v=xt(t,l.schema),x=xt(e,l.schema),{selection:E,storedMarks:C}=l,{$from:M,$to:k}=E,D=M.blockRange(k),B=C||E.$to.parentOffset&&E.$from.marks();if(!D)return!1;const z=sg(H=>Rx(H.type.name,g))(E);if(D.depth>=1&&z&&D.depth-z.depth<=1){if(z.node.type===v)return h.liftListItem(x);if(Rx(z.node.type.name,g)&&v.validContent(z.node.content)&&c)return d().command(()=>(a.setNodeMarkup(z.pos,v),!0)).command(()=>qh(a,v)).command(()=>Gh(a,v)).run()}return!n||!B||!c?d().command(()=>m().wrapInList(v,i)?!0:h.clearNodes()).wrapInList(v,i).command(()=>qh(a,v)).command(()=>Gh(a,v)).run():d().command(()=>{const H=m().wrapInList(v,i),q=B.filter($=>b.includes($.type.name));return a.ensureMarks(q),H?!0:h.clearNodes()}).wrapInList(v,i).command(()=>qh(a,v)).command(()=>Gh(a,v)).run()},tj=(t,e={},n={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:a=!1}=n,l=Tr(t,i.schema);return Fp(i,l,e)?s.unsetMark(l,{extendEmptyMarkRange:a}):s.setMark(l,e)},nj=(t,e,n={})=>({state:i,commands:s})=>{const a=xt(t,i.schema),l=xt(e,i.schema),c=al(i,a,n);let d;return i.selection.$anchor.sameParent(i.selection.$head)&&(d=i.selection.$anchor.parent.attrs),c?s.setNode(l,d):s.setNode(a,{...d,...n})},ij=(t,e={})=>({state:n,commands:i})=>{const s=xt(t,n.schema);return al(n,s,e)?i.lift(s):i.wrapIn(s,e)},rj=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const s=n[i];let a;if(s.spec.isInputRules&&(a=s.getState(t))){if(e){const l=t.tr,c=a.transform;for(let d=c.steps.length-1;d>=0;d-=1)l.step(c.steps[d].invert(c.docs[d]));if(a.text){const d=l.doc.resolve(a.from).marks();l.replaceWith(a.from,a.to,t.schema.text(a.text,d))}else l.delete(a.from,a.to)}return!0}}return!1},sj=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:s}=n;return i||e&&s.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},oj=(t,e={})=>({tr:n,state:i,dispatch:s})=>{var a;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=n,d=Tr(t,i.schema),{$from:h,empty:m,ranges:g}=c;if(!s)return!0;if(m&&l){let{from:b,to:v}=c;const x=(a=h.marks().find(C=>C.type===d))===null||a===void 0?void 0:a.attrs,E=ig(h,d,x);E&&(b=E.from,v=E.to),n.removeMark(b,v,d)}else g.forEach(b=>{n.removeMark(b.$from.pos,b.$to.pos,d)});return n.removeStoredMark(d),!0},aj=(t,e={})=>({tr:n,state:i,dispatch:s})=>{let a=null,l=null;const c=Jc(typeof t=="string"?t:t.name,i.schema);return c?(c==="node"&&(a=xt(t,i.schema)),c==="mark"&&(l=Tr(t,i.schema)),s&&n.selection.ranges.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;let g,b,v,x;n.selection.empty?i.doc.nodesBetween(h,m,(E,C)=>{a&&a===E.type&&(v=Math.max(C,h),x=Math.min(C+E.nodeSize,m),g=C,b=E)}):i.doc.nodesBetween(h,m,(E,C)=>{C<h&&a&&a===E.type&&(v=Math.max(C,h),x=Math.min(C+E.nodeSize,m),g=C,b=E),C>=h&&C<=m&&(a&&a===E.type&&n.setNodeMarkup(C,void 0,{...E.attrs,...e}),l&&E.marks.length&&E.marks.forEach(M=>{if(l===M.type){const k=Math.max(C,h),D=Math.min(C+E.nodeSize,m);n.addMark(k,D,l.create({...M.attrs,...e}))}}))}),b&&(g!==void 0&&n.setNodeMarkup(g,void 0,{...b.attrs,...e}),l&&b.marks.length&&b.marks.forEach(E=>{l===E.type&&n.addMark(v,x,l.create({...E.attrs,...e}))}))}),!0):!1},lj=(t,e={})=>({state:n,dispatch:i})=>{const s=xt(t,n.schema);return C6(s,e)(n,i)},uj=(t,e={})=>({state:n,dispatch:i})=>{const s=xt(t,n.schema);return w6(s,e)(n,i)};var cj=Object.freeze({__proto__:null,blur:Y6,clearContent:X6,clearNodes:W6,command:Q6,createParagraphNear:J6,cut:Z6,deleteCurrentNode:e8,deleteNode:t8,deleteRange:n8,deleteSelection:i8,enter:r8,exitCode:s8,extendMarkRange:o8,first:a8,focus:u8,forEach:c8,insertContent:f8,insertContentAt:p8,joinBackward:y8,joinDown:g8,joinForward:b8,joinItemBackward:v8,joinItemForward:x8,joinTextblockBackward:S8,joinTextblockForward:T8,joinUp:m8,keyboardShortcut:C8,lift:w8,liftEmptyBlock:M8,liftListItem:k8,newlineInCode:A8,resetAttributes:O8,scrollIntoView:D8,selectAll:N8,selectNodeBackward:R8,selectNodeForward:j8,selectParentNode:_8,selectTextblockEnd:z8,selectTextblockStart:L8,setContent:B8,setMark:G8,setMeta:K8,setNode:Y8,setNodeSelection:X8,setTextSelection:W8,sinkListItem:Q8,splitBlock:J8,splitListItem:Z8,toggleList:ej,toggleMark:tj,toggleNode:nj,toggleWrap:ij,undoInputRule:rj,unsetAllMarks:sj,unsetMark:oj,updateAttributes:aj,wrapIn:lj,wrapInList:uj});const fj=Lt.create({name:"commands",addCommands(){return{...cj}}}),dj=Lt.create({name:"drop",addProseMirrorPlugins(){return[new Gt({key:new Vn("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),hj=Lt.create({name:"editable",addProseMirrorPlugins(){return[new Gt({key:new Vn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),pj=Lt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Gt({key:new Vn("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),mj=Lt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:d,doc:h}=c,{empty:m,$anchor:g}=d,{pos:b,parent:v}=g,x=g.parent.isTextblock&&b>0?c.doc.resolve(b-1):g,E=x.parent.type.spec.isolating,C=g.pos-g.parentOffset,M=E&&x.parent.childCount===1?C===g.pos:Ee.atStart(h).from===b;return!m||!v.type.isTextblock||v.textContent.length||!M||M&&g.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},a={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return rg()||zE()?a:s},addProseMirrorPlugins(){return[new Gt({key:new Vn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const i=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),s=t.some(E=>E.getMeta("preventClearDocument"));if(!i||s)return;const{empty:a,from:l,to:c}=e.selection,d=Ee.atStart(e.doc).from,h=Ee.atEnd(e.doc).to;if(a||!(l===d&&c===h)||!Zc(n.doc))return;const b=n.tr,v=Kc({state:n,transaction:b}),{commands:x}=new Yc({editor:this.editor,state:v});if(x.clearNodes(),!!b.steps.length)return b}})]}}),gj=Lt.create({name:"paste",addProseMirrorPlugins(){return[new Gt({key:new Vn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),yj=Lt.create({name:"tabindex",addProseMirrorPlugins(){return[new Gt({key:new Vn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Qr{get name(){return this.node.type.name}constructor(e,n,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Qr(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Qr(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Qr(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const s=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,l=this.pos+i+(a?0:1),c=this.resolvedPos.doc.resolve(l);if(!s&&c.depth<=this.depth)return;const d=new Qr(c,this.editor,s,s?n:null);s&&(d.actualDepth=this.depth+1),e.push(new Qr(c,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===e)if(Object.keys(n).length>0){const a=s.node.attrs,l=Object.keys(n);for(let c=0;c<l.length;c+=1){const d=l[c];if(a[d]!==n[d])break}}else i=s;s=s.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(n);return this.children.forEach(l=>{i&&s.length>0||(l.node.type.name===e&&a.every(d=>n[d]===l.node.attrs[d])&&s.push(l),!(i&&s.length>0)&&(s=s.concat(l.querySelectorAll(e,n,i))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const bj=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function vj(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}class xj extends R6{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:s})=>this.options.onDrop(n,i,s)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=vj(bj,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const i=AE(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:i});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let i=n;if([].concat(e).forEach(a=>{const l=typeof a=="string"?`${a}$`:a.key;i=n.filter(c=>!c.key.startsWith(l))}),n.length===i.length)return;const s=this.state.reconfigure({plugins:i});return this.view.updateState(s),s}createExtensionManager(){var e,n;const s=[...this.options.enableCoreExtensions?[hj,K6.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),fj,pj,mj,yj,dj,gj].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new lo(s,this)}createCommandManager(){this.commandManager=new Yc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=Ip(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(l){if(!(l instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(l.message))throw l;this.emit("contentError",{editor:this,error:l,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),n=Ip(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const i=jE(n,this.options.autofocus);this.view=new n6(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:ao.create({doc:n,selection:i||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(l=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(l)});return}const n=this.state.apply(e),i=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),a=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),a&&this.emit("blur",{editor:this,event:a.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return I8(this.state,e)}isActive(e,n){const i=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return F8(this.state,i,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return tg(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:i={}}=e||{};return H8(this.state.doc,{blockSeparator:n,textSerializers:{...DE(this.schema),...i}})}get isEmpty(){return Zc(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(e,n))||null}$nodes(e,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Qr(n,this)}get $doc(){return this.$pos(0)}}function xo(t){return new Wc({find:t.find,handler:({state:e,range:n,match:i})=>{const s=we(t.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:a}=e,l=i[i.length-1],c=i[0];if(l){const d=c.search(/\S/),h=n.from+c.indexOf(l),m=h+l.length;if(BE(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(E=>E===t.type&&E!==v.mark.type)).filter(v=>v.to>h).length)return null;m<n.to&&a.delete(m,n.to),h>n.from&&a.delete(n.from+d,h);const b=n.from+d+l.length;a.addMark(n.from+d,b,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}function Sj(t){return new Wc({find:t.find,handler:({state:e,range:n,match:i})=>{const s=we(t.getAttributes,void 0,i)||{},{tr:a}=e,l=n.from;let c=n.to;const d=t.type.create(s);if(i[1]){const h=i[0].lastIndexOf(i[1]);let m=l+h;m>c?m=c:c=m+i[1].length;const g=i[0][i[0].length-1];a.insertText(g,l+i[0].length-1),a.replaceWith(m,c,d)}else if(i[0]){const h=t.type.isInline?l:l-1;a.insert(h,t.type.create(s)).delete(a.mapping.map(l),a.mapping.map(c))}a.scrollIntoView()}})}function $p(t){return new Wc({find:t.find,handler:({state:e,range:n,match:i})=>{const s=e.doc.resolve(n.from),a=we(t.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,a)}})}function ll(t){return new Wc({find:t.find,handler:({state:e,range:n,match:i,chain:s})=>{const a=we(t.getAttributes,void 0,i)||{},l=e.tr.delete(n.from,n.to),d=l.doc.resolve(n.from).blockRange(),h=d&&Pm(d,t.type,a);if(!h)return null;if(l.wrap(d,h),t.keepMarks&&t.editor){const{selection:g,storedMarks:b}=e,{splittableMarks:v}=t.editor.extensionManager,x=b||g.$to.parentOffset&&g.$from.marks();if(x){const E=x.filter(C=>v.includes(C.type.name));l.ensureMarks(E)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(g,a).run()}const m=l.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&xr(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,m))&&l.join(n.from-1)}})}class Jt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=we(oe(this,"addOptions",{name:this.name}))),this.storage=we(oe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Jt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Qc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Jt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=we(oe(n,"addOptions",{name:n.name})),n.storage=we(oe(n,"addStorage",{name:n.name,options:n.options})),n}}function So(t){return new U6({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:s})=>{const a=we(t.getAttributes,void 0,i,s);if(a===!1||a===null)return null;const{tr:l}=e,c=i[i.length-1],d=i[0];let h=n.to;if(c){const m=d.search(/\S/),g=n.from+d.indexOf(c),b=g+c.length;if(BE(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(C=>C===t.type&&C!==x.mark.type)).filter(x=>x.to>g).length)return null;b<n.to&&l.delete(b,n.to),g>n.from&&l.delete(n.from+m,g),h=n.from+m+c.length,l.addMark(n.from+m,h,t.type.create(a||{})),l.removeStoredMark(t.type)}}})}function Tj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VE={exports:{}},Kh={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function Ej(){if(_x)return Kh;_x=1;var t=Q;function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,s=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(g,b){var v=b(),x=i({inst:{value:v,getSnapshot:b}}),E=x[0].inst,C=x[1];return a(function(){E.value=v,E.getSnapshot=b,d(E)&&C({inst:E})},[g,v,b]),s(function(){return d(E)&&C({inst:E}),g(function(){d(E)&&C({inst:E})})},[g]),l(v),v}function d(g){var b=g.getSnapshot;g=g.value;try{var v=b();return!n(g,v)}catch{return!0}}function h(g,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Kh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Kh}VE.exports=Ej();var og=VE.exports;const Cj=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},wj=({contentComponent:t})=>{const e=og.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Q.createElement(Q.Fragment,null,Object.values(e))};function Mj(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:ek.createPortal(i.reactElement,i.element,n)},t.forEach(s=>s())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(s=>s())}}}class kj extends Q.Component{constructor(e){var n;super(e),this.editorContentRef=Q.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=Mj(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...i}=this.props;return Q.createElement(Q.Fragment,null,Q.createElement("div",{ref:Cj(n,this.editorContentRef),...i}),(e==null?void 0:e.contentComponent)&&Q.createElement(wj,{contentComponent:e.contentComponent}))}}const Aj=A.forwardRef((t,e)=>{const n=Q.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Q.createElement(kj,{key:n,innerRef:e,...t})}),PE=Q.memo(Aj);var Oj=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,s,a;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),i=a.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[s]))return!1;for(s=i;s--!==0;){var l=a[s];if(!(l==="_owner"&&e.$$typeof)&&!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n},Dj=Tj(Oj),HE={exports:{}},Yh={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function Nj(){if(zx)return Yh;zx=1;var t=Q,e=og;function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Yh.useSyncExternalStoreWithSelector=function(h,m,g,b,v){var x=a(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=c(function(){function M(H){if(!k){if(k=!0,D=H,H=b(H),v!==void 0&&E.hasValue){var q=E.value;if(v(q,H))return B=q}return B=H}if(q=B,i(D,H))return q;var $=b(H);return v!==void 0&&v(q,$)?q:(D=H,B=$)}var k=!1,D,B,z=g===void 0?null:g;return[function(){return M(m())},z===null?void 0:function(){return M(z())}]},[m,g,b,v]);var C=s(h,x[0],x[1]);return l(function(){E.hasValue=!0,E.value=C},[C]),d(C),C},Yh}HE.exports=Nj();var Rj=HE.exports;const jj=typeof window<"u"?A.useLayoutEffect:A.useEffect;class _j{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},i=this.editor;return i.on("transaction",n),()=>{i.off("transaction",n)}}}}function zj(t){var e;const[n]=A.useState(()=>new _j(t.editor)),i=Rj.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:Dj);return jj(()=>n.watch(t.editor),[t.editor,n]),A.useDebugValue(i),i}const Lj=!1,qp=typeof window>"u",Bj=qp||!!(typeof window<"u"&&window.next);class ag{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?qp||Bj?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)===null||a===void 0?void 0:a.call(s,...i)},onBlur:(...i)=>{var s,a;return(a=(s=this.options.current).onBlur)===null||a===void 0?void 0:a.call(s,...i)},onCreate:(...i)=>{var s,a;return(a=(s=this.options.current).onCreate)===null||a===void 0?void 0:a.call(s,...i)},onDestroy:(...i)=>{var s,a;return(a=(s=this.options.current).onDestroy)===null||a===void 0?void 0:a.call(s,...i)},onFocus:(...i)=>{var s,a;return(a=(s=this.options.current).onFocus)===null||a===void 0?void 0:a.call(s,...i)},onSelectionUpdate:(...i)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)===null||a===void 0?void 0:a.call(s,...i)},onTransaction:(...i)=>{var s,a;return(a=(s=this.options.current).onTransaction)===null||a===void 0?void 0:a.call(s,...i)},onUpdate:(...i)=>{var s,a;return(a=(s=this.options.current).onUpdate)===null||a===void 0?void 0:a.call(s,...i)},onContentError:(...i)=>{var s,a;return(a=(s=this.options.current).onContentError)===null||a===void 0?void 0:a.call(s,...i)},onDrop:(...i)=>{var s,a;return(a=(s=this.options.current).onDrop)===null||a===void 0?void 0:a.call(s,...i)},onPaste:(...i)=>{var s,a;return(a=(s=this.options.current).onPaste)===null||a===void 0?void 0:a.call(s,...i)}};return new xj(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,a)=>{var l;return s===((l=n.extensions)===null||l===void 0?void 0:l[a])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?ag.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,s)=>i===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function UE(t={},e=[]){const n=A.useRef(t);n.current=t;const[i]=A.useState(()=>new ag(n)),s=og.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return A.useDebugValue(s),A.useEffect(i.onRender(e)),zj({editor:s,selector:({transactionNumber:a})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&a===0?0:a+1}),s}const Vj=A.createContext({editor:null});Vj.Consumer;const Pj=A.createContext({onDragStart:void 0}),Hj=()=>A.useContext(Pj);Q.forwardRef((t,e)=>{const{onDragStart:n}=Hj(),i=t.as||"div";return Q.createElement(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const Uj=/^\s*>\s$/,Ij=Jt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",qt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ll({find:Uj,type:this.type})]}}),Fj=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,$j=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,qj=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Gj=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Kj=yr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",qt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[xo({find:Fj,type:this.type}),xo({find:qj,type:this.type})]},addPasteRules(){return[So({find:$j,type:this.type}),So({find:Gj,type:this.type})]}}),Yj="listItem",Lx="textStyle",Bx=/^\s*([-+*])\s$/,Xj=Jt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",qt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Yj,this.editor.getAttributes(Lx)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ll({find:Bx,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ll({find:Bx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Lx),editor:this.editor})),[t]}}),Wj=/(^|[^`])`([^`]+)`(?!`)/,Qj=/(^|[^`])`([^`]+)`(?!`)/g,Jj=yr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",qt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[xo({find:Wj,type:this.type})]},addPasteRules(){return[So({find:Qj,type:this.type})]}}),Zj=/^```([a-z]+)?[\s\n]$/,e7=/^~~~([a-z]+)?[\s\n]$/,t7=Jt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,a=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",qt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type)return!1;const a=i.parentOffset===i.parent.nodeSize-2,l=i.parent.textContent.endsWith(`

`);return!a||!l?!1:t.chain().command(({tr:c})=>(c.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:s,empty:a}=n;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:i.nodeAt(c)?t.commands.command(({tr:h})=>(h.setSelection(Ee.near(i.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[$p({find:Zj,type:this.type,getAttributes:t=>({language:t[1]})}),$p({find:e7,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Gt({key:new Vn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),s=i?JSON.parse(i):void 0,a=s==null?void 0:s.mode;if(!n||!a)return!1;const{tr:l,schema:c}=t.state,d=c.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:a},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(ye.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),n7=Jt.create({name:"doc",topNode:!0,content:"block+"});function i7(t={}){return new Gt({view(e){return new r7(e,t)}})}class r7{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=l=>{this[s](l)};return e.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i;if(n){let c=e.nodeBefore,d=e.nodeAfter;if(c||d){let h=this.editorView.nodeDOM(this.cursorPos-(c?c.nodeSize:0));if(h){let m=h.getBoundingClientRect(),g=c?m.bottom:m.top;c&&d&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),i={left:m.left,right:m.right,top:g-this.width/2,bottom:g+this.width/2}}}}if(!i){let c=this.editorView.coordsAtPos(this.cursorPos);i={left:c.left-this.width/2,right:c.left+this.width/2,top:c.top,bottom:c.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let a,l;if(!s||s==document.body&&getComputedStyle(s).position=="static")a=-pageXOffset,l=-pageYOffset;else{let c=s.getBoundingClientRect();a=c.left-s.scrollLeft,l=c.top-s.scrollTop}this.element.style.left=i.left-a+"px",this.element.style.top=i.top-l+"px",this.element.style.width=i.right-i.left+"px",this.element.style.height=i.bottom-i.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=i&&i.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!a){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=AT(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const s7=Lt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[i7(this.options)]}});class tt extends Ee{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return tt.valid(i)?new tt(i):Ee.near(i)}content(){return te.empty}eq(e){return e instanceof tt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new tt(e.resolve(n.pos))}getBookmark(){return new lg(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!o7(e)||!a7(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&tt.valid(e))return e;let s=e.pos,a=null;for(let l=e.depth;;l--){let c=e.node(l);if(n>0?e.indexAfter(l)<c.childCount:e.index(l)>0){a=c.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;s+=n;let d=e.doc.resolve(s);if(tt.valid(d))return d}for(;;){let l=n>0?a.firstChild:a.lastChild;if(!l){if(a.isAtom&&!a.isText&&!de.isSelectable(a)){e=e.doc.resolve(s+a.nodeSize*n),i=!1;continue e}break}a=l,s+=n;let c=e.doc.resolve(s);if(tt.valid(c))return c}return null}}}tt.prototype.visible=!1;tt.findFrom=tt.findGapCursorFrom;Ee.jsonID("gapcursor",tt);class lg{constructor(e){this.pos=e}map(e){return new lg(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return tt.valid(n)?new tt(n):Ee.near(n)}}function o7(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function a7(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function l7(){return new Gt({props:{decorations:d7,createSelectionBetween(t,e,n){return e.pos==n.pos&&tt.valid(n)?new tt(n):null},handleClick:c7,handleKeyDown:u7,handleDOMEvents:{beforeinput:f7}}})}const u7=pE({ArrowLeft:$u("horiz",-1),ArrowRight:$u("horiz",1),ArrowUp:$u("vert",-1),ArrowDown:$u("vert",1)});function $u(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,s,a){let l=i.selection,c=e>0?l.$to:l.$from,d=l.empty;if(l instanceof ye){if(!a.endOfTextblock(n)||c.depth==0)return!1;d=!1,c=i.doc.resolve(e>0?c.after():c.before())}let h=tt.findGapCursorFrom(c,e,d);return h?(s&&s(i.tr.setSelection(new tt(h))),!0):!1}}function c7(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!tt.valid(i))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&de.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new tt(i))),!0)}function f7(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof tt))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let s=Y.empty;for(let l=i.length-1;l>=0;l--)s=Y.from(i[l].createAndFill(null,s));let a=t.state.tr.replace(n.pos,n.pos,new te(s,0,0));return a.setSelection(ye.near(a.doc.resolve(n.pos+1))),t.dispatch(a),!1}function d7(t){if(!(t.selection instanceof tt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",at.create(t.doc,[ln.widget(t.selection.head,e,{key:"gapcursor"})])}const h7=Lt.create({name:"gapCursor",addProseMirrorPlugins(){return[l7()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=we(oe(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),p7=Jt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",qt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:a}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=i.extensionManager,d=a||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&l){const g=d.filter(b=>c.includes(b.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),ug=Jt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,qt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>$p({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Mc=200,vt=function(){};vt.prototype.append=function(e){return e.length?(e=vt.from(e),!this.length&&e||e.length<Mc&&this.leafAppend(e)||this.length<Mc&&e.leafPrepend(this)||this.appendInner(e)):this};vt.prototype.prepend=function(e){return e.length?vt.from(e).append(this):this};vt.prototype.appendInner=function(e){return new m7(this,e)};vt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?vt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};vt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};vt.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};vt.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var s=[];return this.forEach(function(a,l){return s.push(e(a,l))},n,i),s};vt.from=function(e){return e instanceof vt?e:e&&e.length?new IE(e):vt.empty};var IE=function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new e(this.values.slice(s,a))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,a,l,c){for(var d=a;d<l;d++)if(s(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,a,l,c){for(var d=a-1;d>=l;d--)if(s(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Mc)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Mc)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(vt);vt.empty=new IE([]);var m7=function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,s,a,l){var c=this.left.length;if(s<c&&this.left.forEachInner(i,s,Math.min(a,c),l)===!1||a>c&&this.right.forEachInner(i,Math.max(s-c,0),Math.min(this.length,a)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,l){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(i,s-c,Math.max(a,c)-c,l+c)===!1||a<c&&this.left.forEachInvertedInner(i,Math.min(s,c),a,l)===!1)return!1},e.prototype.sliceInner=function(i,s){if(i==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(i,s):i>=a?this.right.slice(i-a,s-a):this.left.slice(i,a).append(this.right.slice(0,s-a))},e.prototype.leafAppend=function(i){var s=this.right.leafAppend(i);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(i){var s=this.left.leafPrepend(i);if(s)return new e(s,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(vt);const g7=500;class Ln{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let s,a;n&&(s=this.remapping(i,this.items.length),a=s.maps.length);let l=e.tr,c,d,h=[],m=[];return this.items.forEach((g,b)=>{if(!g.step){s||(s=this.remapping(i,b+1),a=s.maps.length),a--,m.push(g);return}if(s){m.push(new qn(g.map));let v=g.step.map(s.slice(a)),x;v&&l.maybeStep(v).doc&&(x=l.mapping.maps[l.mapping.maps.length-1],h.push(new qn(x,void 0,void 0,h.length+m.length))),a--,x&&s.appendMap(x,a)}else l.maybeStep(g.step);if(g.selection)return c=s?g.selection.map(s.slice(a)):g.selection,d=new Ln(this.items.slice(0,i).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:c}}addTransform(e,n,i,s){let a=[],l=this.eventCount,c=this.items,d=!s&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let g=e.steps[m].invert(e.docs[m]),b=new qn(e.mapping.maps[m],g,n),v;(v=d&&d.merge(b))&&(b=v,m?a.pop():c=c.slice(0,c.length-1)),a.push(b),n&&(l++,n=void 0),s||(d=b)}let h=l-i.depth;return h>b7&&(c=y7(c,h),l-=h),new Ln(c.append(a),l)}remapping(e,n){let i=new uo;return this.items.forEach((s,a)=>{let l=s.mirrorOffset!=null&&a-s.mirrorOffset>=e?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,l)},e,n),i}addMaps(e){return this.eventCount==0?this:new Ln(this.items.append(e.map(n=>new qn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],s=Math.max(0,this.items.length-n),a=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(b=>{b.selection&&c--},s);let d=n;this.items.forEach(b=>{let v=a.getMirror(--d);if(v==null)return;l=Math.min(l,v);let x=a.maps[v];if(b.step){let E=e.steps[v].invert(e.docs[v]),C=b.selection&&b.selection.map(a.slice(d+1,v));C&&c++,i.push(new qn(x,E,C))}else i.push(new qn(x))},s);let h=[];for(let b=n;b<l;b++)h.push(new qn(a.maps[b]));let m=this.items.slice(0,s).append(h).append(i),g=new Ln(m,c);return g.emptyItemCount()>g7&&(g=g.compress(this.items.length-i.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,s=[],a=0;return this.items.forEach((l,c)=>{if(c>=e)s.push(l),l.selection&&a++;else if(l.step){let d=l.step.map(n.slice(i)),h=d&&d.getMap();if(i--,h&&n.appendMap(h,i),d){let m=l.selection&&l.selection.map(n.slice(i));m&&a++;let g=new qn(h.invert(),d,m),b,v=s.length-1;(b=s.length&&s[v].merge(g))?s[v]=b:s.push(g)}}else l.map&&i--},this.items.length,0),new Ln(vt.from(s.reverse()),a)}}Ln.empty=new Ln(vt.empty,0);function y7(t,e){let n;return t.forEach((i,s)=>{if(i.selection&&e--==0)return n=s,!1}),t.slice(n)}class qn{constructor(e,n,i,s){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new qn(n.getMap().invert(),n,this.selection)}}}class ir{constructor(e,n,i,s,a){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=s,this.prevComposition=a}}const b7=20;function v7(t,e,n,i){let s=n.getMeta(us),a;if(s)return s.historyState;n.getMeta(T7)&&(t=new ir(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(us))return l.getMeta(us).redo?new ir(t.done.addTransform(n,void 0,i,tc(e)),t.undone,Vx(n.mapping.maps),t.prevTime,t.prevComposition):new ir(t.done,t.undone.addTransform(n,void 0,i,tc(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-i.newGroupDelay||!x7(n,t.prevRanges)),h=l?Xh(t.prevRanges,n.mapping):Vx(n.mapping.maps);return new ir(t.done.addTransform(n,d?e.selection.getBookmark():void 0,i,tc(e)),Ln.empty,h,n.time,c??t.prevComposition)}else return(a=n.getMeta("rebased"))?new ir(t.done.rebased(n,a),t.undone.rebased(n,a),Xh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ir(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Xh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function x7(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,s)=>{for(let a=0;a<e.length;a+=2)i<=e[a+1]&&s>=e[a]&&(n=!0)}),n}function Vx(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,s,a,l)=>e.push(a,l));return e}function Xh(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let s=e.map(t[i],1),a=e.map(t[i+1],-1);s<=a&&n.push(s,a)}return n}function S7(t,e,n){let i=tc(e),s=us.get(e).spec.config,a=(n?t.undone:t.done).popEvent(e,i);if(!a)return null;let l=a.selection.resolve(a.transform.doc),c=(n?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),s,i),d=new ir(n?c:a.remaining,n?a.remaining:c,null,0,-1);return a.transform.setSelection(l).setMeta(us,{redo:n,historyState:d})}let Wh=!1,Px=null;function tc(t){let e=t.plugins;if(Px!=e){Wh=!1,Px=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Wh=!0;break}}return Wh}const us=new Vn("history"),T7=new Vn("closeHistory");function E7(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Gt({key:us,state:{init(){return new ir(Ln.empty,Ln.empty,null,0,-1)},apply(e,n,i){return v7(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,s=i=="historyUndo"?$E:i=="historyRedo"?qE:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function FE(t,e){return(n,i)=>{let s=us.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(i){let a=S7(s,n,t);a&&i(e?a.scrollIntoView():a)}return!0}}const $E=FE(!1,!0),qE=FE(!0,!0),C7=Lt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>$E(t,e),redo:()=>({state:t,dispatch:e})=>qE(t,e)}},addProseMirrorPlugins(){return[E7(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),w7=Jt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",qt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:i,$to:s}=n,a=t();return i.parentOffset===0?a.insertContentAt({from:Math.max(i.pos-1,0),to:s.pos},{type:this.name}):$8(n)?a.insertContentAt(s.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({tr:l,dispatch:c})=>{var d;if(c){const{$to:h}=l.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?l.setSelection(ye.create(l.doc,h.pos+1)):h.nodeAfter.isBlock?l.setSelection(de.create(l.doc,h.pos)):l.setSelection(ye.create(l.doc,h.pos));else{const g=(d=h.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();g&&(l.insert(m,g),l.setSelection(ye.create(l.doc,m+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Sj({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),M7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,k7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,A7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,O7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,D7=yr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",qt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[xo({find:M7,type:this.type}),xo({find:A7,type:this.type})]},addPasteRules(){return[So({find:k7,type:this.type}),So({find:O7,type:this.type})]}}),N7=Jt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",qt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),R7="listItem",Hx="textStyle",Ux=/^(\d+)\.\s$/,j7=Jt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",qt(this.options.HTMLAttributes,n),0]:["ol",qt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(R7,this.editor.getAttributes(Hx)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ll({find:Ux,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ll({find:Ux,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Hx)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),_7=Jt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",qt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),z7=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,L7=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,B7=yr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",qt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[xo({find:z7,type:this.type})]},addPasteRules(){return[So({find:L7,type:this.type})]}}),V7=Jt.create({name:"text",group:"inline"}),GE=Lt.create({name:"starterKit",addExtensions(){var t,e,n,i,s,a,l,c,d,h,m,g,b,v,x,E,C,M;const k=[];return this.options.bold!==!1&&k.push(Kj.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&k.push(Ij.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&k.push(Xj.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&k.push(Jj.configure((i=this.options)===null||i===void 0?void 0:i.code)),this.options.codeBlock!==!1&&k.push(t7.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&k.push(n7.configure((a=this.options)===null||a===void 0?void 0:a.document)),this.options.dropcursor!==!1&&k.push(s7.configure((l=this.options)===null||l===void 0?void 0:l.dropcursor)),this.options.gapcursor!==!1&&k.push(h7.configure((c=this.options)===null||c===void 0?void 0:c.gapcursor)),this.options.hardBreak!==!1&&k.push(p7.configure((d=this.options)===null||d===void 0?void 0:d.hardBreak)),this.options.heading!==!1&&k.push(ug.configure((h=this.options)===null||h===void 0?void 0:h.heading)),this.options.history!==!1&&k.push(C7.configure((m=this.options)===null||m===void 0?void 0:m.history)),this.options.horizontalRule!==!1&&k.push(w7.configure((g=this.options)===null||g===void 0?void 0:g.horizontalRule)),this.options.italic!==!1&&k.push(D7.configure((b=this.options)===null||b===void 0?void 0:b.italic)),this.options.listItem!==!1&&k.push(N7.configure((v=this.options)===null||v===void 0?void 0:v.listItem)),this.options.orderedList!==!1&&k.push(j7.configure((x=this.options)===null||x===void 0?void 0:x.orderedList)),this.options.paragraph!==!1&&k.push(_7.configure((E=this.options)===null||E===void 0?void 0:E.paragraph)),this.options.strike!==!1&&k.push(B7.configure((C=this.options)===null||C===void 0?void 0:C.strike)),this.options.text!==!1&&k.push(V7.configure((M=this.options)===null||M===void 0?void 0:M.text)),k}}),KE=Lt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Gt({key:new Vn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,s=[];if(!n)return null;const a=this.editor.isEmpty;return t.descendants((l,c)=>{const d=i>=c&&i<=c+l.nodeSize,h=!l.isLeaf&&Zc(l);if((d||!this.options.showOnlyCurrent)&&h){const m=[this.options.emptyNodeClass];a&&m.push(this.options.emptyEditorClass);const g=ln.node(c,c+l.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:d}):this.options.placeholder});s.push(g)}return this.options.includeChildren}),at.create(t,s)}}})]}}),YE=({content:t,setContent:e})=>{const n=UE({extensions:[GE,ug.configure({levels:[1,2,3]}),KE.configure({placeholder:"Kirjoita tähän..."})],content:t,onUpdate:({editor:s})=>{e(s.getHTML())}});if(!n)return null;const i=(s,a={})=>n.isActive(s,a)?"active":"";return T.jsxs("div",{className:"editor-container",children:[T.jsxs("div",{className:"toolbar",children:[T.jsx("button",{type:"button",className:i("bold"),onClick:()=>n.chain().focus().toggleBold().run(),children:T.jsx("b",{children:"B"})}),T.jsx("button",{type:"button",className:i("italic"),onClick:()=>n.chain().focus().toggleItalic().run(),children:T.jsx("i",{children:"I"})}),T.jsx("button",{type:"button",className:i("strike"),onClick:()=>n.chain().focus().toggleStrike().run(),children:T.jsx("s",{children:"S"})}),T.jsx("button",{type:"button",className:i("bulletList"),onClick:()=>n.chain().focus().toggleBulletList().run(),children:"•"}),T.jsx("button",{type:"button",className:i("orderedList"),onClick:()=>n.chain().focus().toggleOrderedList().run(),children:"1."}),T.jsx("button",{type:"button",className:i("heading",{level:2}),onClick:()=>n.chain().focus().setHeading({level:2}).run(),children:"H1"}),T.jsx("button",{type:"button",className:i("heading",{level:3}),onClick:()=>n.chain().focus().setHeading({level:3}).run(),children:"H2"}),T.jsx("button",{type:"button",onClick:()=>n.chain().focus().undo().run(),children:"↩"}),T.jsx("button",{type:"button",onClick:()=>n.chain().focus().redo().run(),children:"↪"})]}),T.jsx("div",{className:"editor-box",children:T.jsx(PE,{editor:n})})]})};var Qh={exports:{}},Jh,Ix;function P7(){if(Ix)return Jh;Ix=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jh=t,Jh}var Zh,Fx;function H7(){if(Fx)return Zh;Fx=1;var t=P7();function e(){}function n(){}return n.resetWarningCache=e,Zh=function(){function i(l,c,d,h,m,g){if(g!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Zh}var $x;function U7(){return $x||($x=1,Qh.exports=H7()()),Qh.exports}var I7=U7();const Cn=Xp(I7);var F7={grad:.9,turn:360,rad:360/(2*Math.PI)},vi=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},gt=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},On=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},XE=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},qx=function(t){return{r:On(t.r,0,255),g:On(t.g,0,255),b:On(t.b,0,255),a:On(t.a)}},ep=function(t){return{r:gt(t.r),g:gt(t.g),b:gt(t.b),a:gt(t.a,3)}},$7=/^#([0-9a-f]{3,8})$/i,qu=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},WE=function(t){var e=t.r,n=t.g,i=t.b,s=t.a,a=Math.max(e,n,i),l=a-Math.min(e,n,i),c=l?a===e?(n-i)/l:a===n?2+(i-e)/l:4+(e-n)/l:0;return{h:60*(c<0?c+6:c),s:a?l/a*100:0,v:a/255*100,a:s}},QE=function(t){var e=t.h,n=t.s,i=t.v,s=t.a;e=e/360*6,n/=100,i/=100;var a=Math.floor(e),l=i*(1-n),c=i*(1-(e-a)*n),d=i*(1-(1-e+a)*n),h=a%6;return{r:255*[i,c,l,l,d,i][h],g:255*[d,i,i,c,l,l][h],b:255*[l,l,d,i,i,c][h],a:s}},Gx=function(t){return{h:XE(t.h),s:On(t.s,0,100),l:On(t.l,0,100),a:On(t.a)}},Kx=function(t){return{h:gt(t.h),s:gt(t.s),l:gt(t.l),a:gt(t.a,3)}},Yx=function(t){return QE((n=(e=t).s,{h:e.h,s:(n*=((i=e.l)<50?i:100-i)/100)>0?2*n/(i+n)*100:0,v:i+n,a:e.a}));var e,n,i},$a=function(t){return{h:(e=WE(t)).h,s:(s=(200-(n=e.s))*(i=e.v)/100)>0&&s<200?n*i/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,n,i,s},q7=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,G7=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,K7=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Y7=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Gp={string:[[function(t){var e=$7.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?gt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?gt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=K7.exec(t)||Y7.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:qx({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=q7.exec(t)||G7.exec(t);if(!e)return null;var n,i,s=Gx({h:(n=e[1],i=e[2],i===void 0&&(i="deg"),Number(n)*(F7[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Yx(s)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,i=t.b,s=t.a,a=s===void 0?1:s;return vi(e)&&vi(n)&&vi(i)?qx({r:Number(e),g:Number(n),b:Number(i),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,n=t.s,i=t.l,s=t.a,a=s===void 0?1:s;if(!vi(e)||!vi(n)||!vi(i))return null;var l=Gx({h:Number(e),s:Number(n),l:Number(i),a:Number(a)});return Yx(l)},"hsl"],[function(t){var e=t.h,n=t.s,i=t.v,s=t.a,a=s===void 0?1:s;if(!vi(e)||!vi(n)||!vi(i))return null;var l=function(c){return{h:XE(c.h),s:On(c.s,0,100),v:On(c.v,0,100),a:On(c.a)}}({h:Number(e),s:Number(n),v:Number(i),a:Number(a)});return QE(l)},"hsv"]]},Xx=function(t,e){for(var n=0;n<e.length;n++){var i=e[n][0](t);if(i)return[i,e[n][1]]}return[null,void 0]},X7=function(t){return typeof t=="string"?Xx(t.trim(),Gp.string):typeof t=="object"&&t!==null?Xx(t,Gp.object):[null,void 0]},tp=function(t,e){var n=$a(t);return{h:n.h,s:On(n.s+100*e,0,100),l:n.l,a:n.a}},np=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Wx=function(t,e){var n=$a(t);return{h:n.h,s:n.s,l:On(n.l+100*e,0,100),a:n.a}},Kp=function(){function t(e){this.parsed=X7(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return gt(np(this.rgba),2)},t.prototype.isDark=function(){return np(this.rgba)<.5},t.prototype.isLight=function(){return np(this.rgba)>=.5},t.prototype.toHex=function(){return e=ep(this.rgba),n=e.r,i=e.g,s=e.b,l=(a=e.a)<1?qu(gt(255*a)):"","#"+qu(n)+qu(i)+qu(s)+l;var e,n,i,s,a,l},t.prototype.toRgb=function(){return ep(this.rgba)},t.prototype.toRgbString=function(){return e=ep(this.rgba),n=e.r,i=e.g,s=e.b,(a=e.a)<1?"rgba("+n+", "+i+", "+s+", "+a+")":"rgb("+n+", "+i+", "+s+")";var e,n,i,s,a},t.prototype.toHsl=function(){return Kx($a(this.rgba))},t.prototype.toHslString=function(){return e=Kx($a(this.rgba)),n=e.h,i=e.s,s=e.l,(a=e.a)<1?"hsla("+n+", "+i+"%, "+s+"%, "+a+")":"hsl("+n+", "+i+"%, "+s+"%)";var e,n,i,s,a},t.prototype.toHsv=function(){return e=WE(this.rgba),{h:gt(e.h),s:gt(e.s),v:gt(e.v),a:gt(e.a,3)};var e},t.prototype.invert=function(){return Mn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Mn(tp(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Mn(tp(this.rgba,-e))},t.prototype.grayscale=function(){return Mn(tp(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Mn(Wx(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Mn(Wx(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Mn({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):gt(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=$a(this.rgba);return typeof e=="number"?Mn({h:e,s:n.s,l:n.l,a:n.a}):gt(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Mn(e).toHex()},t}(),Mn=function(t){return t instanceof Kp?t:new Kp(t)},Qx=[],W7=function(t){t.forEach(function(e){Qx.indexOf(e)<0&&(e(Kp,Gp),Qx.push(e))})};function Q7(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var s in n)i[n[s]]=s;var a={};t.prototype.toName=function(l){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,d,h=i[this.toHex()];if(h)return h;if(l!=null&&l.closest){var m=this.toRgb(),g=1/0,b="black";if(!a.length)for(var v in n)a[v]=new t(n[v]).toRgb();for(var x in n){var E=(c=m,d=a[x],Math.pow(c.r-d.r,2)+Math.pow(c.g-d.g,2)+Math.pow(c.b-d.b,2));E<g&&(g=E,b=x)}return b}},e.string.push([function(l){var c=l.toLowerCase(),d=c==="transparent"?"#0000":n[c];return d?new t(d).toRgb():null},"name"])}var J7={"3d":Q.createElement("path",{d:"M18 14.625V3.375L9 0 0 3.375v11.25L9 18l9-3.375zM9 2.136l5.918 2.22-5.98 2.242-5.919-2.22L9 2.137zM2 13.239V5.065l6.438 2.414v8.174L2 13.24zM9.438 15.7L16 13.239V5.018l-6.563 2.46V15.7z",transform:"translate(15 10)",fillRule:"evenodd"}),acrobat:Q.createElement("path",{d:"M10.15 1.095C9.938.33 9.42-.051 8.984.005c-.528.068-1.09.382-1.314.876-.63 1.416.685 5.582.887 6.279-1.28 3.863-5.66 11.5-7.806 12.017-.045-.505.225-1.965 3.055-3.785.146-.157.315-.348.393-.472-2.392 1.168-5.492 3.044-3.628 4.448.102.079.259.146.439.213 1.426.528 3.425-1.201 5.435-5.121 2.213-.73 3.999-1.28 6.526-1.662 2.762 1.875 4.616 2.257 5.874 1.774.348-.135.898-.573 1.055-1.145-1.022 1.258-3.414.382-5.323-.82 1.763-.191 3.582-.303 4.369-.056 1 .314.965.808.954.876.079-.27.191-.708-.022-1.056-.842-1.37-4.706-.573-6.11-.427-2.212-1.336-3.74-3.717-4.358-5.436.573-2.212 1.19-3.818.742-5.413zm-.954 4.638C8.826 4.42 8.309 1.5 9.14.556c1.628.932.618 3.144.056 5.177zm3.044 6.514c-2.134.393-3.583.944-5.66 1.764.617-1.202 1.785-4.268 2.346-6.29.787 1.573 1.741 3.111 3.314 4.526z",transform:"translate(14 9)",fillRule:"evenodd"}),android:Q.createElement("path",{d:"M17.6,9.48l1.84-3.18c0.16-0.31,0.04-0.69-0.26-0.85c-0.29-0.15-0.65-0.06-0.83,0.22l-1.88,3.24 c-2.86-1.21-6.08-1.21-8.94,0L5.65,5.67c-0.19-0.29-0.58-0.38-0.87-0.2C4.5,5.65,4.41,6.01,4.56,6.3L6.4,9.48 C3.3,11.25,1.28,14.44,1,18h22C22.72,14.44,20.7,11.25,17.6,9.48z M7,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25S8.25,13.31,8.25,14C8.25,14.69,7.69,15.25,7,15.25z M17,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25s1.25,0.56,1.25,1.25C18.25,14.69,17.69,15.25,17,15.25z",transform:"translate(12 8)"}),audio:Q.createElement("path",{d:"M.25 4.75v4.5h3L7 13V1L3.25 4.75h-3zM10.375 7A3.375 3.375 0 0 0 8.5 3.977v6.037A3.355 3.355 0 0 0 10.375 7zM8.5.421v1.545A5.254 5.254 0 0 1 12.25 7a5.254 5.254 0 0 1-3.75 5.032v1.545A6.747 6.747 0 0 0 13.75 7 6.747 6.747 0 0 0 8.5.421z",transform:"translate(17 12)",fillRule:"evenodd"}),binary:Q.createElement("path",{d:"M2.338 6.112c1.192 0 1.928-1.072 1.928-2.68 0-1.56-.576-2.504-1.8-2.504C1.274.928.538 2 .538 3.608c0 1.56.576 2.504 1.8 2.504zM1.61 3.408c0-1.008.24-1.568.776-1.568.376 0 .616.336.728.888l-1.504.776v-.096zM2.418 5.2c-.368 0-.608-.32-.72-.856l1.496-.768v.056c0 1.008-.24 1.568-.776 1.568zm7.03.8l.088-.944H8.36V.896L7.272.984v.592l-1.184.112.024.824h1.16v2.544h-1.32V6zm5.199 0l.088-.944h-1.176V.896L12.47.984v.592l-1.184.112.024.824h1.16v2.544h-1.32V6zM4.25 14l.088-.944H3.162v-4.16l-1.088.088v.592L.89 9.688l.024.824h1.16v2.544H.754V14zm5.198 0l.088-.944H8.36v-4.16l-1.088.088v.592l-1.184.112.024.824h1.16v2.544h-1.32V14zm3.287.112c1.192 0 1.928-1.072 1.928-2.68 0-1.56-.576-2.504-1.8-2.504-1.192 0-1.928 1.072-1.928 2.68 0 1.56.576 2.504 1.8 2.504zm-.728-2.704c0-1.008.24-1.568.776-1.568.376 0 .616.336.728.888l-1.504.776v-.096zm.808 1.792c-.368 0-.608-.32-.72-.856l1.496-.768v.056c0 1.008-.24 1.568-.776 1.568z",transform:"translate(16 11)",fillRule:"evenodd"}),code:Q.createElement("path",{d:"M4.078 13.67c-1.875-.527-2.812-1.738-2.812-3.634V9.49C1.266 8.437.844 7.911 0 7.911V6.138c.844 0 1.266-.529 1.266-1.586v-.64c.015-.938.257-1.696.726-2.274C2.466 1.06 3.162.64 4.078.38l.492 1.375c-.656.25-.997.95-1.023 2.102v.695c0 1.167-.482 1.99-1.445 2.469.963.479 1.445 1.304 1.445 2.476v.688c.026 1.15.367 1.851 1.023 2.101l-.492 1.383zm7.844 0c1.875-.527 2.812-1.738 2.812-3.634V9.49c0-1.052.422-1.578 1.266-1.578V6.138c-.844 0-1.266-.529-1.266-1.586v-.64c-.015-.938-.257-1.696-.726-2.274-.474-.578-1.17-.998-2.086-1.258l-.492 1.375c.656.25.997.95 1.023 2.102v.695c0 1.167.482 1.99 1.445 2.469-.963.479-1.445 1.304-1.445 2.476v.688c-.026 1.15-.367 1.851-1.023 2.101l.492 1.383z",transform:"translate(16 13)",fillRule:"evenodd"}),code2:Q.createElement("path",{d:"M7.4 10.6L2.8 6l4.6-4.6L6 0 0 6l6 6 1.4-1.4zm5.2 0L17.2 6l-4.6-4.6L14 0l6 6-6 6-1.4-1.4z",transform:"translate(14 14)",fillRule:"evenodd"}),compressed:Q.createElement("path",{d:"M.25 0A.25.25 0 0 0 0 .25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 1.75V.25A.25.25 0 0 0 1.75 0H.25zM1 17a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H1zm0 4v3h2v-3H1zM2 2.25A.25.25 0 0 1 2.25 2h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 3.75v-1.5zM.25 4a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 5.75v-1.5A.25.25 0 0 0 1.75 4H.25zM2 6.25A.25.25 0 0 1 2.25 6h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 7.75v-1.5zM.25 8a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 9.75v-1.5A.25.25 0 0 0 1.75 8H.25zM2 10.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5zM.25 12a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5a.25.25 0 0 0 .25-.25v-1.5a.25.25 0 0 0-.25-.25H.25zM2 14.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5z",transform:"translate(15 1)",fillRule:"evenodd"}),document:Q.createElement("path",{d:"M12 4H0v2h12V4zM0 10h18V8H0v2zM0 0v2h18V0H0z",transform:"translate(15 15)",fillRule:"evenodd"}),drive:Q.createElement("path",{d:"M2.199.289A.5.5 0 0 1 2.652 0h8.696a.5.5 0 0 1 .453.289l1.867 4a.5.5 0 0 1-.453.711H.785a.5.5 0 0 1-.453-.711l1.867-4zM13 6H1a.752.752 0 0 0-.75.75v4.5c0 .412.338.75.75.75h12c.412 0 .75-.338.75-.75v-4.5A.752.752 0 0 0 13 6zm-9.75 4.5c-.825 0-1.5-.675-1.5-1.5s.675-1.5 1.5-1.5 1.5.675 1.5 1.5-.675 1.5-1.5 1.5z",transform:"translate(17 13)",fillRule:"evenodd"}),font:Q.createElement("path",{d:"M3.722 8.702l-.686 1.89c-.053.14-.094.28-.123.421-.03.135-.044.252-.044.352 0 .304.097.527.29.668.2.14.501.21.905.21h.414V13H.083v-.756h.343c.176 0 .325-.018.448-.053a.81.81 0 0 0 .334-.22c.1-.105.193-.249.281-.43.094-.182.197-.416.308-.704L5.787.15h1.406l4.07 11.136c.07.187.14.343.21.466.077.123.165.222.264.298.1.07.214.12.343.15.129.03.281.044.457.044h.237V13H7.826v-.756h.413c.72 0 1.081-.287 1.081-.862 0-.1-.014-.202-.044-.307a3.274 3.274 0 0 0-.105-.36l-.72-2.013H3.72zM7.009 4.65c-.188-.533-.36-1.031-.519-1.494a15.92 15.92 0 0 1-.378-1.354 7.12 7.12 0 0 1-.15.633 16.95 16.95 0 0 1-.395 1.283c-.082.229-.175.484-.28.765L4.063 7.796h4.061L7.009 4.65zm8.411 5.74c0 .562.117.984.351 1.265.24.275.61.413 1.108.413.363 0 .691-.059.984-.176.3-.117.551-.284.756-.5.211-.218.372-.481.483-.792.112-.31.168-.656.168-1.037V8.104l-1.152.053c-.51.023-.937.088-1.283.193-.34.1-.615.243-.826.43a1.546 1.546 0 0 0-.457.678c-.088.27-.132.58-.132.931zm2.18-6.32c-.346 0-.627.05-.844.15a1.182 1.182 0 0 0-.501.404 1.594 1.594 0 0 0-.237.624c-.041.24-.062.5-.062.782-.498 0-.879-.085-1.143-.255-.257-.17-.386-.463-.386-.879 0-.31.085-.574.255-.79.17-.218.401-.393.694-.528.299-.14.644-.243 1.037-.308a7.76 7.76 0 0 1 1.257-.097c.55 0 1.031.056 1.441.167.41.106.753.282 1.029.528.275.246.48.568.615.967.14.392.21.876.21 1.45v4.667c0 .252.021.46.062.624a.928.928 0 0 0 .194.395c.088.1.202.17.343.211.146.041.319.062.518.062h.053V13H19.7l-.281-1.547h-.15c-.187.252-.369.483-.544.694-.176.211-.37.393-.58.545-.211.152-.452.27-.721.352a3.053 3.053 0 0 1-.958.131c-.399 0-.77-.058-1.116-.175a2.369 2.369 0 0 1-.888-.519 2.516 2.516 0 0 1-.58-.896c-.14-.364-.211-.791-.211-1.284 0-.955.34-1.664 1.02-2.127.68-.462 1.707-.714 3.084-.755l1.495-.053V6.285a6.93 6.93 0 0 0-.053-.888 1.778 1.778 0 0 0-.229-.703 1.14 1.14 0 0 0-.51-.457c-.216-.111-.51-.167-.878-.167z",transform:"translate(13 12)",fillRule:"evenodd"}),image:Q.createElement("path",{d:"M13 0L9.25 5l2.85 3.8-1.6 1.2C8.81 7.75 6 4 6 4l-6 8h22L13 0z",transform:"translate(13 14)",fillRule:"evenodd"}),presentation:Q.createElement("path",{d:"M2 4H0v10c0 1.1.9 2 2 2h14v-2H2V4zm16-4H6C4.9 0 4 .9 4 2v8c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm0 10H6V2h12v8z",transform:"matrix(-1 0 0 1 34 12)",fillRule:"evenodd"}),settings:Q.createElement("path",{d:"M13.572 8.735c.03-.24.053-.48.053-.735s-.023-.495-.053-.735l1.583-1.237a.378.378 0 0 0 .09-.48l-1.5-2.595a.377.377 0 0 0-.457-.165l-1.868.75a5.48 5.48 0 0 0-1.268-.735L9.868.815A.366.366 0 0 0 9.5.5h-3a.366.366 0 0 0-.367.315l-.285 1.988a5.762 5.762 0 0 0-1.268.735l-1.868-.75a.366.366 0 0 0-.457.165l-1.5 2.595a.37.37 0 0 0 .09.48l1.583 1.237c-.03.24-.053.488-.053.735 0 .248.022.495.053.735L.845 9.973a.378.378 0 0 0-.09.48l1.5 2.595c.09.165.292.225.458.165l1.867-.75c.39.3.81.547 1.268.735l.285 1.987c.022.18.18.315.367.315h3a.366.366 0 0 0 .367-.315l.285-1.988a5.762 5.762 0 0 0 1.268-.734l1.867.75c.173.067.368 0 .458-.165l1.5-2.595a.378.378 0 0 0-.09-.48l-1.582-1.238zM8 10.625A2.628 2.628 0 0 1 5.375 8 2.628 2.628 0 0 1 8 5.375 2.628 2.628 0 0 1 10.625 8 2.628 2.628 0 0 1 8 10.625z",transform:"translate(16 11)",fillRule:"evenodd"}),spreadsheet:Q.createElement("path",{d:"M0 8h6V5H0v3zm0 5h6v-3H0v3zM0 3h6V0H0v3zm8 5h12V5H8v3zm0 5h12v-3H8v3zM8 0v3h12V0H8z",transform:"translate(14 14)",fillRule:"evenodd"}),vector:Q.createElement("path",{d:"M14.5 2V1a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v1H3.937a2 2 0 1 0 0 1h3.936A9 9 0 0 0 3 11v1h2v-1a7.003 7.003 0 0 1 4.594-6.576A1 1 0 0 0 10.5 5h3a1 1 0 0 0 .906-.576A7.003 7.003 0 0 1 19 11v1h2v-1a9 9 0 0 0-4.873-8h3.936a2 2 0 1 0 0-1H14.5zm-1-1h-3v3h3V1zM2 1.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm19 1a1 1 0 1 0 2 0 1 1 0 0 0-2 0z",transform:"translate(12 14)",fillRule:"evenodd"}),video:Q.createElement("path",{d:"M10.75 3.875V1.25A.752.752 0 0 0 10 .5H1a.752.752 0 0 0-.75.75v7.5c0 .412.338.75.75.75h9c.412 0 .75-.338.75-.75V6.125l3 3V.875l-3 3z",transform:"translate(17 14)"})};W7([Q7]);var Z7={color:Cn.string,extension:Cn.string,fold:Cn.bool,foldColor:Cn.string,glyphColor:Cn.string,gradientColor:Cn.string,gradientOpacity:Cn.number,labelColor:Cn.string,labelTextColor:Cn.string,labelUppercase:Cn.bool,radius:Cn.number,type:Cn.oneOf(["3d","acrobat","android","audio","binary","code","code2","compressed","document","drive","font","image","presentation","settings","spreadsheet","vector","video"])},kc={WIDTH:40,HEIGHT:48},ze={WIDTH:kc.WIDTH,HEIGHT:kc.HEIGHT,X_OFFSET:0},xi={HEIGHT:12},Jx=14,e_=Q.useId||function(){var t=0;return function(){return t++}}(),qa=function(e){var n=e.color,i=n===void 0?"whitesmoke":n,s=e.extension,a=e.fold,l=a===void 0?!0:a,c=e.foldColor,d=e.glyphColor,h=e.gradientColor,m=h===void 0?"white":h,g=e.gradientOpacity,b=g===void 0?.25:g,v=e.labelColor,x=e.labelTextColor,E=x===void 0?"white":x,C=e.labelUppercase,M=C===void 0?!1:C,k=e.radius,D=k===void 0?4:k,B=e.type,z=e_(),H=typeof jest>"u"?z:"";return Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+kc.WIDTH+" "+kc.HEIGHT,width:"100%",style:{maxWidth:"100%"}},Q.createElement("defs",null,Q.createElement("clipPath",{id:"pageRadius"+H},Q.createElement("rect",{x:ze.X_OFFSET,y:"0",rx:D,ry:D,width:ze.WIDTH,height:ze.HEIGHT})),Q.createElement("clipPath",{id:"foldCrop"+H},Q.createElement("rect",{width:ze.WIDTH,height:xi.HEIGHT,transform:"rotate(-45 0 "+xi.HEIGHT+")"})),Q.createElement("linearGradient",{x1:"100%",y1:"0%",y2:"100%",id:"pageGradient"+H},Q.createElement("stop",{stopColor:m,stopOpacity:b,offset:"0%"}),Q.createElement("stop",{stopColor:m,stopOpacity:"0",offset:"66.67%"}))),Q.createElement("g",{id:"file",clipPath:"url(#pageRadius"+H+")"},l?Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M"+ze.X_OFFSET+" 0 h "+(ze.WIDTH-xi.HEIGHT)+" L "+(ze.WIDTH+ze.X_OFFSET)+" "+xi.HEIGHT+" v "+(ze.HEIGHT-xi.HEIGHT)+" H "+ze.X_OFFSET+" Z",fill:i}),Q.createElement("path",{d:"M"+ze.X_OFFSET+" 0 h "+(ze.WIDTH-xi.HEIGHT)+" L "+(ze.WIDTH+ze.X_OFFSET)+" "+xi.HEIGHT+" v "+(ze.HEIGHT-xi.HEIGHT)+" H "+ze.X_OFFSET+" Z",fill:"url(#pageGradient"+H+")"})):Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:ze.X_OFFSET,y:"0",width:ze.WIDTH,height:ze.HEIGHT,fill:i}),Q.createElement("rect",{x:ze.X_OFFSET,y:"0",width:ze.WIDTH,height:ze.HEIGHT,fill:"url(#pageGradient"+H+")"}))),l&&Q.createElement("g",{transform:"translate(28 "+xi.HEIGHT+") rotate(-90)"},Q.createElement("rect",{width:ze.WIDTH,height:ze.HEIGHT,fill:c||Mn(i).darken(.1).toHex(),rx:D,ry:D,clipPath:"url(#foldCrop"+H+")"})),s&&Q.createElement(Q.Fragment,null,Q.createElement("g",{id:"label"+H},Q.createElement("rect",{fill:v||Mn(i).darken(.3).toHex(),x:ze.X_OFFSET,y:ze.HEIGHT-Jx,width:ze.WIDTH,height:Jx,clipPath:"url(#pageRadius"+H+")"})),Q.createElement("g",{id:"labelText"+H,transform:"translate("+ze.X_OFFSET+" 34)"},Q.createElement("text",{x:ze.WIDTH/2,y:"10",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif",fontSize:"9",fill:E,textAnchor:"middle",style:{fontWeight:"bold",textAlign:"center",pointerEvents:"none",textTransform:M?"uppercase":"none",userSelect:"none"}},s))),B&&Q.createElement("g",{transform:"translate(-4 "+(s?0:6)+")",fill:d||Mn(i).darken(.15).toHex()},J7[B]))};qa.propTypes=Z7;var nc={"3dm":{labelColor:"#8D1A11",type:"3d"},"3ds":{labelColor:"#5FB9AD",type:"3d"},"3g2":{type:"video"},"3gp":{type:"video"},"7zip":{type:"compressed"},aab:{type:"android",labelColor:"#3DDC84"},aac:{type:"audio"},aep:{type:"video"},ai:{color:"#423325",gradientOpacity:0,labelColor:"#423325",labelTextColor:"#FF7F18",labelUppercase:!0,foldColor:"#FF7F18",radius:2},aif:{type:"audio"},aiff:{type:"audio"},apk:{type:"android",labelColor:"#3DDC84"},apkm:{type:"android",labelColor:"#3DDC84"},apks:{type:"android",labelColor:"#3DDC84"},asf:{type:"video"},asp:{type:"code"},aspx:{type:"code"},avi:{type:"video"},bin:{type:"binary"},bmp:{type:"image"},c:{type:"code"},cpp:{type:"code"},cs:{type:"code"},css:{type:"code"},csv:{type:"spreadsheet"},cue:{type:"document"},dll:{type:"settings"},dmg:{type:"drive"},doc:{color:"#2C5898",foldColor:"#254A80",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#2C5898",labelUppercase:!0,type:"document"},docx:{color:"#2C5898",foldColor:"#254A80",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#2C5898",labelUppercase:!0,type:"document"},dwg:{type:"vector"},dxf:{type:"vector"},eot:{type:"font"},eps:{type:"vector"},exe:{type:"settings"},flac:{type:"audio"},flv:{type:"video"},fnt:{type:"font"},fodp:{type:"presentation"},fods:{type:"spreadsheet"},fodt:{type:"document"},fon:{type:"font"},gif:{type:"image"},gz:{type:"compressed"},heic:{type:"image"},htm:{type:"code"},html:{type:"code"},indd:{color:"#4B2B36",gradientOpacity:0,labelColor:"#4B2B36",labelTextColor:"#FF408C",labelUppercase:!0,foldColor:"#FF408C",radius:2},ini:{type:"settings"},java:{type:"code"},jpeg:{type:"image"},jpg:{type:"image"},js:{labelColor:"#F7DF1E",type:"code"},json:{type:"code"},jsx:{labelColor:"#00D8FF",type:"code"},m4a:{type:"audio"},m4v:{type:"video"},max:{labelColor:"#5FB9AD",type:"3d"},md:{type:"document"},mid:{type:"audio"},mkv:{type:"video"},mov:{type:"video"},mp3:{type:"audio"},mp4:{type:"video"},mpeg:{type:"video"},mpg:{type:"video"},obj:{type:"3d"},odp:{type:"presentation"},ods:{type:"spreadsheet"},odt:{type:"document"},ogg:{type:"audio"},ogv:{type:"video"},otf:{type:"font"},pdf:{labelColor:"#D93831",type:"acrobat"},php:{labelColor:"#8892BE",type:"code"},pkg:{type:"3d"},plist:{type:"settings"},png:{type:"image"},ppt:{color:"#D14423",foldColor:"#AB381D",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#D14423",labelUppercase:!0,type:"presentation"},pptx:{color:"#D14423",foldColor:"#AB381D",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#D14423",labelUppercase:!0,type:"presentation"},pr:{type:"video"},ps:{type:"vector"},psd:{color:"#34364E",gradientOpacity:0,labelColor:"#34364E",labelTextColor:"#31C5F0",labelUppercase:!0,foldColor:"#31C5F0",radius:2},py:{labelColor:"#FFDE57",type:"code"},rar:{type:"compressed"},rb:{labelColor:"#BB271A",type:"code"},rm:{type:"video"},rtf:{type:"document"},scss:{labelColor:"#C16A98",type:"code"},sitx:{type:"compressed"},skp:{type:"3d"},svg:{type:"vector"},swf:{type:"video"},sys:{type:"settings"},tar:{type:"compressed"},tex:{type:"document"},tif:{type:"image"},tiff:{type:"image"},ts:{labelColor:"#3478C7",type:"code"},ttf:{type:"font"},txt:{type:"document"},wav:{type:"audio"},webm:{type:"video"},wmv:{type:"video"},woff:{type:"font"},wpd:{type:"document"},wps:{type:"document"},xapk:{type:"android",labelColor:"#3DDC84"},xlr:{type:"spreadsheet"},xls:{color:"#1A754C",foldColor:"#16613F",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#1A754C",labelUppercase:!0,type:"spreadsheet"},xlsx:{color:"#1A754C",foldColor:"#16613F",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#1A754C",labelUppercase:!0,type:"spreadsheet"},yml:{type:"code"},zip:{type:"compressed"},zipx:{type:"compressed"}};function Yp(t){return Di({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function t_(t){return Di({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"},child:[]}]})(t)}const JE=({content:t,setContent:e})=>{const n=UE({extensions:[GE,ug.configure({levels:[1,2,3]}),KE.configure({placeholder:"Kirjoita tähän..."})],content:t,onUpdate:({editor:s})=>{e(s.getHTML())},editorProps:{attributes:{spellcheck:"false"}}});if(!n)return null;const i=(s,a={})=>n.isActive(s,a)?"active":"";return T.jsxs("div",{className:"editor-container",children:[T.jsxs("div",{className:"toolbar",children:[T.jsx("button",{type:"button",className:i("bold"),onClick:()=>n.chain().focus().toggleBold().run(),children:T.jsx("b",{children:"B"})}),T.jsx("button",{type:"button",className:i("italic"),onClick:()=>n.chain().focus().toggleItalic().run(),children:T.jsx("i",{children:"I"})}),T.jsx("button",{type:"button",className:i("strike"),onClick:()=>n.chain().focus().toggleStrike().run(),children:T.jsx("s",{children:"S"})}),T.jsx("button",{type:"button",className:i("bulletList"),onClick:()=>n.chain().focus().toggleBulletList().run(),children:"•"}),T.jsx("button",{type:"button",className:i("orderedList"),onClick:()=>n.chain().focus().toggleOrderedList().run(),children:"1."}),T.jsx("button",{type:"button",className:i("heading",{level:2}),onClick:()=>n.chain().focus().setHeading({level:2}).run(),children:"H1"}),T.jsx("button",{type:"button",className:i("heading",{level:3}),onClick:()=>n.chain().focus().setHeading({level:3}).run(),children:"H2"}),T.jsx("button",{type:"button",onClick:()=>n.chain().focus().undo().run(),children:"↩"}),T.jsx("button",{type:"button",onClick:()=>n.chain().focus().redo().run(),children:"↪"})]}),T.jsx("div",{className:"editor-box",children:T.jsx(PE,{editor:n})})]})},n_=({assignmentId:t,toggleSubmissionBox:e,updateSubmissions:n})=>{const{user:i}=br(),[s,a]=A.useState(""),[l,c]=A.useState([]);console.log("assignmentId",t),console.log("description",s),console.log("studentId",i==null?void 0:i.id);const d=g=>{var v;g.preventDefault();const b=document.querySelector('input[type="file"]');if(b){const x=(v=b.files)==null?void 0:v[0];x&&c([...l,x])}},h=async g=>{for(const b of l){const v=new FormData;v.append("file",b);try{const E=await(await fetch(`http://localhost:3000/upload/submission/${g}`,{method:"POST",body:v})).json();if(E.error)throw new Error(E.error);console.log(`File ${b.name} uploaded successfully`)}catch(x){console.error(`Error uploading file ${b.name}:`,x),alert(`Tiedoston ${b.name} lataus epäonnistui!`)}}},m=async g=>{var v;g.preventDefault();const b=new FormData;b.append("assignmentId",t.toString()),b.append("description",s),b.append("firstname",(i==null?void 0:i.firstname)||""),b.append("lastname",(i==null?void 0:i.lastname)||""),b.append("studentId",((v=i==null?void 0:i.id)==null?void 0:v.toString())||"");try{const E=await(await fetch("http://localhost:3000/submit-assignment",{method:"POST",body:b})).json();if(E.error)throw new Error(E.error);const C=E.submissionId;await h(C),console.log("assignmentId",t),n(),e()}catch(x){console.error("Error adding submission",x),alert("Palautuksen lisääminen epäonnistui!")}};return T.jsx(T.Fragment,{children:T.jsx("div",{className:"back-shadow",children:T.jsxs("form",{onSubmit:m,className:"submissionform",children:[T.jsx("h2",{style:{margin:"0"},children:"Lisää palautus"}),T.jsx("p",{style:{margin:"0",padding:"0",fontStyle:"italic"},children:"Palautusta voi muokata lisäämisen jälkeen."}),T.jsx("div",{style:{maxHeight:"10em",width:"100%"},children:T.jsx(JE,{content:s,setContent:a})}),T.jsxs("div",{className:"submission-file-manager",children:[l.length>0?T.jsx("form",{className:"file-form",children:T.jsxs("label",{className:"file-label",children:[T.jsx("h3",{children:"Liitä tiedosto palautukseen"}),T.jsx("input",{type:"file",name:"file",required:!0}),T.jsx("button",{type:"button",style:{padding:"0.5em"},onClick:d,children:"Lähetä"})]})}):T.jsx("form",{style:{marginTop:"11em"},className:"file-form",children:T.jsxs("label",{className:"file-label",children:[T.jsx("h3",{children:"Liitä tiedosto palautukseen"}),T.jsx("input",{type:"file",name:"file",required:!0}),T.jsx("button",{type:"button",style:{padding:"0.5em"},onClick:d,children:"Lähetä"})]})}),l.length>0&&T.jsxs("div",{className:"file-container",children:[T.jsx("h4",{children:"Liitetiedostot"}),T.jsx("ul",{style:l.length>3?{overflowY:"scroll"}:void 0,children:l.length>0&&l.map((g,b)=>{const v=g.name.split(".").pop(),x=nc[v]||{};return T.jsxs("li",{children:[T.jsx(qa,{extension:v,...x}),T.jsxs("p",{children:[" ",g.name.length>5?`${g.name.substring(0,7)}...`:g.name]}),T.jsx("button",{type:"button",style:{padding:"0.5em"},onClick:()=>{c(l.filter((E,C)=>C!==b))},children:T.jsx(Yp,{className:"add-submission-file-delete-icon"})})]})})})]})]}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",type:"button",onClick:e,children:"Peruuta"}),T.jsx("button",{type:"submit",children:"Lisää palautus"})]})]})})})},i_=({submissionId:t,description:e,toggleEditBox:n,updateSubmissions:i})=>{const[s,a]=A.useState(e),l=async c=>{c.preventDefault();try{const h=await(await fetch(`http://localhost:3000/update-submission/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:s})})).json();if(h.error)throw new Error(h.error);i(),n()}catch(d){console.error("Error updating submission",d),alert("Palautuksen päivittäminen epäonnistui!")}};return T.jsx(T.Fragment,{children:T.jsx("div",{className:"back-shadow",children:T.jsxs("form",{onSubmit:l,className:"edit-submission-form",children:[T.jsx("h2",{children:"Muokkaa palautusta"}),T.jsx("div",{className:"",style:{height:"15em",width:"100%"},children:T.jsx(JE,{content:s,setContent:a})}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",type:"button",onClick:n,children:"Peruuta"}),T.jsx("button",{type:"submit",children:"Tallenna"})]})]})})})},r_=({course:t,members:e,assignments:n,toggleAssignmentBox:i,toggleAddMembersBox:s,toggleRemoveMembersBox:a,onFileSubmit:l,courseFiles:c,deleteCourseFile:d,addFileToAssignment:h,assignmentFiles:m,deleteAssignmentFile:g,deleteAssignment:b})=>{const{user:v}=br(),[x,E]=A.useState(t.description);A.useEffect(()=>{const ee=setTimeout(()=>{E(t.description)},500);return()=>clearTimeout(ee)},[t.description]);const[C,M]=A.useState(!1),k=()=>{M(!C)},D=async()=>{try{if(!(await fetch(`http://localhost:3000/update-course/${t.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,description:x})})).ok)throw new Error("Failed to update course description")}catch(ee){console.error("Error updating course description",ee)}},B=Co(),z=async()=>{if(window.confirm("Poistettua kurssia ei voida palauttaa. Haluatko varmasti poistaa kurssin?"))try{if(!(await fetch(`http://localhost:3000/delete-course/${t.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete course");B("/dashboard")}catch(ee){console.error("Error deleting course",ee)}},[H,q]=A.useState(!1),$=()=>{q(!H)},[P,X]=A.useState(0),[re,Le]=A.useState(!1),$e=()=>{Le(!re)},ve=async ee=>{try{return await(await fetch(`http://localhost:3000/submissions/${ee}`)).json()}catch(ie){console.error("Error getting submissions for assignment",ie)}},[ae,K]=A.useState([]);A.useEffect(()=>{(async()=>{const ie=await Promise.all(n.map(async le=>{const ge=await ve(le.id);return console.log(`submissions for assignment ${le.title}`,ge),{id:le.id,submissions:ge}}));K(ie)})()},[n]);const J=async()=>{const ee=await Promise.all(n.map(async ie=>{const le=await ve(ie.id);return console.log(`submissions for assignment ${ie.title}`,le),{id:ie.id,submissions:le}}));K(ee)},Z=async ee=>{try{const ie=await fetch(`http://localhost:3000/files/submission/${ee}`);if(!ie.ok)throw new Error("Failed to fetch files");const le=await ie.json();return console.log("Files for submission",ee,le),le}catch(ie){return console.error("Error getting submission files",ie),[]}},[ke,N]=A.useState({});A.useEffect(()=>{if(!ae||ae.length===0)return;(async()=>{try{const le=(await Promise.all(ae.map(ge=>ge.submissions).flat().map(async ge=>{if(!ge)return{};const We=await Z(ge.id);return{[ge.id]:We}}))).reduce((ge,We)=>({...ge,...We}),{});N(le),console.log("Submission files object",le)}catch(ie){console.error("Error fetching submission files",ie)}})()},[ae]);const[W,he]=A.useState([]),fe=ee=>{he(ie=>ie.includes(ee)?ie.filter(le=>le!==ee):[...ie,ee])},ne=async ee=>{var We;const ie=document.querySelector('input[type="file"]');if(!ie)return;const le=(We=ie.files)==null?void 0:We[0];if(!le)return;const ge=new FormData;ge.append("file",le);try{const ut=await(await fetch(`http://localhost:3000/upload/submission/${ee}`,{method:"POST",body:ge})).json();if(ut.error)throw new Error(ut.error);console.log(`File ${le.name} uploaded successfully`);const Kt=await Z(ee);N(qe=>({...qe,[ee]:Kt}))}catch(xe){console.error(`Error uploading file ${le.name}:`,xe),alert(`Tiedoston ${le.name} lataus epäonnistui!`)}},Oe=async(ee,ie)=>{try{const le=await fetch(`http://localhost:3000/delete-submission-file/${ee}`,{method:"DELETE"});if(!le.ok)throw new Error(`Error: ${le.status} ${le.statusText}`);const ge=await Z(ie);N(We=>({...We,[ie]:ge}))}catch(le){console.error("Error deleting file",le),alert("Tiedoston poisto epäonnistui!")}},Se=async(ee,ie)=>{try{if(!(await fetch(`http://localhost:3000/update-submission-state/${ee}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({state:ie})})).ok)throw new Error("Failed to update submission state");J()}catch(le){console.error("Error updating submission state",le)}};return T.jsxs(Mt.div,{className:"course-content",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:.3},children:[T.jsxs("header",{className:"course-header",children:[T.jsx("h1",{children:t.name}),(v==null?void 0:v.role)==="teacher"&&T.jsxs("div",{className:"course-actions",children:[T.jsxs("button",{className:"add-course-button",onClick:i,children:[T.jsx(tT,{}),T.jsx("span",{children:"Lisää tehtävä"})]}),T.jsxs("button",{className:"add-members-button",onClick:s,children:[T.jsx(k4,{}),T.jsx("span",{children:"Lisää osallistujia"})]}),T.jsxs("button",{className:"delete-members-button",onClick:a,children:[T.jsx(A4,{})," ",T.jsx("span",{children:"Poista osallistujia"})]}),T.jsxs("button",{className:"delete-course-button",onClick:z,children:[T.jsx(Yp,{})," ",T.jsx("span",{children:"Poista kurssi"})]})]}),T.jsxs("div",{className:"course-subheader",children:[T.jsxs("div",{className:"course-description",style:(v==null?void 0:v.role)==="student"?{width:"70%"}:void 0,children:[C&&T.jsx(YE,{content:x,setContent:E}),T.jsx("div",{className:"description-content",children:!C&&T.jsx("div",{className:"saved-content",children:T.jsx("div",{dangerouslySetInnerHTML:{__html:x}})})}),(v==null?void 0:v.role)==="teacher"&&(C?T.jsx("button",{onClick:()=>{k(),D()},type:"button",children:"Tallenna"}):T.jsx("button",{style:{marginTop:"1em"},onClick:k,type:"button",children:"Muokkaa"}))]}),T.jsxs("div",{className:"file-section",children:[T.jsx("h3",{children:"Kurssin liitetiedostot"}),T.jsx("div",{className:"course-files",children:c.length>0?T.jsx("ul",{children:c.map(ee=>{var ge;const ie=((ge=ee.filename.split(".").pop())==null?void 0:ge.toLowerCase())||"",le=nc[ie]||{};return T.jsxs("li",{children:[T.jsx(qa,{extension:ie,...le}),T.jsx("a",{href:`http://localhost:3000/${ee.path}`,download:!0,children:ee.filename.length>5?`${ee.filename.substring(0,7)}...`:ee.filename}),(v==null?void 0:v.role)==="teacher"&&T.jsx("button",{onClick:()=>d(ee.id),children:"Poista"})]},ee.id)})}):T.jsx("p",{children:"Ei tiedostoja"})}),(v==null?void 0:v.role)==="teacher"&&T.jsx("form",{style:{padding:"1em"},className:"file-form",onSubmit:l,children:T.jsxs("label",{className:"file-label",children:[T.jsx("h3",{children:"Lisää tiedosto kursille"}),T.jsx("input",{type:"file",name:"file",required:!0}),T.jsx("button",{type:"submit",children:"Lähetä"})]})})]}),(v==null?void 0:v.role)==="teacher"&&T.jsxs("ul",{className:"course-members",children:[T.jsx("h3",{children:"Osallistujat"}),e.map(ee=>T.jsxs("li",{style:{gap:"0"},className:"member",children:[T.jsx("h4",{className:"member-name",children:`${ee.firstname} ${ee.lastname}`}),T.jsx("p",{style:{marginBottom:"0"},className:"member-email",children:ee.email})]},ee.id))]})]})]}),T.jsx("h2",{id:"assignments-title",children:"Tehtävät"}),T.jsx("ul",{className:"assignment-list",children:n.map(ee=>{var ie,le,ge,We;return T.jsx("li",{children:T.jsxs("div",{className:"assignment",children:[T.jsxs("div",{className:"assignment-info",children:[T.jsx("h2",{children:T.jsx("strong",{children:ee.title})}),T.jsx("div",{className:"assignment-desc",children:T.jsx("div",{dangerouslySetInnerHTML:{__html:ee.description}})})]}),((ie=m[ee.id])==null?void 0:ie.length)>0&&T.jsxs("div",{className:"assignment-files",children:[T.jsx("h3",{children:"Tehtävän liitetiedostot"}),T.jsx("ul",{children:(m[ee.id]||[]).map(xe=>{const ut=xe.filename.split(".").pop(),Kt=nc[ut]||{};return T.jsxs("li",{children:[T.jsx(qa,{extension:ut,...Kt}),T.jsx("a",{href:`http://localhost:3000/${xe.path}`,download:!0,children:xe.filename.length>5?`${xe.filename.substring(0,7)}...`:xe.filename}),(v==null?void 0:v.role)==="teacher"&&T.jsx("button",{type:"button",onClick:()=>g(xe.id,ee.id),children:"Poista"})]},xe.id)})})]}),(v==null?void 0:v.role)==="teacher"&&T.jsx("form",{className:"assignment-file-form",onSubmit:xe=>h(ee.id,xe),children:T.jsxs("label",{children:[T.jsx("h4",{children:"Lisää tiedosto tehtävään"}),T.jsx("input",{type:"file",name:"file",required:!0}),T.jsx("button",{type:"submit",children:"Lähetä"})]})}),((v==null?void 0:v.role)==="teacher"||(v==null?void 0:v.role)==="student")&&(ae??[]).length>0&&T.jsxs(T.Fragment,{children:[(((ge=(le=ae.find(xe=>xe.id===ee.id))==null?void 0:le.submissions)==null?void 0:ge.length)||0)>0&&T.jsx("h3",{children:(v==null?void 0:v.role)==="teacher"?"Palautukset":"Oma palautus"}),T.jsx("ul",{style:{listStyle:"none",padding:0,display:"flex",flexDirection:"column",gap:"1em"},children:(((We=ae.find(xe=>xe.id===ee.id))==null?void 0:We.submissions)||[]).filter(xe=>(v==null?void 0:v.role)==="student"?xe.studentId===v.id:!0).map(xe=>{var Kt;const ut=W.includes(xe.id);return T.jsxs("li",{className:`submission-item ${ut?"open":"closed"}`,style:{background:"var(--aliceblue)",padding:"0.5em",borderRadius:"15px",width:"fit-content"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"fit-content",cursor:"pointer"},onClick:()=>fe(xe.id),children:[T.jsxs("h3",{style:{margin:0},children:[xe.firstname," ",xe.lastname]}),T.jsx("span",{style:{transform:ut?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s ease",paddingLeft:".5em",scale:1.3,color:"var(--black)"},children:"➤"})]}),(v==null?void 0:v.role)==="teacher"&&T.jsx(T.Fragment,{children:T.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",gap:".5em"},children:[T.jsx("p",{children:"Palautuksen tila: "}),T.jsxs("select",{style:{fontSize:"1em",padding:".5em",borderRadius:"15px",border:"2px solid black",width:"fit-content",backgroundColor:xe.state==="accepted"?"var(--lightgreen)":"var(--white)",color:(xe.state==="accepted","var(--black)")},value:xe.state,onChange:qe=>Se(xe.id,qe.target.value),children:[T.jsx("option",{value:"submitted",children:"Palautettu"}),T.jsx("option",{value:"accepted",children:"Suoritettu"})]})]})}),(v==null?void 0:v.role)==="student"&&T.jsx("p",{children:xe.state==="accepted"?T.jsxs("span",{style:{display:"flex",alignItems:"center",fontSize:"1.1em",background:"aliceblue",padding:".5em",borderRadius:"15px",fontWeight:"bold",marginTop:".5em",width:"fit-content"},children:[T.jsx(t_,{style:{scale:.7,color:"var(--emerald)"}}),"Suoritettu"]}):null}),ut&&T.jsxs("div",{className:"submission-content",style:{marginTop:"1em"},children:[T.jsx("div",{style:{background:"white",borderRadius:"15px",padding:"1em",boxShadow:" 0 0 5px rgba(0, 0, 0, 0.1)"},dangerouslySetInnerHTML:{__html:xe.description}}),T.jsxs("div",{children:[((Kt=ke[xe.id])==null?void 0:Kt.length)>0&&T.jsx("h4",{style:{paddingLeft:".2em",paddingTop:".5em"},children:"Palautuksen liitetiedostot"}),T.jsx("ul",{className:"submission-files",children:ke[xe.id]&&ke[xe.id].map(qe=>{var Er;if(!qe||!qe.filename)return null;const ei=((Er=qe.filename.split(".").pop())==null?void 0:Er.toLowerCase())||"",Ao=nc[ei]||{};return T.jsxs("li",{className:"submission-file",children:[T.jsx(qa,{extension:ei,...Ao}),T.jsx("a",{href:`http://localhost:3000/${qe.path}`,download:!0,children:qe.filename.length>5?`${qe.filename.substring(0,7)}...`:qe.filename}),(v==null?void 0:v.role)==="student"&&T.jsx("button",{onClick:()=>Oe(qe.id,xe.id),style:{backgroundColor:"var(--bittersweet)",padding:"0.5em"},children:"Poista"})]},qe.id)})}),(v==null?void 0:v.role)==="student"&&T.jsx("div",{className:"submission-file-form",children:T.jsx("form",{onSubmit:qe=>{qe.preventDefault(),ne(xe.id)},children:T.jsxs("label",{children:[T.jsx("h4",{children:"Liitä tiedosto palautukseen"}),T.jsx("input",{type:"file",name:"file",required:!0}),T.jsx("button",{type:"submit",children:"Lähetä"})]})})})]})]})]},xe.id)})}),(v==null?void 0:v.role)==="teacher"&&T.jsxs("button",{style:{alignSelf:"end",padding:"0.5em",background:"var(--bittersweet)"},type:"button",onClick:()=>b(ee.id),children:[T.jsx("span",{children:T.jsx(Yp,{})}),T.jsx("p",{children:"Poista tehtävä"})]})]}),(v==null?void 0:v.role)==="student"&&(()=>{var Kt;return(((Kt=ae.find(qe=>qe.id===ee.id))==null?void 0:Kt.submissions)||[]).some(qe=>qe.studentId===v.id)?T.jsx("button",{style:{alignSelf:"start",padding:"0.5em",background:"var(--lightgreen)"},type:"button",onClick:()=>{$e(),X(ee.id)},children:T.jsx("p",{children:"Muokkaa palautusta"})}):T.jsx("button",{style:{alignSelf:"start",padding:"0.5em",background:"var(--lightgreen)"},type:"button",onClick:()=>{$(),X(ee.id)},children:T.jsx("p",{children:"Lisää palautus"})})})()]})},ee.id)})}),H&&T.jsx(n_,{assignmentId:P,toggleSubmissionBox:$,updateSubmissions:J}),re&&(()=>{var ie;const ee=(ie=ae.find(le=>le.id===P))==null?void 0:ie.submissions.find(le=>le.studentId===(v==null?void 0:v.id));return ee!=null&&ee.id?T.jsx(i_,{submissionId:ee.id,description:ee.description||"",toggleEditBox:$e,updateSubmissions:J}):null})()]})},s_=({courseId:t,onAssignmentAdded:e,toggleAssignmentBox:n})=>{const[i,s]=A.useState(""),[a,l]=A.useState(""),c=async m=>{m.preventDefault();const g={title:i,description:a,courseId:t};try{const v=await(await fetch("http://localhost:3000/add-assignment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).json();v.success?(_e.success("Uusi tehtävä lisätty onnistuneesti!",{position:"bottom-center",autoClose:2500,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{console.log("Assignment added:",v),s(""),l(""),n(),e()},3e3)):alert("Failed to add assignment.")}catch(b){console.error("Error adding assignment:",b)}},[d,h]=A.useState("");return A.useEffect(()=>{h(i)},[i]),T.jsx(T.Fragment,{children:T.jsxs("div",{className:"back-shadow",children:[T.jsxs("form",{className:"assignmentform",onSubmit:c,children:[d.length>0?T.jsxs("h2",{children:["Lisää uusi tehtävä: ",d]}):T.jsx("h2",{children:"Lisää uusi tehtävä"}),T.jsxs("label",{children:[T.jsx("span",{children:"Otsikko:"}),T.jsx("input",{className:"assignment-input",type:"text",value:i,onChange:m=>s(m.target.value),required:!0,spellCheck:"false"})]}),T.jsx("label",{children:T.jsx("span",{children:"Kuvaus:"})}),T.jsx("div",{className:"assignment-desc-editor",style:{height:"20em"},children:T.jsx(YE,{content:a,setContent:l})}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",onClick:n,children:"Peruuta"}),i.length===0?T.jsx("button",{className:"disabled-button",disabled:!0,children:"Lisää tehtävä"}):T.jsx("button",{type:"submit",children:"Lisää tehtävä"})]})]}),T.jsx(bl,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})};function o_(t){return Di({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"},child:[]}]})(t)}const a_=({course:t,toggleAddMembersBox:e,onMembersAdded:n})=>{const[i,s]=A.useState(""),[a,l]=A.useState([]),[c,d]=A.useState([]),[h,m]=A.useState([]);A.useEffect(()=>{(async()=>{try{const E=await fetch(`http://localhost:3000/course-members/${t.id}`);if(!E.ok)throw new Error(`HTTP error! Status: ${E.status}`);const C=await E.json();m(C)}catch(E){console.error("Error fetching course members",E)}})()},[t.id]),A.useEffect(()=>{if(!i)return;(async()=>{try{const E=await fetch(`http://localhost:3000/search-users/${encodeURIComponent(i)}`);if(!E.ok)throw new Error(`HTTP error! Status: ${E.status}`);const M=(await E.json()).filter(k=>!h.some(D=>D.id===k.id));l(M)}catch(E){console.error("Error searching for users",E)}})()},[i,h]);const g=x=>{c.some(E=>E.id===x.id)||d([...c,x])},b=x=>{d(c.filter(E=>E.id!==x.id))},v=async x=>{x.preventDefault();try{const E=await fetch("http://localhost:3000/add-member-to-course",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:t.id,userIds:c.map(M=>M.id)})});if(!E.ok)throw new Error(`HTTP error! Status: ${E.status}`);_e.success("Uudet osallistujat lisätty onnistuneesti!",{position:"bottom-center",autoClose:2500,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>(e(),n()),3e3)}catch(E){console.error("Error adding users:",E)}};return T.jsxs("div",{className:"back-shadow",children:[T.jsxs("form",{className:"add-members-form",onSubmit:v,children:[T.jsxs("h2",{children:["Lisää osallistujia kurssille ",T.jsx("span",{children:t.name})]}),T.jsxs("div",{className:"add-members-form-content",children:[T.jsxs("div",{className:"search",children:[T.jsxs("label",{children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[T.jsx("span",{children:"Hae osallistujia"}),T.jsx(S4,{style:{color:"var(--emerald)",scale:"1.5"},className:"search-question",onMouseEnter:()=>{var x;(x=document.querySelector(".search-info"))==null||x.setAttribute("style","display: flex;")},onMouseLeave:()=>{var x;(x=document.querySelector(".search-info"))==null||x.setAttribute("style","display: none;")}}),T.jsx("div",{className:"search-info",children:T.jsx("p",{children:"Kurssille jo osallistuvat eivät näy hakutuloksissa."})})]}),T.jsx("input",{className:"add-members-input",type:"text",placeholder:"Etsi uutta osallistujaa...",value:i,onChange:x=>s(x.target.value),spellCheck:"false"})]}),a.length>0&&T.jsx("div",{className:"search-results",children:T.jsx("ul",{children:a.filter(x=>x.role!=="admin").map(x=>T.jsxs("li",{children:[T.jsx("h4",{children:`${x.firstname} ${x.lastname}`}),c.some(E=>E.id===x.id)?T.jsxs("button",{type:"button",className:"added-button",disabled:!0,children:[T.jsx(v4,{})," Lisätty"]}):T.jsxs("button",{type:"button",onClick:()=>g(x),children:[T.jsx(tT,{})," Lisää"]})]},x.id))})})]}),c.length>0&&T.jsx(Mt.div,{className:"users-to-add",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx("h3",{children:"Lisättävät käyttäjät"})}),c.map(x=>T.jsxs(Mt.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:[T.jsx("h4",{children:`${x.firstname} ${x.lastname}`}),T.jsxs("button",{onClick:()=>b(x),children:[T.jsx(o_,{})," Poista"]})]},x.id))]})})]}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",onClick:e,children:"Peruuta"}),c.length===0?T.jsx("button",{type:"button",className:"disabled-button",disabled:!0,children:"Lisää osallistuja"}):T.jsx("button",{type:"submit",children:c.length>1?"Lisää osallistujat":"Lisää osallistuja"})]})]}),T.jsx(bl,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},l_=({toggleRemoveMembersBox:t,course:e,onMembersRemoved:n,courseAssignments:i})=>{const{id:s}=uS(),[a,l]=A.useState([]),{user:c}=br(),d=async k=>{try{const B=await(await fetch(`http://localhost:3000/course-members/${k}`)).json();l(B),console.log("members: ",a)}catch(D){console.error("Error fetching course members",D)}};A.useEffect(()=>{s&&d(s)},[s]);const[h,m]=A.useState([]),[g,b]=A.useState([]),v=async(k,D)=>{try{const H=(await(await fetch(`http://localhost:3000/submissions/${k}`)).json()).filter(q=>q.studentId===D);b(q=>[...q,...H])}catch(B){console.log("Error fetching submissions",B)}};A.useEffect(()=>{console.log("Updated submissionsToRemove: ",g)},[g]);const x=k=>{h.some(D=>D.id===k.id)||m([...h,k]);for(const D of i)v(D.id,k.id)},E=async k=>{try{const D=await fetch(`http://localhost:3000/delete-submission/${k}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(D.ok)console.log(`submission ${k} deleted successfully`);else throw new Error(`HTTP error! Status: ${D.status}`)}catch(D){console.error("Error deleting submission",D)}},C=async k=>{k.preventDefault();const D=h.map(B=>B.id);if(g.length>0)for(const B of g)await E(B.id);try{const B=await fetch("http://localhost:3000/remove-member-from-course",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:s,userIds:D})});if(!B.ok)throw new Error(`HTTP error! Status: ${B.status}`);_e.success("Osallistujat poistettu onnistuneesti",{position:"bottom-center",autoClose:2500,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>(t(),n()),3e3)}catch(B){console.error("Error removing members",B)}},M=k=>{m(h.filter(D=>D.id!==k.id))};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"back-shadow",children:[T.jsxs("form",{className:"remove-members-form",onSubmit:C,children:[T.jsxs("h2",{children:["Poista osallistujia kurssilta ",T.jsx("span",{children:e.name})]}),T.jsxs("div",{className:"remove-members-form-content",children:[T.jsx("div",{children:T.jsxs("ul",{className:"remove-members-list",children:[T.jsx("li",{children:T.jsx("h3",{children:"Osallistujat"})}),a.filter(k=>k.id!==(c==null?void 0:c.id)).map(k=>T.jsxs("li",{className:"member",children:[T.jsx("h4",{className:"member-name",children:`${k.firstname} ${k.lastname}`}),h.some(D=>D.id===k.id)?T.jsx("button",{type:"button",className:"removed-button",disabled:!0,onClick:()=>x(k),children:"Poistettu"}):T.jsx("button",{type:"button",className:"remove-member-button",onClick:()=>x(k),children:"Poista"})]},k.id))]})}),T.jsx("div",{children:h.length>0&&T.jsxs("ul",{className:"selected-members-list",children:[T.jsx("li",{children:T.jsx("h3",{children:"Poistettavat osallistujat"})}),h.map(k=>T.jsxs("li",{className:"member",children:[T.jsx("h4",{className:"member-name",children:`${k.firstname} ${k.lastname}`}),T.jsx("button",{type:"button",className:"restore-button",onClick:()=>M(k),children:T.jsx("span",{children:"Palauta"})})]},k.id))]})})]}),T.jsx("div",{}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",onClick:t,children:"Peruuta"}),h.length>1?T.jsx("button",{type:"submit",children:"Poista osallistujat"}):h.length===0?T.jsx("button",{type:"submit",className:"disabled-button",disabled:!0,children:"Poista osallistuja"}):T.jsx("button",{type:"submit",children:"Poista osallistuja"})]})]}),T.jsx(bl,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})},u_=()=>{const{id:t}=uS(),[e,n]=A.useState({}),[i,s]=A.useState([]),[a,l]=A.useState([]),c=async ve=>{try{const K=await(await fetch(`http://localhost:3000/course-info/${ve}`)).json();n(K)}catch(ae){console.error("Error fetching course info",ae)}},d=async ve=>{try{const K=await(await fetch(`http://localhost:3000/course-members/${ve}`)).json();s(K)}catch(ae){console.error("Error fetching course members",ae)}},h=async ve=>{try{const K=await(await fetch(`http://localhost:3000/course-assignments/${ve}`)).json();l(K)}catch(ae){console.error("Error fetching course assignments",ae)}};A.useEffect(()=>{t&&(c(t),d(t),h(t))},[t]);const[m,g]=A.useState(!1),b=()=>{g(!m)},[v,x]=A.useState(!1),E=()=>{x(!v)},[C,M]=A.useState(!1),k=()=>{M(!C)},D=async ve=>{ve.preventDefault();const ae=ve.currentTarget,K=new FormData(ae);try{const J=await fetch(`http://localhost:3000/upload/course/${t}`,{method:"POST",body:K,credentials:"include"});if(!J.ok)throw new Error(`Error: ${J.status} ${J.statusText}`);const Z=await J.json();if(Z.error)throw new Error(Z.error);H(t)}catch(J){console.error("Error uploading file",J),alert("Tiedoston lähetys epäonnistui!")}},[B,z]=A.useState([]),H=async ve=>{try{const K=await(await fetch(`http://localhost:3000/files/course/${ve}`)).json();z(K)}catch(ae){console.error("Error fetching course files",ae)}};A.useEffect(()=>{t&&H(t)},[t]);const q=async ve=>{try{const ae=await fetch(`http://localhost:3000/delete-file/${ve}`,{method:"DELETE",credentials:"include"});if(!ae.ok)throw new Error(`Error: ${ae.status} ${ae.statusText}`);H(t)}catch(ae){console.error("Error deleting file",ae),alert("Tiedoston poisto epäonnistui!")}},[$,P]=A.useState({}),X=async ve=>{try{const K=await(await fetch(`http://localhost:3000/files/assignment/${ve}`)).json();P(J=>({...J,[ve]:K}))}catch(ae){console.error("Error fetching assignment files",ae)}};A.useEffect(()=>{a.forEach(ve=>{X(ve.id)})},[a]);const re=async(ve,ae)=>{ae.preventDefault();const K=ae.currentTarget,J=new FormData(K);try{const Z=await fetch(`http://localhost:3000/upload/assignment/${ve}`,{method:"POST",body:J,credentials:"include"});if(!Z.ok)throw new Error(`Error: ${Z.status} ${Z.statusText}`);const ke=await Z.json();if(ke.error)throw new Error(ke.error);X(ve)}catch(Z){console.error("Error uploading file",Z),alert("Tiedoston lähetys epäonnistui!")}},Le=async(ve,ae)=>{try{const K=await fetch(`http://localhost:3000/delete-file/${ve}`,{method:"DELETE",credentials:"include"});if(!K.ok)throw new Error(`Error: ${K.status} ${K.statusText}`);X(ae)}catch(K){console.error("Error deleting file",K),alert("Tiedoston poisto epäonnistui!")}},$e=async ve=>{try{if(window.confirm("Poistettua tehtävää ei voida palauttaa, haluatko varmasti poistaa tehtävän?")){const ae=await fetch(`http://localhost:3000/delete-assignment/${ve}`,{method:"DELETE",credentials:"include"});if(!ae.ok)throw new Error(`Error: ${ae.status} ${ae.statusText}`);h(t)}}catch(ae){console.error("Error deleting assignment",ae),alert("Tehtävän poisto epäonnistui!")}};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"container",children:[T.jsx("div",{className:"nav-background"}),T.jsx(Pc,{}),T.jsx(r_,{course:e,members:i,assignments:a,toggleAssignmentBox:b,toggleAddMembersBox:E,toggleRemoveMembersBox:k,onFileSubmit:D,courseFiles:B,deleteCourseFile:q,addFileToAssignment:re,assignmentFiles:$,deleteAssignmentFile:Le,deleteAssignment:$e}),m&&T.jsx(s_,{toggleAssignmentBox:b,courseId:parseInt(t||"0"),onAssignmentAdded:()=>h(t)}),v&&T.jsx(a_,{toggleAddMembersBox:E,course:e,onMembersAdded:()=>d(t)}),C&&T.jsx(l_,{toggleRemoveMembersBox:k,course:e,courseAssignments:a,onMembersRemoved:()=>d(t)})]})})},c_=()=>{const{user:t}=br(),[e,n]=A.useState(""),[i,s]=A.useState([]);A.useEffect(()=>{if(!e)return;(async()=>{try{const d=await fetch(`http://localhost:3000/search-users/${encodeURIComponent(e)}`);if(!d.ok)throw new Error(`HTTP error! Status: ${d.status}`);const h=await d.json();s(h)}catch(d){console.error("Error searching for users",d)}})()},[e]);const a=async(c,d)=>{try{if(!(await fetch(`http://localhost:3000/update-role/${c}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:d})})).ok)throw new Error("Failed to update role");s(m=>m.map(g=>g.id===c?{...g,role:d}:g))}catch(h){console.error("Error updating role",h)}},l=async(c,d)=>{if(d.length===0){alert("Salasana ei voi olla tyhjä");return}try{if((await fetch(`http://localhost:3000/update-password/${c}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:d})})).ok)alert("Salasana vaihdettu onnistuneesti");else throw new Error("Failed to update password");s(m=>m.map(g=>g.id===c?{...g,password:d}:g))}catch(h){console.error("Error updating password",h)}};return T.jsx(T.Fragment,{children:(t==null?void 0:t.role)=="admin"&&T.jsxs("div",{className:"container",children:[T.jsx(Pc,{}),T.jsxs("div",{className:"adminpanel-content",children:[T.jsx("h1",{children:"Hallintapaneeli"}),T.jsx("h2",{children:"Hallinnoi käyttäjiä"}),T.jsx("input",{type:"text",placeholder:"Hae käyttäjiä",value:e,onChange:c=>n(c.target.value),spellCheck:"false"}),i.length>0&&T.jsx("div",{className:"",children:T.jsx("ul",{style:{listStyleType:"none",padding:0},children:i.filter(c=>c.role!=="admin").map(c=>T.jsxs("li",{style:{background:"var(--aliceblue)",padding:"1em",borderRadius:"15px",margin:"1em 0",display:"flex",flexDirection:"column",gap:"1em"},children:[T.jsx("h2",{children:`${c.firstname} ${c.lastname}:`}),T.jsx("h3",{children:"vaihda rooli"}),T.jsxs("select",{style:{fontSize:"1.3em"},value:c.role,onChange:d=>a(c.id,d.target.value),children:[T.jsx("option",{value:"student",children:"oppilas"}),T.jsx("option",{value:"teacher",children:"opettaja"})]}),T.jsxs("div",{children:[T.jsx("h3",{children:"vaihda salasana"}),T.jsxs("form",{onSubmit:d=>{d.preventDefault();const m=d.target.elements.namedItem("password").value;l(c.id,m)},children:[T.jsx("input",{style:{fontSize:"1em"},type:"password",name:"password",placeholder:"uusi salasana",spellCheck:"false"}),T.jsx("button",{style:{background:"var(--emerald)",padding:"0.5em"},type:"submit",children:"Vaihda salasana"})]})]})]},c.id))})})]})]})})},f_=()=>T.jsx(tk,{children:T.jsx(F5,{children:T.jsxs(v5,{children:[T.jsx(Kr,{path:"/",element:T.jsx(f4,{})}),T.jsx(Kr,{path:"/login",element:T.jsx(c4,{})}),T.jsx(Kr,{path:"/dashboard",element:T.jsx(C4,{})}),T.jsx(Kr,{path:"/profile",element:T.jsx(M4,{})}),T.jsx(Kr,{path:"/course/:id",element:T.jsx(u_,{})}),T.jsx(Kr,{path:"/adminpanel",element:T.jsx(c_,{})})]})})});OM.createRoot(document.getElementById("root")).render(T.jsx(A.StrictMode,{children:T.jsx(f_,{})}));
