(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mh={exports:{}},Sa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function Pw(){if(fv)return Sa;fv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Sa.Fragment=t,Sa.jsx=n,Sa.jsxs=n,Sa}var dv;function Hw(){return dv||(dv=1,mh.exports=Pw()),mh.exports}var T=Hw(),gh={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function Uw(){if(hv)return bt;hv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=g&&N[g]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function C(N,X,it){this.props=N,this.context=X,this.refs=E,this.updater=it||b}C.prototype.isReactComponent={},C.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function w(){}w.prototype=C.prototype;function O(N,X,it){this.props=N,this.context=X,this.refs=E,this.updater=it||b}var A=O.prototype=new w;A.constructor=O,x(A,C.prototype),A.isPureReactComponent=!0;var B=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function G(N,X,it,et,ct,Dt){return it=Dt.ref,{$$typeof:e,type:N,key:X,ref:it!==void 0?it:null,props:Dt}}function q(N,X){return G(N.type,X,void 0,void 0,void 0,N.props)}function K(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function tt(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(it){return X[it]})}var at=/\/+/g;function Ot(N,X){return typeof N=="object"&&N!==null&&N.key!=null?tt(""+N.key):X.toString(36)}function Jt(){}function St(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Jt,Jt):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function rt(N,X,it,et,ct){var Dt=typeof N;(Dt==="undefined"||Dt==="boolean")&&(N=null);var yt=!1;if(N===null)yt=!0;else switch(Dt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(N.$$typeof){case e:case t:yt=!0;break;case p:return yt=N._init,rt(yt(N._payload),X,it,et,ct)}}if(yt)return ct=ct(N),yt=et===""?"."+Ot(N,0):et,B(ct)?(it="",yt!=null&&(it=yt.replace(at,"$&/")+"/"),rt(ct,X,it,"",function(mt){return mt})):ct!=null&&(K(ct)&&(ct=q(ct,it+(ct.key==null||N&&N.key===ct.key?"":(""+ct.key).replace(at,"$&/")+"/")+yt)),X.push(ct)),1;yt=0;var W=et===""?".":et+":";if(B(N))for(var lt=0;lt<N.length;lt++)et=N[lt],Dt=W+Ot(et,lt),yt+=rt(et,X,it,Dt,ct);else if(lt=v(N),typeof lt=="function")for(N=lt.call(N),lt=0;!(et=N.next()).done;)et=et.value,Dt=W+Ot(et,lt++),yt+=rt(et,X,it,Dt,ct);else if(Dt==="object"){if(typeof N.then=="function")return rt(St(N),X,it,et,ct);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(N,X,it){if(N==null)return N;var et=[],ct=0;return rt(N,et,"","",function(Dt){return X.call(it,Dt,ct++)}),et}function Y(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(it){(N._status===0||N._status===-1)&&(N._status=1,N._result=it)},function(it){(N._status===0||N._status===-1)&&(N._status=2,N._result=it)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var Q=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Mt(){}return bt.Children={map:H,forEach:function(N,X,it){H(N,function(){X.apply(this,arguments)},it)},count:function(N){var X=0;return H(N,function(){X++}),X},toArray:function(N){return H(N,function(X){return X})||[]},only:function(N){if(!K(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},bt.Component=C,bt.Fragment=n,bt.Profiler=s,bt.PureComponent=O,bt.StrictMode=i,bt.Suspense=d,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,bt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return _.H.useMemoCache(N)}},bt.cache=function(N){return function(){return N.apply(null,arguments)}},bt.cloneElement=function(N,X,it){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var et=x({},N.props),ct=N.key,Dt=void 0;if(X!=null)for(yt in X.ref!==void 0&&(Dt=void 0),X.key!==void 0&&(ct=""+X.key),X)!U.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||(et[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)et.children=it;else if(1<yt){for(var W=Array(yt),lt=0;lt<yt;lt++)W[lt]=arguments[lt+2];et.children=W}return G(N.type,ct,void 0,void 0,Dt,et)},bt.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:a,_context:N},N},bt.createElement=function(N,X,it){var et,ct={},Dt=null;if(X!=null)for(et in X.key!==void 0&&(Dt=""+X.key),X)U.call(X,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ct[et]=X[et]);var yt=arguments.length-2;if(yt===1)ct.children=it;else if(1<yt){for(var W=Array(yt),lt=0;lt<yt;lt++)W[lt]=arguments[lt+2];ct.children=W}if(N&&N.defaultProps)for(et in yt=N.defaultProps,yt)ct[et]===void 0&&(ct[et]=yt[et]);return G(N,Dt,void 0,void 0,null,ct)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(N){return{$$typeof:c,render:N}},bt.isValidElement=K,bt.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:Y}},bt.memo=function(N,X){return{$$typeof:h,type:N,compare:X===void 0?null:X}},bt.startTransition=function(N){var X=_.T,it={};_.T=it;try{var et=N(),ct=_.S;ct!==null&&ct(it,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Mt,Q)}catch(Dt){Q(Dt)}finally{_.T=X}},bt.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},bt.use=function(N){return _.H.use(N)},bt.useActionState=function(N,X,it){return _.H.useActionState(N,X,it)},bt.useCallback=function(N,X){return _.H.useCallback(N,X)},bt.useContext=function(N){return _.H.useContext(N)},bt.useDebugValue=function(){},bt.useDeferredValue=function(N,X){return _.H.useDeferredValue(N,X)},bt.useEffect=function(N,X,it){var et=_.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(N,X)},bt.useId=function(){return _.H.useId()},bt.useImperativeHandle=function(N,X,it){return _.H.useImperativeHandle(N,X,it)},bt.useInsertionEffect=function(N,X){return _.H.useInsertionEffect(N,X)},bt.useLayoutEffect=function(N,X){return _.H.useLayoutEffect(N,X)},bt.useMemo=function(N,X){return _.H.useMemo(N,X)},bt.useOptimistic=function(N,X){return _.H.useOptimistic(N,X)},bt.useReducer=function(N,X,it){return _.H.useReducer(N,X,it)},bt.useRef=function(N){return _.H.useRef(N)},bt.useState=function(N){return _.H.useState(N)},bt.useSyncExternalStore=function(N,X,it){return _.H.useSyncExternalStore(N,X,it)},bt.useTransition=function(){return _.H.useTransition()},bt.version="19.1.0",bt}var pv;function sm(){return pv||(pv=1,gh.exports=Uw()),gh.exports}var k=sm();const Z=rm(k);var yh={exports:{}},Ta={},vh={exports:{}},bh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function Iw(){return mv||(mv=1,function(e){function t(H,Y){var Q=H.length;H.push(Y);t:for(;0<Q;){var Mt=Q-1>>>1,N=H[Mt];if(0<s(N,Y))H[Mt]=Y,H[Q]=N,Q=Mt;else break t}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Y=H[0],Q=H.pop();if(Q!==Y){H[0]=Q;t:for(var Mt=0,N=H.length,X=N>>>1;Mt<X;){var it=2*(Mt+1)-1,et=H[it],ct=it+1,Dt=H[ct];if(0>s(et,Q))ct<N&&0>s(Dt,et)?(H[Mt]=Dt,H[ct]=Q,Mt=ct):(H[Mt]=et,H[it]=Q,Mt=it);else if(ct<N&&0>s(Dt,Q))H[Mt]=Dt,H[ct]=Q,Mt=ct;else break t}}return Y}function s(H,Y){var Q=H.sortIndex-Y.sortIndex;return Q!==0?Q:H.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,g=null,v=3,b=!1,x=!1,E=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function B(H){for(var Y=n(h);Y!==null;){if(Y.callback===null)i(h);else if(Y.startTime<=H)i(h),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=n(h)}}function _(H){if(E=!1,B(H),!x)if(n(d)!==null)x=!0,U||(U=!0,Ot());else{var Y=n(h);Y!==null&&rt(_,Y.startTime-H)}}var U=!1,G=-1,q=5,K=-1;function tt(){return C?!0:!(e.unstable_now()-K<q)}function at(){if(C=!1,U){var H=e.unstable_now();K=H;var Y=!0;try{t:{x=!1,E&&(E=!1,O(G),G=-1),b=!0;var Q=v;try{e:{for(B(H),g=n(d);g!==null&&!(g.expirationTime>H&&tt());){var Mt=g.callback;if(typeof Mt=="function"){g.callback=null,v=g.priorityLevel;var N=Mt(g.expirationTime<=H);if(H=e.unstable_now(),typeof N=="function"){g.callback=N,B(H),Y=!0;break e}g===n(d)&&i(d),B(H)}else i(d);g=n(d)}if(g!==null)Y=!0;else{var X=n(h);X!==null&&rt(_,X.startTime-H),Y=!1}}break t}finally{g=null,v=Q,b=!1}Y=void 0}}finally{Y?Ot():U=!1}}}var Ot;if(typeof A=="function")Ot=function(){A(at)};else if(typeof MessageChannel<"u"){var Jt=new MessageChannel,St=Jt.port2;Jt.port1.onmessage=at,Ot=function(){St.postMessage(null)}}else Ot=function(){w(at,0)};function rt(H,Y){G=w(function(){H(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(H){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var Q=v;v=Y;try{return H()}finally{v=Q}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=v;v=H;try{return Y()}finally{v=Q}},e.unstable_scheduleCallback=function(H,Y,Q){var Mt=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Mt+Q:Mt):Q=Mt,H){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Q+N,H={id:p++,callback:Y,priorityLevel:H,startTime:Q,expirationTime:N,sortIndex:-1},Q>Mt?(H.sortIndex=Q,t(h,H),n(d)===null&&H===n(h)&&(E?(O(G),G=-1):E=!0,rt(_,Q-Mt))):(H.sortIndex=N,t(d,H),x||b||(x=!0,U||(U=!0,Ot()))),H},e.unstable_shouldYield=tt,e.unstable_wrapCallback=function(H){var Y=v;return function(){var Q=v;v=Y;try{return H.apply(this,arguments)}finally{v=Q}}}}(bh)),bh}var gv;function Fw(){return gv||(gv=1,vh.exports=Iw()),vh.exports}var xh={exports:{}},Ne={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function qw(){if(yv)return Ne;yv=1;var e=sm();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ne.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ne.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return a(d,h,null,p)},Ne.flushSync=function(d){var h=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=h,i.p=p,i.d.f()}},Ne.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Ne.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Ne.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=c(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):p==="script"&&i.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ne.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Ne.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=c(p,h.crossOrigin);i.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ne.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Ne.requestFormReset=function(d){i.d.r(d)},Ne.unstable_batchedUpdates=function(d,h){return d(h)},Ne.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},Ne.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ne.version="19.1.0",Ne}var vv;function xS(){if(vv)return xh.exports;vv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xh.exports=qw(),xh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function $w(){if(bv)return Ta;bv=1;var e=Fw(),t=sm(),n=xS();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(i(188))}function d(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,f=o;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return c(m),r;if(y===f)return c(m),o;y=y.sibling}throw Error(i(188))}if(u.return!==f.return)u=m,f=y;else{for(var S=!1,M=m.child;M;){if(M===u){S=!0,u=m,f=y;break}if(M===f){S=!0,f=m,u=y;break}M=M.sibling}if(!S){for(M=y.child;M;){if(M===u){S=!0,u=y,f=m;break}if(M===f){S=!0,f=y,u=m;break}M=M.sibling}if(!S)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function h(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=h(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function Ot(r){return r===null||typeof r!="object"?null:(r=at&&r[at]||r["@@iterator"],typeof r=="function"?r:null)}var Jt=Symbol.for("react.client.reference");function St(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Jt?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case _:return"Suspense";case U:return"SuspenseList";case K:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case A:return(r.displayName||"Context")+".Provider";case O:return(r._context.displayName||"Context")+".Consumer";case B:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return o=r.displayName||null,o!==null?o:St(r.type)||"Memo";case q:o=r._payload,r=r._init;try{return St(r(o))}catch{}}return null}var rt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},Mt=[],N=-1;function X(r){return{current:r}}function it(r){0>N||(r.current=Mt[N],Mt[N]=null,N--)}function et(r,o){N++,Mt[N]=r.current,r.current=o}var ct=X(null),Dt=X(null),yt=X(null),W=X(null);function lt(r,o){switch(et(yt,o),et(Dt,r),et(ct,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?P1(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=P1(o),r=H1(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}it(ct),et(ct,r)}function mt(){it(ct),it(Dt),it(yt)}function $t(r){r.memoizedState!==null&&et(W,r);var o=ct.current,u=H1(o,r.type);o!==u&&(et(Dt,r),et(ct,u))}function Ae(r){Dt.current===r&&(it(ct),it(Dt)),W.current===r&&(it(W),ga._currentValue=Q)}var Tt=Object.prototype.hasOwnProperty,Ge=e.unstable_scheduleCallback,tn=e.unstable_cancelCallback,ee=e.unstable_shouldYield,xl=e.unstable_requestPaint,pn=e.unstable_now,Sl=e.unstable_getCurrentPriorityLevel,bg=e.unstable_ImmediatePriority,xg=e.unstable_UserBlockingPriority,Tl=e.unstable_NormalPriority,xC=e.unstable_LowPriority,Sg=e.unstable_IdlePriority,SC=e.log,TC=e.unstable_setDisableYieldValue,Co=null,en=null;function Oi(r){if(typeof SC=="function"&&TC(r),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Co,r)}catch{}}var nn=Math.clz32?Math.clz32:MC,EC=Math.log,CC=Math.LN2;function MC(r){return r>>>=0,r===0?32:31-(EC(r)/CC|0)|0}var El=256,Cl=4194304;function Sr(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ml(r,o,u){var f=r.pendingLanes;if(f===0)return 0;var m=0,y=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var M=f&134217727;return M!==0?(f=M&~y,f!==0?m=Sr(f):(S&=M,S!==0?m=Sr(S):u||(u=M&~r,u!==0&&(m=Sr(u))))):(M=f&~y,M!==0?m=Sr(M):S!==0?m=Sr(S):u||(u=f&~r,u!==0&&(m=Sr(u)))),m===0?0:o!==0&&o!==m&&(o&y)===0&&(y=m&-m,u=o&-o,y>=u||y===32&&(u&4194048)!==0)?o:m}function Mo(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function wC(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tg(){var r=El;return El<<=1,(El&4194048)===0&&(El=256),r}function Eg(){var r=Cl;return Cl<<=1,(Cl&62914560)===0&&(Cl=4194304),r}function rf(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function wo(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function kC(r,o,u,f,m,y){var S=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var M=r.entanglements,D=r.expirationTimes,L=r.hiddenUpdates;for(u=S&~u;0<u;){var I=31-nn(u),$=1<<I;M[I]=0,D[I]=-1;var V=L[I];if(V!==null)for(L[I]=null,I=0;I<V.length;I++){var P=V[I];P!==null&&(P.lane&=-536870913)}u&=~$}f!==0&&Cg(r,f,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(S&~o))}function Cg(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-nn(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194090}function Mg(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var f=31-nn(u),m=1<<f;m&o|r[f]&o&&(r[f]|=o),u&=~m}}function sf(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function of(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function wg(){var r=Y.p;return r!==0?r:(r=window.event,r===void 0?32:sv(r.type))}function AC(r,o){var u=Y.p;try{return Y.p=r,o()}finally{Y.p=u}}var Di=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Di,Ke="__reactProps$"+Di,cs="__reactContainer$"+Di,af="__reactEvents$"+Di,OC="__reactListeners$"+Di,DC="__reactHandles$"+Di,kg="__reactResources$"+Di,ko="__reactMarker$"+Di;function lf(r){delete r[Oe],delete r[Ke],delete r[af],delete r[OC],delete r[DC]}function fs(r){var o=r[Oe];if(o)return o;for(var u=r.parentNode;u;){if(o=u[cs]||u[Oe]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=q1(r);r!==null;){if(u=r[Oe])return u;r=q1(r)}return o}r=u,u=r.parentNode}return null}function ds(r){if(r=r[Oe]||r[cs]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Ao(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function hs(r){var o=r[kg];return o||(o=r[kg]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function fe(r){r[ko]=!0}var Ag=new Set,Og={};function Tr(r,o){ps(r,o),ps(r+"Capture",o)}function ps(r,o){for(Og[r]=o,r=0;r<o.length;r++)Ag.add(o[r])}var NC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dg={},Ng={};function RC(r){return Tt.call(Ng,r)?!0:Tt.call(Dg,r)?!1:NC.test(r)?Ng[r]=!0:(Dg[r]=!0,!1)}function wl(r,o,u){if(RC(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function kl(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function ni(r,o,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+f)}}var uf,Rg;function ms(r){if(uf===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);uf=o&&o[1]||"",Rg=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uf+r+Rg}var cf=!1;function ff(r,o){if(!r||cf)return"";cf=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(P){var V=P}Reflect.construct(r,[],$)}else{try{$.call()}catch(P){V=P}r.call($.prototype)}}else{try{throw Error()}catch(P){V=P}($=r())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(P){if(P&&V&&typeof P.stack=="string")return[P.stack,V.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),S=y[0],M=y[1];if(S&&M){var D=S.split(`
`),L=M.split(`
`);for(m=f=0;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;for(;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;if(f===D.length||m===L.length)for(f=D.length-1,m=L.length-1;1<=f&&0<=m&&D[f]!==L[m];)m--;for(;1<=f&&0<=m;f--,m--)if(D[f]!==L[m]){if(f!==1||m!==1)do if(f--,m--,0>m||D[f]!==L[m]){var I=`
`+D[f].replace(" at new "," at ");return r.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",r.displayName)),I}while(1<=f&&0<=m);break}}}finally{cf=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ms(u):""}function jC(r){switch(r.tag){case 26:case 27:case 5:return ms(r.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 15:return ff(r.type,!1);case 11:return ff(r.type.render,!1);case 1:return ff(r.type,!0);case 31:return ms("Activity");default:return""}}function jg(r){try{var o="";do o+=jC(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function _g(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _C(r){var o=_g(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){f=""+S,y.call(this,S)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Al(r){r._valueTracker||(r._valueTracker=_C(r))}function zg(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return r&&(f=_g(r)?r.checked?"true":"false":r.value),r=f,r!==u?(o.setValue(r),!0):!1}function Ol(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var zC=/[\n"\\]/g;function gn(r){return r.replace(zC,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function df(r,o,u,f,m,y,S,M){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),o!=null?S==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+mn(o)):r.value!==""+mn(o)&&(r.value=""+mn(o)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),o!=null?hf(r,S,mn(o)):u!=null?hf(r,S,mn(u)):f!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?r.name=""+mn(M):r.removeAttribute("name")}function Lg(r,o,u,f,m,y,S,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),o!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;u=u!=null?""+mn(u):"",o=o!=null?""+mn(o):u,M||o===r.value||(r.value=o),r.defaultValue=o}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=M?r.checked:!!f,r.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function hf(r,o,u){o==="number"&&Ol(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function gs(r,o,u,f){if(r=r.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<r.length;u++)m=o.hasOwnProperty("$"+r[u].value),r[u].selected!==m&&(r[u].selected=m),m&&f&&(r[u].defaultSelected=!0)}else{for(u=""+mn(u),o=null,m=0;m<r.length;m++){if(r[m].value===u){r[m].selected=!0,f&&(r[m].defaultSelected=!0);return}o!==null||r[m].disabled||(o=r[m])}o!==null&&(o.selected=!0)}}function Bg(r,o,u){if(o!=null&&(o=""+mn(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+mn(u):""}function Vg(r,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(rt(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=mn(o),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function ys(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var LC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pg(r,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,u):typeof u!="number"||u===0||LC.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Hg(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var m in o)f=o[m],o.hasOwnProperty(m)&&u[m]!==f&&Pg(r,m,f)}else for(var y in o)o.hasOwnProperty(y)&&Pg(r,y,o[y])}function pf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dl(r){return VC.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var mf=null;function gf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var vs=null,bs=null;function Ug(r){var o=ds(r);if(o&&(r=o.stateNode)){var u=r[Ke]||null;t:switch(r=o.stateNode,o.type){case"input":if(df(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+gn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==r&&f.form===r.form){var m=f[Ke]||null;if(!m)throw Error(i(90));df(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===r.form&&zg(f)}break t;case"textarea":Bg(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&gs(r,!!u.multiple,o,!1)}}}var yf=!1;function Ig(r,o,u){if(yf)return r(o,u);yf=!0;try{var f=r(o);return f}finally{if(yf=!1,(vs!==null||bs!==null)&&(mu(),vs&&(o=vs,r=bs,bs=vs=null,Ug(o),r)))for(o=0;o<r.length;o++)Ug(r[o])}}function Oo(r,o){var u=r.stateNode;if(u===null)return null;var f=u[Ke]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vf=!1;if(ii)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){vf=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{vf=!1}var Ni=null,bf=null,Nl=null;function Fg(){if(Nl)return Nl;var r,o=bf,u=o.length,f,m="value"in Ni?Ni.value:Ni.textContent,y=m.length;for(r=0;r<u&&o[r]===m[r];r++);var S=u-r;for(f=1;f<=S&&o[u-f]===m[y-f];f++);return Nl=m.slice(r,1<f?1-f:void 0)}function Rl(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function jl(){return!0}function qg(){return!1}function Ye(r){function o(u,f,m,y,S){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(u=r[M],this[M]=u?u(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?jl:qg,this.isPropagationStopped=qg,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),o}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Ye(Er),No=p({},Er,{view:0,detail:0}),PC=Ye(No),xf,Sf,Ro,zl=p({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ro&&(Ro&&r.type==="mousemove"?(xf=r.screenX-Ro.screenX,Sf=r.screenY-Ro.screenY):Sf=xf=0,Ro=r),xf)},movementY:function(r){return"movementY"in r?r.movementY:Sf}}),$g=Ye(zl),HC=p({},zl,{dataTransfer:0}),UC=Ye(HC),IC=p({},No,{relatedTarget:0}),Tf=Ye(IC),FC=p({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),qC=Ye(FC),$C=p({},Er,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),GC=Ye($C),KC=p({},Er,{data:0}),Gg=Ye(KC),YC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZC(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=JC[r])?!!o[r]:!1}function Ef(){return ZC}var QC=p({},No,{key:function(r){if(r.key){var o=YC[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Rl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?XC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(r){return r.type==="keypress"?Rl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Rl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),WC=Ye(QC),tM=p({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=Ye(tM),eM=p({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),nM=Ye(eM),iM=p({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),rM=Ye(iM),sM=p({},zl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),oM=Ye(sM),aM=p({},Er,{newState:0,oldState:0}),lM=Ye(aM),uM=[9,13,27,32],Cf=ii&&"CompositionEvent"in window,jo=null;ii&&"documentMode"in document&&(jo=document.documentMode);var cM=ii&&"TextEvent"in window&&!jo,Yg=ii&&(!Cf||jo&&8<jo&&11>=jo),Xg=" ",Jg=!1;function Zg(r,o){switch(r){case"keyup":return uM.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var xs=!1;function fM(r,o){switch(r){case"compositionend":return Qg(o);case"keypress":return o.which!==32?null:(Jg=!0,Xg);case"textInput":return r=o.data,r===Xg&&Jg?null:r;default:return null}}function dM(r,o){if(xs)return r==="compositionend"||!Cf&&Zg(r,o)?(r=Fg(),Nl=bf=Ni=null,xs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Yg&&o.locale!=="ko"?null:o.data;default:return null}}var hM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!hM[r.type]:o==="textarea"}function t0(r,o,u,f){vs?bs?bs.push(f):bs=[f]:vs=f,o=Su(o,"onChange"),0<o.length&&(u=new _l("onChange","change",null,u,f),r.push({event:u,listeners:o}))}var _o=null,zo=null;function pM(r){_1(r,0)}function Ll(r){var o=Ao(r);if(zg(o))return r}function e0(r,o){if(r==="change")return o}var n0=!1;if(ii){var Mf;if(ii){var wf="oninput"in document;if(!wf){var i0=document.createElement("div");i0.setAttribute("oninput","return;"),wf=typeof i0.oninput=="function"}Mf=wf}else Mf=!1;n0=Mf&&(!document.documentMode||9<document.documentMode)}function r0(){_o&&(_o.detachEvent("onpropertychange",s0),zo=_o=null)}function s0(r){if(r.propertyName==="value"&&Ll(zo)){var o=[];t0(o,zo,r,gf(r)),Ig(pM,o)}}function mM(r,o,u){r==="focusin"?(r0(),_o=o,zo=u,_o.attachEvent("onpropertychange",s0)):r==="focusout"&&r0()}function gM(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ll(zo)}function yM(r,o){if(r==="click")return Ll(o)}function vM(r,o){if(r==="input"||r==="change")return Ll(o)}function bM(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var rn=typeof Object.is=="function"?Object.is:bM;function Lo(r,o){if(rn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!Tt.call(o,m)||!rn(r[m],o[m]))return!1}return!0}function o0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function a0(r,o){var u=o0(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=o&&f>=o)return{node:u,offset:o-r};r=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=o0(u)}}function l0(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?l0(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function u0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Ol(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=Ol(r.document)}return o}function kf(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var xM=ii&&"documentMode"in document&&11>=document.documentMode,Ss=null,Af=null,Bo=null,Of=!1;function c0(r,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Of||Ss==null||Ss!==Ol(f)||(f=Ss,"selectionStart"in f&&kf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Bo&&Lo(Bo,f)||(Bo=f,f=Su(Af,"onSelect"),0<f.length&&(o=new _l("onSelect","select",null,o,u),r.push({event:o,listeners:f}),o.target=Ss)))}function Cr(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Ts={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Df={},f0={};ii&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Mr(r){if(Df[r])return Df[r];if(!Ts[r])return r;var o=Ts[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in f0)return Df[r]=o[u];return r}var d0=Mr("animationend"),h0=Mr("animationiteration"),p0=Mr("animationstart"),SM=Mr("transitionrun"),TM=Mr("transitionstart"),EM=Mr("transitioncancel"),m0=Mr("transitionend"),g0=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function jn(r,o){g0.set(r,o),Tr(o,[r])}var y0=new WeakMap;function yn(r,o){if(typeof r=="object"&&r!==null){var u=y0.get(r);return u!==void 0?u:(o={value:r,source:o,stack:jg(o)},y0.set(r,o),o)}return{value:r,source:o,stack:jg(o)}}var vn=[],Es=0,Rf=0;function Bl(){for(var r=Es,o=Rf=Es=0;o<r;){var u=vn[o];vn[o++]=null;var f=vn[o];vn[o++]=null;var m=vn[o];vn[o++]=null;var y=vn[o];if(vn[o++]=null,f!==null&&m!==null){var S=f.pending;S===null?m.next=m:(m.next=S.next,S.next=m),f.pending=m}y!==0&&v0(u,m,y)}}function Vl(r,o,u,f){vn[Es++]=r,vn[Es++]=o,vn[Es++]=u,vn[Es++]=f,Rf|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function jf(r,o,u,f){return Vl(r,o,u,f),Pl(r)}function Cs(r,o){return Vl(r,null,null,o),Pl(r)}function v0(r,o,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var m=!1,y=r.return;y!==null;)y.childLanes|=u,f=y.alternate,f!==null&&(f.childLanes|=u),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&o!==null&&(m=31-nn(u),r=y.hiddenUpdates,f=r[m],f===null?r[m]=[o]:f.push(o),o.lane=u|536870912),y):null}function Pl(r){if(50<la)throw la=0,Pd=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Ms={};function CM(r,o,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(r,o,u,f){return new CM(r,o,u,f)}function _f(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ri(r,o){var u=r.alternate;return u===null?(u=sn(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function b0(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Hl(r,o,u,f,m,y){var S=0;if(f=r,typeof r=="function")_f(r)&&(S=1);else if(typeof r=="string")S=ww(r,u,ct.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case K:return r=sn(31,u,o,m),r.elementType=K,r.lanes=y,r;case x:return wr(u.children,m,y,o);case E:S=8,m|=24;break;case C:return r=sn(12,u,o,m|2),r.elementType=C,r.lanes=y,r;case _:return r=sn(13,u,o,m),r.elementType=_,r.lanes=y,r;case U:return r=sn(19,u,o,m),r.elementType=U,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:case A:S=10;break t;case O:S=9;break t;case B:S=11;break t;case G:S=14;break t;case q:S=16,f=null;break t}S=29,u=Error(i(130,r===null?"null":typeof r,"")),f=null}return o=sn(S,u,o,m),o.elementType=r,o.type=f,o.lanes=y,o}function wr(r,o,u,f){return r=sn(7,r,f,o),r.lanes=u,r}function zf(r,o,u){return r=sn(6,r,null,o),r.lanes=u,r}function Lf(r,o,u){return o=sn(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var ws=[],ks=0,Ul=null,Il=0,bn=[],xn=0,kr=null,si=1,oi="";function Ar(r,o){ws[ks++]=Il,ws[ks++]=Ul,Ul=r,Il=o}function x0(r,o,u){bn[xn++]=si,bn[xn++]=oi,bn[xn++]=kr,kr=r;var f=si;r=oi;var m=32-nn(f)-1;f&=~(1<<m),u+=1;var y=32-nn(o)+m;if(30<y){var S=m-m%5;y=(f&(1<<S)-1).toString(32),f>>=S,m-=S,si=1<<32-nn(o)+m|u<<m|f,oi=y+r}else si=1<<y|u<<m|f,oi=r}function Bf(r){r.return!==null&&(Ar(r,1),x0(r,1,0))}function Vf(r){for(;r===Ul;)Ul=ws[--ks],ws[ks]=null,Il=ws[--ks],ws[ks]=null;for(;r===kr;)kr=bn[--xn],bn[xn]=null,oi=bn[--xn],bn[xn]=null,si=bn[--xn],bn[xn]=null}var Ve=null,Zt=null,_t=!1,Or=null,Hn=!1,Pf=Error(i(519));function Dr(r){var o=Error(i(418,""));throw Ho(yn(o,r)),Pf}function S0(r){var o=r.stateNode,u=r.type,f=r.memoizedProps;switch(o[Oe]=r,o[Ke]=f,u){case"dialog":At("cancel",o),At("close",o);break;case"iframe":case"object":case"embed":At("load",o);break;case"video":case"audio":for(u=0;u<ca.length;u++)At(ca[u],o);break;case"source":At("error",o);break;case"img":case"image":case"link":At("error",o),At("load",o);break;case"details":At("toggle",o);break;case"input":At("invalid",o),Lg(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Al(o);break;case"select":At("invalid",o);break;case"textarea":At("invalid",o),Vg(o,f.value,f.defaultValue,f.children),Al(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||V1(o.textContent,u)?(f.popover!=null&&(At("beforetoggle",o),At("toggle",o)),f.onScroll!=null&&At("scroll",o),f.onScrollEnd!=null&&At("scrollend",o),f.onClick!=null&&(o.onclick=Tu),o=!0):o=!1,o||Dr(r)}function T0(r){for(Ve=r.return;Ve;)switch(Ve.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Ve=Ve.return}}function Vo(r){if(r!==Ve)return!1;if(!_t)return T0(r),_t=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||eh(r.type,r.memoizedProps)),u=!u),u&&Zt&&Dr(r),T0(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){Zt=zn(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}Zt=null}}else o===27?(o=Zt,Ki(r.type)?(r=sh,sh=null,Zt=r):Zt=o):Zt=Ve?zn(r.stateNode.nextSibling):null;return!0}function Po(){Zt=Ve=null,_t=!1}function E0(){var r=Or;return r!==null&&(Ze===null?Ze=r:Ze.push.apply(Ze,r),Or=null),r}function Ho(r){Or===null?Or=[r]:Or.push(r)}var Hf=X(null),Nr=null,ai=null;function Ri(r,o,u){et(Hf,o._currentValue),o._currentValue=u}function li(r){r._currentValue=Hf.current,it(Hf)}function Uf(r,o,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===u)break;r=r.return}}function If(r,o,u,f){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;t:for(;y!==null;){var M=y;y=m;for(var D=0;D<o.length;D++)if(M.context===o[D]){y.lanes|=u,M=y.alternate,M!==null&&(M.lanes|=u),Uf(y.return,u,r),f||(S=null);break t}y=M.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=u,y=S.alternate,y!==null&&(y.lanes|=u),Uf(S,u,r),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Uo(r,o,u,f){r=null;for(var m=o,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var M=m.type;rn(m.pendingProps.value,S.value)||(r!==null?r.push(M):r=[M])}}else if(m===W.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(ga):r=[ga])}m=m.return}r!==null&&If(o,r,u,f),o.flags|=262144}function Fl(r){for(r=r.firstContext;r!==null;){if(!rn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Rr(r){Nr=r,ai=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function De(r){return C0(Nr,r)}function ql(r,o){return Nr===null&&Rr(r),C0(r,o)}function C0(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ai===null){if(r===null)throw Error(i(308));ai=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else ai=ai.next=o;return u}var MM=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},wM=e.unstable_scheduleCallback,kM=e.unstable_NormalPriority,ue={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new MM,data:new Map,refCount:0}}function Io(r){r.refCount--,r.refCount===0&&wM(kM,function(){r.controller.abort()})}var Fo=null,qf=0,As=0,Os=null;function AM(r,o){if(Fo===null){var u=Fo=[];qf=0,As=Gd(),Os={status:"pending",value:void 0,then:function(f){u.push(f)}}}return qf++,o.then(M0,M0),o}function M0(){if(--qf===0&&Fo!==null){Os!==null&&(Os.status="fulfilled");var r=Fo;Fo=null,As=0,Os=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function OM(r,o){var u=[],f={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var m=0;m<u.length;m++)(0,u[m])(o)},function(m){for(f.status="rejected",f.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),f}var w0=H.S;H.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&AM(r,o),w0!==null&&w0(r,o)};var jr=X(null);function $f(){var r=jr.current;return r!==null?r:Ft.pooledCache}function $l(r,o){o===null?et(jr,jr.current):et(jr,o.pool)}function k0(){var r=$f();return r===null?null:{parent:ue._currentValue,pool:r}}var qo=Error(i(460)),A0=Error(i(474)),Gl=Error(i(542)),Gf={then:function(){}};function O0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Kl(){}function D0(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Kl,Kl),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,R0(r),r;default:if(typeof o.status=="string")o.then(Kl,Kl);else{if(r=Ft,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=f}},function(f){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,R0(r),r}throw $o=o,qo}}var $o=null;function N0(){if($o===null)throw Error(i(459));var r=$o;return $o=null,r}function R0(r){if(r===qo||r===Gl)throw Error(i(483))}var ji=!1;function Kf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function _i(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function zi(r,o,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(zt&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,o=Pl(r),v0(r,null,u),o}return Vl(r,f,o,u),Pl(r)}function Go(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,Mg(r,u)}}function Xf(r,o){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var S={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,u=u.next}while(u!==null);y===null?m=y=o:y=y.next=o}else m=y=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var Jf=!1;function Ko(){if(Jf){var r=Os;if(r!==null)throw r}}function Yo(r,o,u,f){Jf=!1;var m=r.updateQueue;ji=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var D=M,L=D.next;D.next=null,S===null?y=L:S.next=L,S=D;var I=r.alternate;I!==null&&(I=I.updateQueue,M=I.lastBaseUpdate,M!==S&&(M===null?I.firstBaseUpdate=L:M.next=L,I.lastBaseUpdate=D))}if(y!==null){var $=m.baseState;S=0,I=L=D=null,M=y;do{var V=M.lane&-536870913,P=V!==M.lane;if(P?(Nt&V)===V:(f&V)===V){V!==0&&V===As&&(Jf=!0),I!==null&&(I=I.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var gt=r,dt=M;V=o;var Ht=u;switch(dt.tag){case 1:if(gt=dt.payload,typeof gt=="function"){$=gt.call(Ht,$,V);break t}$=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=dt.payload,V=typeof gt=="function"?gt.call(Ht,$,V):gt,V==null)break t;$=p({},$,V);break t;case 2:ji=!0}}V=M.callback,V!==null&&(r.flags|=64,P&&(r.flags|=8192),P=m.callbacks,P===null?m.callbacks=[V]:P.push(V))}else P={lane:V,tag:M.tag,payload:M.payload,callback:M.callback,next:null},I===null?(L=I=P,D=$):I=I.next=P,S|=V;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;P=M,M=P.next,P.next=null,m.lastBaseUpdate=P,m.shared.pending=null}}while(!0);I===null&&(D=$),m.baseState=D,m.firstBaseUpdate=L,m.lastBaseUpdate=I,y===null&&(m.shared.lanes=0),Fi|=S,r.lanes=S,r.memoizedState=$}}function j0(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function _0(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)j0(u[r],o)}var Ds=X(null),Yl=X(0);function z0(r,o){r=mi,et(Yl,r),et(Ds,o),mi=r|o.baseLanes}function Zf(){et(Yl,mi),et(Ds,Ds.current)}function Qf(){mi=Yl.current,it(Ds),it(Yl)}var Li=0,Et=null,Vt=null,se=null,Xl=!1,Ns=!1,_r=!1,Jl=0,Xo=0,Rs=null,DM=0;function ne(){throw Error(i(321))}function Wf(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!rn(r[u],o[u]))return!1;return!0}function td(r,o,u,f,m,y){return Li=y,Et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=r===null||r.memoizedState===null?vy:by,_r=!1,y=u(f,m),_r=!1,Ns&&(y=B0(o,u,f,m)),L0(r),y}function L0(r){H.H=nu;var o=Vt!==null&&Vt.next!==null;if(Li=0,se=Vt=Et=null,Xl=!1,Xo=0,Rs=null,o)throw Error(i(300));r===null||de||(r=r.dependencies,r!==null&&Fl(r)&&(de=!0))}function B0(r,o,u,f){Et=r;var m=0;do{if(Ns&&(Rs=null),Xo=0,Ns=!1,25<=m)throw Error(i(301));if(m+=1,se=Vt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=BM,y=o(u,f)}while(Ns);return y}function NM(){var r=H.H,o=r.useState()[0];return o=typeof o.then=="function"?Jo(o):o,r=r.useState()[0],(Vt!==null?Vt.memoizedState:null)!==r&&(Et.flags|=1024),o}function ed(){var r=Jl!==0;return Jl=0,r}function nd(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function id(r){if(Xl){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Xl=!1}Li=0,se=Vt=Et=null,Ns=!1,Xo=Jl=0,Rs=null}function Xe(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?Et.memoizedState=se=r:se=se.next=r,se}function oe(){if(Vt===null){var r=Et.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var o=se===null?Et.memoizedState:se.next;if(o!==null)se=o,Vt=r;else{if(r===null)throw Et.alternate===null?Error(i(467)):Error(i(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},se===null?Et.memoizedState=se=r:se=se.next=r}return se}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(r){var o=Xo;return Xo+=1,Rs===null&&(Rs=[]),r=D0(Rs,r,o),o=Et,(se===null?o.memoizedState:se.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?vy:by),r}function Zl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Jo(r);if(r.$$typeof===A)return De(r)}throw Error(i(438,String(r)))}function sd(r){var o=null,u=Et.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=Et.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=rd(),Et.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),f=0;f<r;f++)u[f]=tt;return o.index++,u}function ui(r,o){return typeof o=="function"?o(r):o}function Ql(r){var o=oe();return od(o,Vt,r)}function od(r,o,u){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var m=r.baseQueue,y=f.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}o.baseQueue=m=y,f.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{o=m.next;var M=S=null,D=null,L=o,I=!1;do{var $=L.lane&-536870913;if($!==L.lane?(Nt&$)===$:(Li&$)===$){var V=L.revertLane;if(V===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),$===As&&(I=!0);else if((Li&V)===V){L=L.next,V===As&&(I=!0);continue}else $={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},D===null?(M=D=$,S=y):D=D.next=$,Et.lanes|=V,Fi|=V;$=L.action,_r&&u(y,$),y=L.hasEagerState?L.eagerState:u(y,$)}else V={lane:$,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},D===null?(M=D=V,S=y):D=D.next=V,Et.lanes|=$,Fi|=$;L=L.next}while(L!==null&&L!==o);if(D===null?S=y:D.next=M,!rn(y,r.memoizedState)&&(de=!0,I&&(u=Os,u!==null)))throw u;r.memoizedState=y,r.baseState=S,r.baseQueue=D,f.lastRenderedState=y}return m===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function ad(r){var o=oe(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var f=u.dispatch,m=u.pending,y=o.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do y=r(y,S.action),S=S.next;while(S!==m);rn(y,o.memoizedState)||(de=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,f]}function V0(r,o,u){var f=Et,m=oe(),y=_t;if(y){if(u===void 0)throw Error(i(407));u=u()}else u=o();var S=!rn((Vt||m).memoizedState,u);S&&(m.memoizedState=u,de=!0),m=m.queue;var M=U0.bind(null,f,m,r);if(Zo(2048,8,M,[r]),m.getSnapshot!==o||S||se!==null&&se.memoizedState.tag&1){if(f.flags|=2048,js(9,Wl(),H0.bind(null,f,m,u,o),null),Ft===null)throw Error(i(349));y||(Li&124)!==0||P0(f,o,u)}return u}function P0(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Et.updateQueue,o===null?(o=rd(),Et.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function H0(r,o,u,f){o.value=u,o.getSnapshot=f,I0(o)&&F0(r)}function U0(r,o,u){return u(function(){I0(o)&&F0(r)})}function I0(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!rn(r,u)}catch{return!0}}function F0(r){var o=Cs(r,2);o!==null&&cn(o,r,2)}function ld(r){var o=Xe();if(typeof r=="function"){var u=r;if(r=u(),_r){Oi(!0);try{u()}finally{Oi(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:r},o}function q0(r,o,u,f){return r.baseState=u,od(r,Vt,typeof f=="function"?f:ui)}function RM(r,o,u,f,m){if(eu(r))throw Error(i(485));if(r=o.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};H.T!==null?u(!0):y.isTransition=!1,f(y),u=o.pending,u===null?(y.next=o.pending=y,$0(o,y)):(y.next=u.next,o.pending=u.next=y)}}function $0(r,o){var u=o.action,f=o.payload,m=r.state;if(o.isTransition){var y=H.T,S={};H.T=S;try{var M=u(m,f),D=H.S;D!==null&&D(S,M),G0(r,o,M)}catch(L){ud(r,o,L)}finally{H.T=y}}else try{y=u(m,f),G0(r,o,y)}catch(L){ud(r,o,L)}}function G0(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){K0(r,o,f)},function(f){return ud(r,o,f)}):K0(r,o,u)}function K0(r,o,u){o.status="fulfilled",o.value=u,Y0(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,$0(r,u)))}function ud(r,o,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,Y0(o),o=o.next;while(o!==f)}r.action=null}function Y0(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function X0(r,o){return o}function J0(r,o){if(_t){var u=Ft.formState;if(u!==null){t:{var f=Et;if(_t){if(Zt){e:{for(var m=Zt,y=Hn;m.nodeType!==8;){if(!y){m=null;break e}if(m=zn(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Zt=zn(m.nextSibling),f=m.data==="F!";break t}}Dr(f)}f=!1}f&&(o=u[0])}}return u=Xe(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X0,lastRenderedState:o},u.queue=f,u=my.bind(null,Et,f),f.dispatch=u,f=ld(!1),y=pd.bind(null,Et,!1,f.queue),f=Xe(),m={state:o,dispatch:null,action:r,pending:null},f.queue=m,u=RM.bind(null,Et,m,y,u),m.dispatch=u,f.memoizedState=r,[o,u,!1]}function Z0(r){var o=oe();return Q0(o,Vt,r)}function Q0(r,o,u){if(o=od(r,o,X0)[0],r=Ql(ui)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Jo(o)}catch(S){throw S===qo?Gl:S}else f=o;o=oe();var m=o.queue,y=m.dispatch;return u!==o.memoizedState&&(Et.flags|=2048,js(9,Wl(),jM.bind(null,m,u),null)),[f,y,r]}function jM(r,o){r.action=o}function W0(r){var o=oe(),u=Vt;if(u!==null)return Q0(o,u,r);oe(),o=o.memoizedState,u=oe();var f=u.queue.dispatch;return u.memoizedState=r,[o,f,!1]}function js(r,o,u,f){return r={tag:r,create:u,deps:f,inst:o,next:null},o=Et.updateQueue,o===null&&(o=rd(),Et.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,o.lastEffect=r),r}function Wl(){return{destroy:void 0,resource:void 0}}function ty(){return oe().memoizedState}function tu(r,o,u,f){var m=Xe();f=f===void 0?null:f,Et.flags|=r,m.memoizedState=js(1|o,Wl(),u,f)}function Zo(r,o,u,f){var m=oe();f=f===void 0?null:f;var y=m.memoizedState.inst;Vt!==null&&f!==null&&Wf(f,Vt.memoizedState.deps)?m.memoizedState=js(o,y,u,f):(Et.flags|=r,m.memoizedState=js(1|o,y,u,f))}function ey(r,o){tu(8390656,8,r,o)}function ny(r,o){Zo(2048,8,r,o)}function iy(r,o){return Zo(4,2,r,o)}function ry(r,o){return Zo(4,4,r,o)}function sy(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function oy(r,o,u){u=u!=null?u.concat([r]):null,Zo(4,4,sy.bind(null,o,r),u)}function cd(){}function ay(r,o){var u=oe();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&Wf(o,f[1])?f[0]:(u.memoizedState=[r,o],r)}function ly(r,o){var u=oe();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&Wf(o,f[1]))return f[0];if(f=r(),_r){Oi(!0);try{r()}finally{Oi(!1)}}return u.memoizedState=[f,o],f}function fd(r,o,u){return u===void 0||(Li&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=f1(),Et.lanes|=r,Fi|=r,u)}function uy(r,o,u,f){return rn(u,o)?u:Ds.current!==null?(r=fd(r,u,f),rn(r,o)||(de=!0),r):(Li&42)===0?(de=!0,r.memoizedState=u):(r=f1(),Et.lanes|=r,Fi|=r,o)}function cy(r,o,u,f,m){var y=Y.p;Y.p=y!==0&&8>y?y:8;var S=H.T,M={};H.T=M,pd(r,!1,o,u);try{var D=m(),L=H.S;if(L!==null&&L(M,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var I=OM(D,f);Qo(r,o,I,un(r))}else Qo(r,o,f,un(r))}catch($){Qo(r,o,{then:function(){},status:"rejected",reason:$},un())}finally{Y.p=y,H.T=S}}function _M(){}function dd(r,o,u,f){if(r.tag!==5)throw Error(i(476));var m=fy(r).queue;cy(r,m,o,Q,u===null?_M:function(){return dy(r),u(f)})}function fy(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:Q},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function dy(r){var o=fy(r).next.queue;Qo(r,o,{},un())}function hd(){return De(ga)}function hy(){return oe().memoizedState}function py(){return oe().memoizedState}function zM(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=un();r=_i(u);var f=zi(o,r,u);f!==null&&(cn(f,o,u),Go(f,o,u)),o={cache:Ff()},r.payload=o;return}o=o.return}}function LM(r,o,u){var f=un();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},eu(r)?gy(o,u):(u=jf(r,o,u,f),u!==null&&(cn(u,r,f),yy(u,o,f)))}function my(r,o,u){var f=un();Qo(r,o,u,f)}function Qo(r,o,u,f){var m={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(eu(r))gy(o,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,M=y(S,u);if(m.hasEagerState=!0,m.eagerState=M,rn(M,S))return Vl(r,o,m,0),Ft===null&&Bl(),!1}catch{}finally{}if(u=jf(r,o,m,f),u!==null)return cn(u,r,f),yy(u,o,f),!0}return!1}function pd(r,o,u,f){if(f={lane:2,revertLane:Gd(),action:f,hasEagerState:!1,eagerState:null,next:null},eu(r)){if(o)throw Error(i(479))}else o=jf(r,u,f,2),o!==null&&cn(o,r,2)}function eu(r){var o=r.alternate;return r===Et||o!==null&&o===Et}function gy(r,o){Ns=Xl=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function yy(r,o,u){if((u&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,Mg(r,u)}}var nu={readContext:De,use:Zl,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useLayoutEffect:ne,useInsertionEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useSyncExternalStore:ne,useId:ne,useHostTransitionStatus:ne,useFormState:ne,useActionState:ne,useOptimistic:ne,useMemoCache:ne,useCacheRefresh:ne},vy={readContext:De,use:Zl,useCallback:function(r,o){return Xe().memoizedState=[r,o===void 0?null:o],r},useContext:De,useEffect:ey,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,tu(4194308,4,sy.bind(null,o,r),u)},useLayoutEffect:function(r,o){return tu(4194308,4,r,o)},useInsertionEffect:function(r,o){tu(4,2,r,o)},useMemo:function(r,o){var u=Xe();o=o===void 0?null:o;var f=r();if(_r){Oi(!0);try{r()}finally{Oi(!1)}}return u.memoizedState=[f,o],f},useReducer:function(r,o,u){var f=Xe();if(u!==void 0){var m=u(o);if(_r){Oi(!0);try{u(o)}finally{Oi(!1)}}}else m=o;return f.memoizedState=f.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},f.queue=r,r=r.dispatch=LM.bind(null,Et,r),[f.memoizedState,r]},useRef:function(r){var o=Xe();return r={current:r},o.memoizedState=r},useState:function(r){r=ld(r);var o=r.queue,u=my.bind(null,Et,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:cd,useDeferredValue:function(r,o){var u=Xe();return fd(u,r,o)},useTransition:function(){var r=ld(!1);return r=cy.bind(null,Et,r.queue,!0,!1),Xe().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var f=Et,m=Xe();if(_t){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Ft===null)throw Error(i(349));(Nt&124)!==0||P0(f,o,u)}m.memoizedState=u;var y={value:u,getSnapshot:o};return m.queue=y,ey(U0.bind(null,f,y,r),[r]),f.flags|=2048,js(9,Wl(),H0.bind(null,f,y,u,o),null),u},useId:function(){var r=Xe(),o=Ft.identifierPrefix;if(_t){var u=oi,f=si;u=(f&~(1<<32-nn(f)-1)).toString(32)+u,o="«"+o+"R"+u,u=Jl++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=DM++,o="«"+o+"r"+u.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:hd,useFormState:J0,useActionState:J0,useOptimistic:function(r){var o=Xe();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=pd.bind(null,Et,!0,u),u.dispatch=o,[r,o]},useMemoCache:sd,useCacheRefresh:function(){return Xe().memoizedState=zM.bind(null,Et)}},by={readContext:De,use:Zl,useCallback:ay,useContext:De,useEffect:ny,useImperativeHandle:oy,useInsertionEffect:iy,useLayoutEffect:ry,useMemo:ly,useReducer:Ql,useRef:ty,useState:function(){return Ql(ui)},useDebugValue:cd,useDeferredValue:function(r,o){var u=oe();return uy(u,Vt.memoizedState,r,o)},useTransition:function(){var r=Ql(ui)[0],o=oe().memoizedState;return[typeof r=="boolean"?r:Jo(r),o]},useSyncExternalStore:V0,useId:hy,useHostTransitionStatus:hd,useFormState:Z0,useActionState:Z0,useOptimistic:function(r,o){var u=oe();return q0(u,Vt,r,o)},useMemoCache:sd,useCacheRefresh:py},BM={readContext:De,use:Zl,useCallback:ay,useContext:De,useEffect:ny,useImperativeHandle:oy,useInsertionEffect:iy,useLayoutEffect:ry,useMemo:ly,useReducer:ad,useRef:ty,useState:function(){return ad(ui)},useDebugValue:cd,useDeferredValue:function(r,o){var u=oe();return Vt===null?fd(u,r,o):uy(u,Vt.memoizedState,r,o)},useTransition:function(){var r=ad(ui)[0],o=oe().memoizedState;return[typeof r=="boolean"?r:Jo(r),o]},useSyncExternalStore:V0,useId:hy,useHostTransitionStatus:hd,useFormState:W0,useActionState:W0,useOptimistic:function(r,o){var u=oe();return Vt!==null?q0(u,Vt,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:sd,useCacheRefresh:py},_s=null,Wo=0;function iu(r){var o=Wo;return Wo+=1,_s===null&&(_s=[]),D0(_s,r,o)}function ta(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function ru(r,o){throw o.$$typeof===g?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function xy(r){var o=r._init;return o(r._payload)}function Sy(r){function o(j,R){if(r){var z=j.deletions;z===null?(j.deletions=[R],j.flags|=16):z.push(R)}}function u(j,R){if(!r)return null;for(;R!==null;)o(j,R),R=R.sibling;return null}function f(j){for(var R=new Map;j!==null;)j.key!==null?R.set(j.key,j):R.set(j.index,j),j=j.sibling;return R}function m(j,R){return j=ri(j,R),j.index=0,j.sibling=null,j}function y(j,R,z){return j.index=z,r?(z=j.alternate,z!==null?(z=z.index,z<R?(j.flags|=67108866,R):z):(j.flags|=67108866,R)):(j.flags|=1048576,R)}function S(j){return r&&j.alternate===null&&(j.flags|=67108866),j}function M(j,R,z,F){return R===null||R.tag!==6?(R=zf(z,j.mode,F),R.return=j,R):(R=m(R,z),R.return=j,R)}function D(j,R,z,F){var st=z.type;return st===x?I(j,R,z.props.children,F,z.key):R!==null&&(R.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===q&&xy(st)===R.type)?(R=m(R,z.props),ta(R,z),R.return=j,R):(R=Hl(z.type,z.key,z.props,null,j.mode,F),ta(R,z),R.return=j,R)}function L(j,R,z,F){return R===null||R.tag!==4||R.stateNode.containerInfo!==z.containerInfo||R.stateNode.implementation!==z.implementation?(R=Lf(z,j.mode,F),R.return=j,R):(R=m(R,z.children||[]),R.return=j,R)}function I(j,R,z,F,st){return R===null||R.tag!==7?(R=wr(z,j.mode,F,st),R.return=j,R):(R=m(R,z),R.return=j,R)}function $(j,R,z){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=zf(""+R,j.mode,z),R.return=j,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return z=Hl(R.type,R.key,R.props,null,j.mode,z),ta(z,R),z.return=j,z;case b:return R=Lf(R,j.mode,z),R.return=j,R;case q:var F=R._init;return R=F(R._payload),$(j,R,z)}if(rt(R)||Ot(R))return R=wr(R,j.mode,z,null),R.return=j,R;if(typeof R.then=="function")return $(j,iu(R),z);if(R.$$typeof===A)return $(j,ql(j,R),z);ru(j,R)}return null}function V(j,R,z,F){var st=R!==null?R.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return st!==null?null:M(j,R,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===st?D(j,R,z,F):null;case b:return z.key===st?L(j,R,z,F):null;case q:return st=z._init,z=st(z._payload),V(j,R,z,F)}if(rt(z)||Ot(z))return st!==null?null:I(j,R,z,F,null);if(typeof z.then=="function")return V(j,R,iu(z),F);if(z.$$typeof===A)return V(j,R,ql(j,z),F);ru(j,z)}return null}function P(j,R,z,F,st){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return j=j.get(z)||null,M(R,j,""+F,st);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case v:return j=j.get(F.key===null?z:F.key)||null,D(R,j,F,st);case b:return j=j.get(F.key===null?z:F.key)||null,L(R,j,F,st);case q:var wt=F._init;return F=wt(F._payload),P(j,R,z,F,st)}if(rt(F)||Ot(F))return j=j.get(z)||null,I(R,j,F,st,null);if(typeof F.then=="function")return P(j,R,z,iu(F),st);if(F.$$typeof===A)return P(j,R,z,ql(R,F),st);ru(R,F)}return null}function gt(j,R,z,F){for(var st=null,wt=null,ut=R,ht=R=0,pe=null;ut!==null&&ht<z.length;ht++){ut.index>ht?(pe=ut,ut=null):pe=ut.sibling;var Rt=V(j,ut,z[ht],F);if(Rt===null){ut===null&&(ut=pe);break}r&&ut&&Rt.alternate===null&&o(j,ut),R=y(Rt,R,ht),wt===null?st=Rt:wt.sibling=Rt,wt=Rt,ut=pe}if(ht===z.length)return u(j,ut),_t&&Ar(j,ht),st;if(ut===null){for(;ht<z.length;ht++)ut=$(j,z[ht],F),ut!==null&&(R=y(ut,R,ht),wt===null?st=ut:wt.sibling=ut,wt=ut);return _t&&Ar(j,ht),st}for(ut=f(ut);ht<z.length;ht++)pe=P(ut,j,ht,z[ht],F),pe!==null&&(r&&pe.alternate!==null&&ut.delete(pe.key===null?ht:pe.key),R=y(pe,R,ht),wt===null?st=pe:wt.sibling=pe,wt=pe);return r&&ut.forEach(function(Qi){return o(j,Qi)}),_t&&Ar(j,ht),st}function dt(j,R,z,F){if(z==null)throw Error(i(151));for(var st=null,wt=null,ut=R,ht=R=0,pe=null,Rt=z.next();ut!==null&&!Rt.done;ht++,Rt=z.next()){ut.index>ht?(pe=ut,ut=null):pe=ut.sibling;var Qi=V(j,ut,Rt.value,F);if(Qi===null){ut===null&&(ut=pe);break}r&&ut&&Qi.alternate===null&&o(j,ut),R=y(Qi,R,ht),wt===null?st=Qi:wt.sibling=Qi,wt=Qi,ut=pe}if(Rt.done)return u(j,ut),_t&&Ar(j,ht),st;if(ut===null){for(;!Rt.done;ht++,Rt=z.next())Rt=$(j,Rt.value,F),Rt!==null&&(R=y(Rt,R,ht),wt===null?st=Rt:wt.sibling=Rt,wt=Rt);return _t&&Ar(j,ht),st}for(ut=f(ut);!Rt.done;ht++,Rt=z.next())Rt=P(ut,j,ht,Rt.value,F),Rt!==null&&(r&&Rt.alternate!==null&&ut.delete(Rt.key===null?ht:Rt.key),R=y(Rt,R,ht),wt===null?st=Rt:wt.sibling=Rt,wt=Rt);return r&&ut.forEach(function(Vw){return o(j,Vw)}),_t&&Ar(j,ht),st}function Ht(j,R,z,F){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:t:{for(var st=z.key;R!==null;){if(R.key===st){if(st=z.type,st===x){if(R.tag===7){u(j,R.sibling),F=m(R,z.props.children),F.return=j,j=F;break t}}else if(R.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===q&&xy(st)===R.type){u(j,R.sibling),F=m(R,z.props),ta(F,z),F.return=j,j=F;break t}u(j,R);break}else o(j,R);R=R.sibling}z.type===x?(F=wr(z.props.children,j.mode,F,z.key),F.return=j,j=F):(F=Hl(z.type,z.key,z.props,null,j.mode,F),ta(F,z),F.return=j,j=F)}return S(j);case b:t:{for(st=z.key;R!==null;){if(R.key===st)if(R.tag===4&&R.stateNode.containerInfo===z.containerInfo&&R.stateNode.implementation===z.implementation){u(j,R.sibling),F=m(R,z.children||[]),F.return=j,j=F;break t}else{u(j,R);break}else o(j,R);R=R.sibling}F=Lf(z,j.mode,F),F.return=j,j=F}return S(j);case q:return st=z._init,z=st(z._payload),Ht(j,R,z,F)}if(rt(z))return gt(j,R,z,F);if(Ot(z)){if(st=Ot(z),typeof st!="function")throw Error(i(150));return z=st.call(z),dt(j,R,z,F)}if(typeof z.then=="function")return Ht(j,R,iu(z),F);if(z.$$typeof===A)return Ht(j,R,ql(j,z),F);ru(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,R!==null&&R.tag===6?(u(j,R.sibling),F=m(R,z),F.return=j,j=F):(u(j,R),F=zf(z,j.mode,F),F.return=j,j=F),S(j)):u(j,R)}return function(j,R,z,F){try{Wo=0;var st=Ht(j,R,z,F);return _s=null,st}catch(ut){if(ut===qo||ut===Gl)throw ut;var wt=sn(29,ut,null,j.mode);return wt.lanes=F,wt.return=j,wt}finally{}}}var zs=Sy(!0),Ty=Sy(!1),Sn=X(null),Un=null;function Bi(r){var o=r.alternate;et(ce,ce.current&1),et(Sn,r),Un===null&&(o===null||Ds.current!==null||o.memoizedState!==null)&&(Un=r)}function Ey(r){if(r.tag===22){if(et(ce,ce.current),et(Sn,r),Un===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Un=r)}}else Vi()}function Vi(){et(ce,ce.current),et(Sn,Sn.current)}function ci(r){it(Sn),Un===r&&(Un=null),it(ce)}var ce=X(0);function su(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||rh(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function md(r,o,u,f){o=r.memoizedState,u=u(f,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var gd={enqueueSetState:function(r,o,u){r=r._reactInternals;var f=un(),m=_i(f);m.payload=o,u!=null&&(m.callback=u),o=zi(r,m,f),o!==null&&(cn(o,r,f),Go(o,r,f))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var f=un(),m=_i(f);m.tag=1,m.payload=o,u!=null&&(m.callback=u),o=zi(r,m,f),o!==null&&(cn(o,r,f),Go(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=un(),f=_i(u);f.tag=2,o!=null&&(f.callback=o),o=zi(r,f,u),o!==null&&(cn(o,r,u),Go(o,r,u))}};function Cy(r,o,u,f,m,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,S):o.prototype&&o.prototype.isPureReactComponent?!Lo(u,f)||!Lo(m,y):!0}function My(r,o,u,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==r&&gd.enqueueReplaceState(o,o.state,null)}function zr(r,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var m in r)u[m]===void 0&&(u[m]=r[m])}return u}var ou=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function wy(r){ou(r)}function ky(r){console.error(r)}function Ay(r){ou(r)}function au(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function Oy(r,o,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function yd(r,o,u){return u=_i(u),u.tag=3,u.payload={element:null},u.callback=function(){au(r,o)},u}function Dy(r){return r=_i(r),r.tag=3,r}function Ny(r,o,u,f){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var y=f.value;r.payload=function(){return m(y)},r.callback=function(){Oy(o,u,f)}}var S=u.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){Oy(o,u,f),typeof m!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function VM(r,o,u,f,m){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&Uo(o,u,m,!0),u=Sn.current,u!==null){switch(u.tag){case 13:return Un===null?Ud():u.alternate===null&&Qt===0&&(Qt=3),u.flags&=-257,u.flags|=65536,u.lanes=m,f===Gf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),Fd(r,f,m)),!1;case 22:return u.flags|=65536,f===Gf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),Fd(r,f,m)),!1}throw Error(i(435,u.tag))}return Fd(r,f,m),Ud(),!1}if(_t)return o=Sn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,f!==Pf&&(r=Error(i(422),{cause:f}),Ho(yn(r,u)))):(f!==Pf&&(o=Error(i(423),{cause:f}),Ho(yn(o,u))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,f=yn(f,u),m=yd(r.stateNode,f,m),Xf(r,m),Qt!==4&&(Qt=2)),!1;var y=Error(i(520),{cause:f});if(y=yn(y,u),aa===null?aa=[y]:aa.push(y),Qt!==4&&(Qt=2),o===null)return!0;f=yn(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=m&-m,u.lanes|=r,r=yd(u.stateNode,f,r),Xf(u,r),!1;case 1:if(o=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qi===null||!qi.has(y))))return u.flags|=65536,m&=-m,u.lanes|=m,m=Dy(m),Ny(m,r,u,f),Xf(u,m),!1}u=u.return}while(u!==null);return!1}var Ry=Error(i(461)),de=!1;function xe(r,o,u,f){o.child=r===null?Ty(o,null,u,f):zs(o,r.child,u,f)}function jy(r,o,u,f,m){u=u.render;var y=o.ref;if("ref"in f){var S={};for(var M in f)M!=="ref"&&(S[M]=f[M])}else S=f;return Rr(o),f=td(r,o,u,S,y,m),M=ed(),r!==null&&!de?(nd(r,o,m),fi(r,o,m)):(_t&&M&&Bf(o),o.flags|=1,xe(r,o,f,m),o.child)}function _y(r,o,u,f,m){if(r===null){var y=u.type;return typeof y=="function"&&!_f(y)&&y.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=y,zy(r,o,y,f,m)):(r=Hl(u.type,null,f,o,o.mode,m),r.ref=o.ref,r.return=o,o.child=r)}if(y=r.child,!Md(r,m)){var S=y.memoizedProps;if(u=u.compare,u=u!==null?u:Lo,u(S,f)&&r.ref===o.ref)return fi(r,o,m)}return o.flags|=1,r=ri(y,f),r.ref=o.ref,r.return=o,o.child=r}function zy(r,o,u,f,m){if(r!==null){var y=r.memoizedProps;if(Lo(y,f)&&r.ref===o.ref)if(de=!1,o.pendingProps=f=y,Md(r,m))(r.flags&131072)!==0&&(de=!0);else return o.lanes=r.lanes,fi(r,o,m)}return vd(r,o,u,f,m)}function Ly(r,o,u){var f=o.pendingProps,m=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=y!==null?y.baseLanes|u:u,r!==null){for(m=o.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;o.childLanes=y&~f}else o.childLanes=0,o.child=null;return By(r,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&$l(o,y!==null?y.cachePool:null),y!==null?z0(o,y):Zf(),Ey(o);else return o.lanes=o.childLanes=536870912,By(r,o,y!==null?y.baseLanes|u:u,u)}else y!==null?($l(o,y.cachePool),z0(o,y),Vi(),o.memoizedState=null):(r!==null&&$l(o,null),Zf(),Vi());return xe(r,o,m,u),o.child}function By(r,o,u,f){var m=$f();return m=m===null?null:{parent:ue._currentValue,pool:m},o.memoizedState={baseLanes:u,cachePool:m},r!==null&&$l(o,null),Zf(),Ey(o),r!==null&&Uo(r,o,f,!0),null}function lu(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function vd(r,o,u,f,m){return Rr(o),u=td(r,o,u,f,void 0,m),f=ed(),r!==null&&!de?(nd(r,o,m),fi(r,o,m)):(_t&&f&&Bf(o),o.flags|=1,xe(r,o,u,m),o.child)}function Vy(r,o,u,f,m,y){return Rr(o),o.updateQueue=null,u=B0(o,f,u,m),L0(r),f=ed(),r!==null&&!de?(nd(r,o,y),fi(r,o,y)):(_t&&f&&Bf(o),o.flags|=1,xe(r,o,u,y),o.child)}function Py(r,o,u,f,m){if(Rr(o),o.stateNode===null){var y=Ms,S=u.contextType;typeof S=="object"&&S!==null&&(y=De(S)),y=new u(f,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=gd,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=f,y.state=o.memoizedState,y.refs={},Kf(o),S=u.contextType,y.context=typeof S=="object"&&S!==null?De(S):Ms,y.state=o.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(md(o,u,S,f),y.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&gd.enqueueReplaceState(y,y.state,null),Yo(o,f,y,m),Ko(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){y=o.stateNode;var M=o.memoizedProps,D=zr(u,M);y.props=D;var L=y.context,I=u.contextType;S=Ms,typeof I=="object"&&I!==null&&(S=De(I));var $=u.getDerivedStateFromProps;I=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,I||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||L!==S)&&My(o,y,f,S),ji=!1;var V=o.memoizedState;y.state=V,Yo(o,f,y,m),Ko(),L=o.memoizedState,M||V!==L||ji?(typeof $=="function"&&(md(o,u,$,f),L=o.memoizedState),(D=ji||Cy(o,u,D,f,V,L,S))?(I||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=L),y.props=f,y.state=L,y.context=S,f=D):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{y=o.stateNode,Yf(r,o),S=o.memoizedProps,I=zr(u,S),y.props=I,$=o.pendingProps,V=y.context,L=u.contextType,D=Ms,typeof L=="object"&&L!==null&&(D=De(L)),M=u.getDerivedStateFromProps,(L=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==$||V!==D)&&My(o,y,f,D),ji=!1,V=o.memoizedState,y.state=V,Yo(o,f,y,m),Ko();var P=o.memoizedState;S!==$||V!==P||ji||r!==null&&r.dependencies!==null&&Fl(r.dependencies)?(typeof M=="function"&&(md(o,u,M,f),P=o.memoizedState),(I=ji||Cy(o,u,I,f,V,P,D)||r!==null&&r.dependencies!==null&&Fl(r.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,P,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,P,D)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&V===r.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&V===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=P),y.props=f,y.state=P,y.context=D,f=I):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&V===r.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&V===r.memoizedState||(o.flags|=1024),f=!1)}return y=f,lu(r,o),f=(o.flags&128)!==0,y||f?(y=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,r!==null&&f?(o.child=zs(o,r.child,null,m),o.child=zs(o,null,u,m)):xe(r,o,u,m),o.memoizedState=y.state,r=o.child):r=fi(r,o,m),r}function Hy(r,o,u,f){return Po(),o.flags|=256,xe(r,o,u,f),o.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(r){return{baseLanes:r,cachePool:k0()}}function Sd(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Tn),r}function Uy(r,o,u){var f=o.pendingProps,m=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=r!==null&&r.memoizedState===null?!1:(ce.current&2)!==0),S&&(m=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,r===null){if(_t){if(m?Bi(o):Vi(),_t){var M=Zt,D;if(D=M){t:{for(D=M,M=Hn;D.nodeType!==8;){if(!M){M=null;break t}if(D=zn(D.nextSibling),D===null){M=null;break t}}M=D}M!==null?(o.memoizedState={dehydrated:M,treeContext:kr!==null?{id:si,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},D=sn(18,null,null,0),D.stateNode=M,D.return=o,o.child=D,Ve=o,Zt=null,D=!0):D=!1}D||Dr(o)}if(M=o.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return rh(M)?o.lanes=32:o.lanes=536870912,null;ci(o)}return M=f.children,f=f.fallback,m?(Vi(),m=o.mode,M=uu({mode:"hidden",children:M},m),f=wr(f,m,u,null),M.return=o,f.return=o,M.sibling=f,o.child=M,m=o.child,m.memoizedState=xd(u),m.childLanes=Sd(r,S,u),o.memoizedState=bd,f):(Bi(o),Td(o,M))}if(D=r.memoizedState,D!==null&&(M=D.dehydrated,M!==null)){if(y)o.flags&256?(Bi(o),o.flags&=-257,o=Ed(r,o,u)):o.memoizedState!==null?(Vi(),o.child=r.child,o.flags|=128,o=null):(Vi(),m=f.fallback,M=o.mode,f=uu({mode:"visible",children:f.children},M),m=wr(m,M,u,null),m.flags|=2,f.return=o,m.return=o,f.sibling=m,o.child=f,zs(o,r.child,null,u),f=o.child,f.memoizedState=xd(u),f.childLanes=Sd(r,S,u),o.memoizedState=bd,o=m);else if(Bi(o),rh(M)){if(S=M.nextSibling&&M.nextSibling.dataset,S)var L=S.dgst;S=L,f=Error(i(419)),f.stack="",f.digest=S,Ho({value:f,source:null,stack:null}),o=Ed(r,o,u)}else if(de||Uo(r,o,u,!1),S=(u&r.childLanes)!==0,de||S){if(S=Ft,S!==null&&(f=u&-u,f=(f&42)!==0?1:sf(f),f=(f&(S.suspendedLanes|u))!==0?0:f,f!==0&&f!==D.retryLane))throw D.retryLane=f,Cs(r,f),cn(S,r,f),Ry;M.data==="$?"||Ud(),o=Ed(r,o,u)}else M.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=D.treeContext,Zt=zn(M.nextSibling),Ve=o,_t=!0,Or=null,Hn=!1,r!==null&&(bn[xn++]=si,bn[xn++]=oi,bn[xn++]=kr,si=r.id,oi=r.overflow,kr=o),o=Td(o,f.children),o.flags|=4096);return o}return m?(Vi(),m=f.fallback,M=o.mode,D=r.child,L=D.sibling,f=ri(D,{mode:"hidden",children:f.children}),f.subtreeFlags=D.subtreeFlags&65011712,L!==null?m=ri(L,m):(m=wr(m,M,u,null),m.flags|=2),m.return=o,f.return=o,f.sibling=m,o.child=f,f=m,m=o.child,M=r.child.memoizedState,M===null?M=xd(u):(D=M.cachePool,D!==null?(L=ue._currentValue,D=D.parent!==L?{parent:L,pool:L}:D):D=k0(),M={baseLanes:M.baseLanes|u,cachePool:D}),m.memoizedState=M,m.childLanes=Sd(r,S,u),o.memoizedState=bd,f):(Bi(o),u=r.child,r=u.sibling,u=ri(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,r!==null&&(S=o.deletions,S===null?(o.deletions=[r],o.flags|=16):S.push(r)),o.child=u,o.memoizedState=null,u)}function Td(r,o){return o=uu({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function uu(r,o){return r=sn(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Ed(r,o,u){return zs(o,r.child,null,u),r=Td(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Iy(r,o,u){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),Uf(r.return,o,u)}function Cd(r,o,u,f,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=m)}function Fy(r,o,u){var f=o.pendingProps,m=f.revealOrder,y=f.tail;if(xe(r,o,f.children,u),f=ce.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Iy(r,u,o);else if(r.tag===19)Iy(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(et(ce,f),m){case"forwards":for(u=o.child,m=null;u!==null;)r=u.alternate,r!==null&&su(r)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Cd(o,!1,m,u,y);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(r=m.alternate,r!==null&&su(r)===null){o.child=m;break}r=m.sibling,m.sibling=u,u=m,m=r}Cd(o,!0,u,null,y);break;case"together":Cd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function fi(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Fi|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Uo(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=ri(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=ri(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function Md(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Fl(r)))}function PM(r,o,u){switch(o.tag){case 3:lt(o,o.stateNode.containerInfo),Ri(o,ue,r.memoizedState.cache),Po();break;case 27:case 5:$t(o);break;case 4:lt(o,o.stateNode.containerInfo);break;case 10:Ri(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Bi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Uy(r,o,u):(Bi(o),r=fi(r,o,u),r!==null?r.sibling:null);Bi(o);break;case 19:var m=(r.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(Uo(r,o,u,!1),f=(u&o.childLanes)!==0),m){if(f)return Fy(r,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(ce,ce.current),f)break;return null;case 22:case 23:return o.lanes=0,Ly(r,o,u);case 24:Ri(o,ue,r.memoizedState.cache)}return fi(r,o,u)}function qy(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)de=!0;else{if(!Md(r,u)&&(o.flags&128)===0)return de=!1,PM(r,o,u);de=(r.flags&131072)!==0}else de=!1,_t&&(o.flags&1048576)!==0&&x0(o,Il,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var f=o.elementType,m=f._init;if(f=m(f._payload),o.type=f,typeof f=="function")_f(f)?(r=zr(f,r),o.tag=1,o=Py(null,o,f,r,u)):(o.tag=0,o=vd(null,o,f,r,u));else{if(f!=null){if(m=f.$$typeof,m===B){o.tag=11,o=jy(null,o,f,r,u);break t}else if(m===G){o.tag=14,o=_y(null,o,f,r,u);break t}}throw o=St(f)||f,Error(i(306,o,""))}}return o;case 0:return vd(r,o,o.type,o.pendingProps,u);case 1:return f=o.type,m=zr(f,o.pendingProps),Py(r,o,f,m,u);case 3:t:{if(lt(o,o.stateNode.containerInfo),r===null)throw Error(i(387));f=o.pendingProps;var y=o.memoizedState;m=y.element,Yf(r,o),Yo(o,f,null,u);var S=o.memoizedState;if(f=S.cache,Ri(o,ue,f),f!==y.cache&&If(o,[ue],u,!0),Ko(),f=S.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=Hy(r,o,f,u);break t}else if(f!==m){m=yn(Error(i(424)),o),Ho(m),o=Hy(r,o,f,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Zt=zn(r.firstChild),Ve=o,_t=!0,Or=null,Hn=!0,u=Ty(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Po(),f===m){o=fi(r,o,u);break t}xe(r,o,f,u)}o=o.child}return o;case 26:return lu(r,o),r===null?(u=Y1(o.type,null,o.pendingProps,null))?o.memoizedState=u:_t||(u=o.type,r=o.pendingProps,f=Eu(yt.current).createElement(u),f[Oe]=o,f[Ke]=r,Te(f,u,r),fe(f),o.stateNode=f):o.memoizedState=Y1(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return $t(o),r===null&&_t&&(f=o.stateNode=$1(o.type,o.pendingProps,yt.current),Ve=o,Hn=!0,m=Zt,Ki(o.type)?(sh=m,Zt=zn(f.firstChild)):Zt=m),xe(r,o,o.pendingProps.children,u),lu(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&_t&&((m=f=Zt)&&(f=hw(f,o.type,o.pendingProps,Hn),f!==null?(o.stateNode=f,Ve=o,Zt=zn(f.firstChild),Hn=!1,m=!0):m=!1),m||Dr(o)),$t(o),m=o.type,y=o.pendingProps,S=r!==null?r.memoizedProps:null,f=y.children,eh(m,y)?f=null:S!==null&&eh(m,S)&&(o.flags|=32),o.memoizedState!==null&&(m=td(r,o,NM,null,null,u),ga._currentValue=m),lu(r,o),xe(r,o,f,u),o.child;case 6:return r===null&&_t&&((r=u=Zt)&&(u=pw(u,o.pendingProps,Hn),u!==null?(o.stateNode=u,Ve=o,Zt=null,r=!0):r=!1),r||Dr(o)),null;case 13:return Uy(r,o,u);case 4:return lt(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=zs(o,null,f,u):xe(r,o,f,u),o.child;case 11:return jy(r,o,o.type,o.pendingProps,u);case 7:return xe(r,o,o.pendingProps,u),o.child;case 8:return xe(r,o,o.pendingProps.children,u),o.child;case 12:return xe(r,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Ri(o,o.type,f.value),xe(r,o,f.children,u),o.child;case 9:return m=o.type._context,f=o.pendingProps.children,Rr(o),m=De(m),f=f(m),o.flags|=1,xe(r,o,f,u),o.child;case 14:return _y(r,o,o.type,o.pendingProps,u);case 15:return zy(r,o,o.type,o.pendingProps,u);case 19:return Fy(r,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},r===null?(u=uu(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=ri(r.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return Ly(r,o,u);case 24:return Rr(o),f=De(ue),r===null?(m=$f(),m===null&&(m=Ft,y=Ff(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=u),m=y),o.memoizedState={parent:f,cache:m},Kf(o),Ri(o,ue,m)):((r.lanes&u)!==0&&(Yf(r,o),Yo(o,null,null,u),Ko()),m=r.memoizedState,y=o.memoizedState,m.parent!==f?(m={parent:f,cache:f},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Ri(o,ue,f)):(f=y.cache,Ri(o,ue,f),f!==m.cache&&If(o,[ue],u,!0))),xe(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function di(r){r.flags|=4}function $y(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!W1(o)){if(o=Sn.current,o!==null&&((Nt&4194048)===Nt?Un!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||o!==Un))throw $o=Gf,A0;r.flags|=8192}}function cu(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Eg():536870912,r.lanes|=o,Ps|=o)}function ea(r,o){if(!_t)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Kt(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(o)for(var m=r.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=f,r.childLanes=u,o}function HM(r,o,u){var f=o.pendingProps;switch(Vf(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(o),null;case 1:return Kt(o),null;case 3:return u=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),li(ue),mt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Vo(o)?di(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,E0())),Kt(o),null;case 26:return u=o.memoizedState,r===null?(di(o),u!==null?(Kt(o),$y(o,u)):(Kt(o),o.flags&=-16777217)):u?u!==r.memoizedState?(di(o),Kt(o),$y(o,u)):(Kt(o),o.flags&=-16777217):(r.memoizedProps!==f&&di(o),Kt(o),o.flags&=-16777217),null;case 27:Ae(o),u=yt.current;var m=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&di(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Kt(o),null}r=ct.current,Vo(o)?S0(o):(r=$1(m,f,u),o.stateNode=r,di(o))}return Kt(o),null;case 5:if(Ae(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&di(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Kt(o),null}if(r=ct.current,Vo(o))S0(o);else{switch(m=Eu(yt.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?m.createElement(u,{is:f.is}):m.createElement(u)}}r[Oe]=o,r[Ke]=f;t:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break t;for(;m.sibling===null;){if(m.return===null||m.return===o)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=r;t:switch(Te(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&di(o)}}return Kt(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&di(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(r=yt.current,Vo(o)){if(r=o.stateNode,u=o.memoizedProps,f=null,m=Ve,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}r[Oe]=o,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||V1(r.nodeValue,u)),r||Dr(o)}else r=Eu(r).createTextNode(f),r[Oe]=o,o.stateNode=r}return Kt(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Vo(o),f!==null&&f.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Oe]=o}else Po(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Kt(o),m=!1}else m=E0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(ci(o),o):(ci(o),null)}if(ci(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=o.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),cu(o,o.updateQueue),Kt(o),null;case 4:return mt(),r===null&&Jd(o.stateNode.containerInfo),Kt(o),null;case 10:return li(o.type),Kt(o),null;case 19:if(it(ce),m=o.memoizedState,m===null)return Kt(o),null;if(f=(o.flags&128)!==0,y=m.rendering,y===null)if(f)ea(m,!1);else{if(Qt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(y=su(r),y!==null){for(o.flags|=128,ea(m,!1),r=y.updateQueue,o.updateQueue=r,cu(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)b0(u,r),u=u.sibling;return et(ce,ce.current&1|2),o.child}r=r.sibling}m.tail!==null&&pn()>hu&&(o.flags|=128,f=!0,ea(m,!1),o.lanes=4194304)}else{if(!f)if(r=su(y),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,cu(o,r),ea(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!_t)return Kt(o),null}else 2*pn()-m.renderingStartTime>hu&&u!==536870912&&(o.flags|=128,f=!0,ea(m,!1),o.lanes=4194304);m.isBackwards?(y.sibling=o.child,o.child=y):(r=m.last,r!==null?r.sibling=y:o.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=pn(),o.sibling=null,r=ce.current,et(ce,f?r&1|2:r&1),o):(Kt(o),null);case 22:case 23:return ci(o),Qf(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Kt(o),o.subtreeFlags&6&&(o.flags|=8192)):Kt(o),u=o.updateQueue,u!==null&&cu(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),r!==null&&it(jr),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),li(ue),Kt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function UM(r,o){switch(Vf(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return li(ue),mt(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Ae(o),null;case 13:if(ci(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Po()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return it(ce),null;case 4:return mt(),null;case 10:return li(o.type),null;case 22:case 23:return ci(o),Qf(),r!==null&&it(jr),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return li(ue),null;case 25:return null;default:return null}}function Gy(r,o){switch(Vf(o),o.tag){case 3:li(ue),mt();break;case 26:case 27:case 5:Ae(o);break;case 4:mt();break;case 13:ci(o);break;case 19:it(ce);break;case 10:li(o.type);break;case 22:case 23:ci(o),Qf(),r!==null&&it(jr);break;case 24:li(ue)}}function na(r,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){f=void 0;var y=u.create,S=u.inst;f=y(),S.destroy=f}u=u.next}while(u!==m)}}catch(M){Ut(o,o.return,M)}}function Pi(r,o,u){try{var f=o.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&r)===r){var S=f.inst,M=S.destroy;if(M!==void 0){S.destroy=void 0,m=o;var D=u,L=M;try{L()}catch(I){Ut(m,D,I)}}}f=f.next}while(f!==y)}}catch(I){Ut(o,o.return,I)}}function Ky(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{_0(o,u)}catch(f){Ut(r,r.return,f)}}}function Yy(r,o,u){u.props=zr(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){Ut(r,o,f)}}function ia(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(m){Ut(r,o,m)}}function In(r,o){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(m){Ut(r,o,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Ut(r,o,m)}else u.current=null}function Xy(r){var o=r.type,u=r.memoizedProps,f=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(m){Ut(r,r.return,m)}}function wd(r,o,u){try{var f=r.stateNode;lw(f,r.type,u,o),f[Ke]=o}catch(m){Ut(r,r.return,m)}}function Jy(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ki(r.type)||r.tag===4}function kd(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Jy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ki(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ad(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Tu));else if(f!==4&&(f===27&&Ki(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(Ad(r,o,u),r=r.sibling;r!==null;)Ad(r,o,u),r=r.sibling}function fu(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(f!==4&&(f===27&&Ki(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(fu(r,o,u),r=r.sibling;r!==null;)fu(r,o,u),r=r.sibling}function Zy(r){var o=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Te(o,f,u),o[Oe]=r,o[Ke]=u}catch(y){Ut(r,r.return,y)}}var hi=!1,ie=!1,Od=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,he=null;function IM(r,o){if(r=r.containerInfo,Wd=Ou,r=u0(r),kf(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break t}var S=0,M=-1,D=-1,L=0,I=0,$=r,V=null;e:for(;;){for(var P;$!==u||m!==0&&$.nodeType!==3||(M=S+m),$!==y||f!==0&&$.nodeType!==3||(D=S+f),$.nodeType===3&&(S+=$.nodeValue.length),(P=$.firstChild)!==null;)V=$,$=P;for(;;){if($===r)break e;if(V===u&&++L===m&&(M=S),V===y&&++I===f&&(D=S),(P=$.nextSibling)!==null)break;$=V,V=$.parentNode}$=P}u=M===-1||D===-1?null:{start:M,end:D}}else u=null}u=u||{start:0,end:0}}else u=null;for(th={focusedElem:r,selectionRange:u},Ou=!1,he=o;he!==null;)if(o=he,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,he=r;else for(;he!==null;){switch(o=he,y=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,u=o,m=y.memoizedProps,y=y.memoizedState,f=u.stateNode;try{var gt=zr(u.type,m,u.elementType===u.type);r=f.getSnapshotBeforeUpdate(gt,y),f.__reactInternalSnapshotBeforeUpdate=r}catch(dt){Ut(u,u.return,dt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)ih(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ih(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,he=r;break}he=o.return}}function Wy(r,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Hi(r,u),f&4&&na(5,u);break;case 1:if(Hi(r,u),f&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(S){Ut(u,u.return,S)}else{var m=zr(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(m,o,r.__reactInternalSnapshotBeforeUpdate)}catch(S){Ut(u,u.return,S)}}f&64&&Ky(u),f&512&&ia(u,u.return);break;case 3:if(Hi(r,u),f&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{_0(r,o)}catch(S){Ut(u,u.return,S)}}break;case 27:o===null&&f&4&&Zy(u);case 26:case 5:Hi(r,u),o===null&&f&4&&Xy(u),f&512&&ia(u,u.return);break;case 12:Hi(r,u);break;case 13:Hi(r,u),f&4&&n1(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=ZM.bind(null,u),mw(r,u))));break;case 22:if(f=u.memoizedState!==null||hi,!f){o=o!==null&&o.memoizedState!==null||ie,m=hi;var y=ie;hi=f,(ie=o)&&!y?Ui(r,u,(u.subtreeFlags&8772)!==0):Hi(r,u),hi=m,ie=y}break;case 30:break;default:Hi(r,u)}}function t1(r){var o=r.alternate;o!==null&&(r.alternate=null,t1(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&lf(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Gt=null,Je=!1;function pi(r,o,u){for(u=u.child;u!==null;)e1(r,o,u),u=u.sibling}function e1(r,o,u){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Co,u)}catch{}switch(u.tag){case 26:ie||In(u,o),pi(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ie||In(u,o);var f=Gt,m=Je;Ki(u.type)&&(Gt=u.stateNode,Je=!1),pi(r,o,u),da(u.stateNode),Gt=f,Je=m;break;case 5:ie||In(u,o);case 6:if(f=Gt,m=Je,Gt=null,pi(r,o,u),Gt=f,Je=m,Gt!==null)if(Je)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(u.stateNode)}catch(y){Ut(u,o,y)}else try{Gt.removeChild(u.stateNode)}catch(y){Ut(u,o,y)}break;case 18:Gt!==null&&(Je?(r=Gt,F1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),xa(r)):F1(Gt,u.stateNode));break;case 4:f=Gt,m=Je,Gt=u.stateNode.containerInfo,Je=!0,pi(r,o,u),Gt=f,Je=m;break;case 0:case 11:case 14:case 15:ie||Pi(2,u,o),ie||Pi(4,u,o),pi(r,o,u);break;case 1:ie||(In(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Yy(u,o,f)),pi(r,o,u);break;case 21:pi(r,o,u);break;case 22:ie=(f=ie)||u.memoizedState!==null,pi(r,o,u),ie=f;break;default:pi(r,o,u)}}function n1(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{xa(r)}catch(u){Ut(o,o.return,u)}}function FM(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Qy),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Qy),o;default:throw Error(i(435,r.tag))}}function Dd(r,o){var u=FM(r);o.forEach(function(f){var m=QM.bind(null,r,f);u.has(f)||(u.add(f),f.then(m,m))})}function on(r,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f],y=r,S=o,M=S;t:for(;M!==null;){switch(M.tag){case 27:if(Ki(M.type)){Gt=M.stateNode,Je=!1;break t}break;case 5:Gt=M.stateNode,Je=!1;break t;case 3:case 4:Gt=M.stateNode.containerInfo,Je=!0;break t}M=M.return}if(Gt===null)throw Error(i(160));e1(y,S,m),Gt=null,Je=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)i1(o,r),o=o.sibling}var _n=null;function i1(r,o){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:on(o,r),an(r),f&4&&(Pi(3,r,r.return),na(3,r),Pi(5,r,r.return));break;case 1:on(o,r),an(r),f&512&&(ie||u===null||In(u,u.return)),f&64&&hi&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var m=_n;if(on(o,r),an(r),f&512&&(ie||u===null||In(u,u.return)),f&4){var y=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){t:{f=r.type,u=r.memoizedProps,m=m.ownerDocument||m;e:switch(f){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ko]||y[Oe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(f),m.head.insertBefore(y,m.querySelector("head > title"))),Te(y,f,u),y[Oe]=r,fe(y),f=y;break t;case"link":var S=Z1("link","href",m).get(f+(u.href||""));if(S){for(var M=0;M<S.length;M++)if(y=S[M],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){S.splice(M,1);break e}}y=m.createElement(f),Te(y,f,u),m.head.appendChild(y);break;case"meta":if(S=Z1("meta","content",m).get(f+(u.content||""))){for(M=0;M<S.length;M++)if(y=S[M],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){S.splice(M,1);break e}}y=m.createElement(f),Te(y,f,u),m.head.appendChild(y);break;default:throw Error(i(468,f))}y[Oe]=r,fe(y),f=y}r.stateNode=f}else Q1(m,r.type,r.stateNode);else r.stateNode=J1(m,f,r.memoizedProps);else y!==f?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,f===null?Q1(m,r.type,r.stateNode):J1(m,f,r.memoizedProps)):f===null&&r.stateNode!==null&&wd(r,r.memoizedProps,u.memoizedProps)}break;case 27:on(o,r),an(r),f&512&&(ie||u===null||In(u,u.return)),u!==null&&f&4&&wd(r,r.memoizedProps,u.memoizedProps);break;case 5:if(on(o,r),an(r),f&512&&(ie||u===null||In(u,u.return)),r.flags&32){m=r.stateNode;try{ys(m,"")}catch(P){Ut(r,r.return,P)}}f&4&&r.stateNode!=null&&(m=r.memoizedProps,wd(r,m,u!==null?u.memoizedProps:m)),f&1024&&(Od=!0);break;case 6:if(on(o,r),an(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(P){Ut(r,r.return,P)}}break;case 3:if(wu=null,m=_n,_n=Cu(o.containerInfo),on(o,r),_n=m,an(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{xa(o.containerInfo)}catch(P){Ut(r,r.return,P)}Od&&(Od=!1,r1(r));break;case 4:f=_n,_n=Cu(r.stateNode.containerInfo),on(o,r),an(r),_n=f;break;case 12:on(o,r),an(r);break;case 13:on(o,r),an(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ld=pn()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Dd(r,f)));break;case 22:m=r.memoizedState!==null;var D=u!==null&&u.memoizedState!==null,L=hi,I=ie;if(hi=L||m,ie=I||D,on(o,r),ie=I,hi=L,an(r),f&8192)t:for(o=r.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(u===null||D||hi||ie||Lr(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){D=u=o;try{if(y=D.stateNode,m)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{M=D.stateNode;var $=D.memoizedProps.style,V=$!=null&&$.hasOwnProperty("display")?$.display:null;M.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(P){Ut(D,D.return,P)}}}else if(o.tag===6){if(u===null){D=o;try{D.stateNode.nodeValue=m?"":D.memoizedProps}catch(P){Ut(D,D.return,P)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Dd(r,u))));break;case 19:on(o,r),an(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Dd(r,f)));break;case 30:break;case 21:break;default:on(o,r),an(r)}}function an(r){var o=r.flags;if(o&2){try{for(var u,f=r.return;f!==null;){if(Jy(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var m=u.stateNode,y=kd(r);fu(r,y,m);break;case 5:var S=u.stateNode;u.flags&32&&(ys(S,""),u.flags&=-33);var M=kd(r);fu(r,M,S);break;case 3:case 4:var D=u.stateNode.containerInfo,L=kd(r);Ad(r,L,D);break;default:throw Error(i(161))}}catch(I){Ut(r,r.return,I)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function r1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;r1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Hi(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Wy(r,o.alternate,o),o=o.sibling}function Lr(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Pi(4,o,o.return),Lr(o);break;case 1:In(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Yy(o,o.return,u),Lr(o);break;case 27:da(o.stateNode);case 26:case 5:In(o,o.return),Lr(o);break;case 22:o.memoizedState===null&&Lr(o);break;case 30:Lr(o);break;default:Lr(o)}r=r.sibling}}function Ui(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,m=r,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:Ui(m,y,u),na(4,y);break;case 1:if(Ui(m,y,u),f=y,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(L){Ut(f,f.return,L)}if(f=y,m=f.updateQueue,m!==null){var M=f.stateNode;try{var D=m.shared.hiddenCallbacks;if(D!==null)for(m.shared.hiddenCallbacks=null,m=0;m<D.length;m++)j0(D[m],M)}catch(L){Ut(f,f.return,L)}}u&&S&64&&Ky(y),ia(y,y.return);break;case 27:Zy(y);case 26:case 5:Ui(m,y,u),u&&f===null&&S&4&&Xy(y),ia(y,y.return);break;case 12:Ui(m,y,u);break;case 13:Ui(m,y,u),u&&S&4&&n1(m,y);break;case 22:y.memoizedState===null&&Ui(m,y,u),ia(y,y.return);break;case 30:break;default:Ui(m,y,u)}o=o.sibling}}function Nd(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Io(u))}function Rd(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Io(r))}function Fn(r,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)s1(r,o,u,f),o=o.sibling}function s1(r,o,u,f){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Fn(r,o,u,f),m&2048&&na(9,o);break;case 1:Fn(r,o,u,f);break;case 3:Fn(r,o,u,f),m&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Io(r)));break;case 12:if(m&2048){Fn(r,o,u,f),r=o.stateNode;try{var y=o.memoizedProps,S=y.id,M=y.onPostCommit;typeof M=="function"&&M(S,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(D){Ut(o,o.return,D)}}else Fn(r,o,u,f);break;case 13:Fn(r,o,u,f);break;case 23:break;case 22:y=o.stateNode,S=o.alternate,o.memoizedState!==null?y._visibility&2?Fn(r,o,u,f):ra(r,o):y._visibility&2?Fn(r,o,u,f):(y._visibility|=2,Ls(r,o,u,f,(o.subtreeFlags&10256)!==0)),m&2048&&Nd(S,o);break;case 24:Fn(r,o,u,f),m&2048&&Rd(o.alternate,o);break;default:Fn(r,o,u,f)}}function Ls(r,o,u,f,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=r,S=o,M=u,D=f,L=S.flags;switch(S.tag){case 0:case 11:case 15:Ls(y,S,M,D,m),na(8,S);break;case 23:break;case 22:var I=S.stateNode;S.memoizedState!==null?I._visibility&2?Ls(y,S,M,D,m):ra(y,S):(I._visibility|=2,Ls(y,S,M,D,m)),m&&L&2048&&Nd(S.alternate,S);break;case 24:Ls(y,S,M,D,m),m&&L&2048&&Rd(S.alternate,S);break;default:Ls(y,S,M,D,m)}o=o.sibling}}function ra(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,f=o,m=f.flags;switch(f.tag){case 22:ra(u,f),m&2048&&Nd(f.alternate,f);break;case 24:ra(u,f),m&2048&&Rd(f.alternate,f);break;default:ra(u,f)}o=o.sibling}}var sa=8192;function Bs(r){if(r.subtreeFlags&sa)for(r=r.child;r!==null;)o1(r),r=r.sibling}function o1(r){switch(r.tag){case 26:Bs(r),r.flags&sa&&r.memoizedState!==null&&Aw(_n,r.memoizedState,r.memoizedProps);break;case 5:Bs(r);break;case 3:case 4:var o=_n;_n=Cu(r.stateNode.containerInfo),Bs(r),_n=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=sa,sa=16777216,Bs(r),sa=o):Bs(r));break;default:Bs(r)}}function a1(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function oa(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];he=f,u1(f,r)}a1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)l1(r),r=r.sibling}function l1(r){switch(r.tag){case 0:case 11:case 15:oa(r),r.flags&2048&&Pi(9,r,r.return);break;case 3:oa(r);break;case 12:oa(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,du(r)):oa(r);break;default:oa(r)}}function du(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];he=f,u1(f,r)}a1(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Pi(8,o,o.return),du(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,du(o));break;default:du(o)}r=r.sibling}}function u1(r,o){for(;he!==null;){var u=he;switch(u.tag){case 0:case 11:case 15:Pi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Io(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,he=f;else t:for(u=r;he!==null;){f=he;var m=f.sibling,y=f.return;if(t1(f),f===u){he=null;break t}if(m!==null){m.return=y,he=m;break t}he=y}}}var qM={getCacheForType:function(r){var o=De(ue),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},$M=typeof WeakMap=="function"?WeakMap:Map,zt=0,Ft=null,kt=null,Nt=0,Lt=0,ln=null,Ii=!1,Vs=!1,jd=!1,mi=0,Qt=0,Fi=0,Br=0,_d=0,Tn=0,Ps=0,aa=null,Ze=null,zd=!1,Ld=0,hu=1/0,pu=null,qi=null,Se=0,$i=null,Hs=null,Us=0,Bd=0,Vd=null,c1=null,la=0,Pd=null;function un(){if((zt&2)!==0&&Nt!==0)return Nt&-Nt;if(H.T!==null){var r=As;return r!==0?r:Gd()}return wg()}function f1(){Tn===0&&(Tn=(Nt&536870912)===0||_t?Tg():536870912);var r=Sn.current;return r!==null&&(r.flags|=32),Tn}function cn(r,o,u){(r===Ft&&(Lt===2||Lt===9)||r.cancelPendingCommit!==null)&&(Is(r,0),Gi(r,Nt,Tn,!1)),wo(r,u),((zt&2)===0||r!==Ft)&&(r===Ft&&((zt&2)===0&&(Br|=u),Qt===4&&Gi(r,Nt,Tn,!1)),qn(r))}function d1(r,o,u){if((zt&6)!==0)throw Error(i(327));var f=!u&&(o&124)===0&&(o&r.expiredLanes)===0||Mo(r,o),m=f?YM(r,o):Id(r,o,!0),y=f;do{if(m===0){Vs&&!f&&Gi(r,o,0,!1);break}else{if(u=r.current.alternate,y&&!GM(u)){m=Id(r,o,!1),y=!1;continue}if(m===2){if(y=o,r.errorRecoveryDisabledLanes&y)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;t:{var M=r;m=aa;var D=M.current.memoizedState.isDehydrated;if(D&&(Is(M,S).flags|=256),S=Id(M,S,!1),S!==2){if(jd&&!D){M.errorRecoveryDisabledLanes|=y,Br|=y,m=4;break t}y=Ze,Ze=m,y!==null&&(Ze===null?Ze=y:Ze.push.apply(Ze,y))}m=S}if(y=!1,m!==2)continue}}if(m===1){Is(r,0),Gi(r,o,0,!0);break}t:{switch(f=r,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Gi(f,o,Tn,!Ii);break t;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=Ld+300-pn(),10<m)){if(Gi(f,o,Tn,!Ii),Ml(f,0,!0)!==0)break t;f.timeoutHandle=U1(h1.bind(null,f,u,Ze,pu,zd,o,Tn,Br,Ps,Ii,y,2,-0,0),m);break t}h1(f,u,Ze,pu,zd,o,Tn,Br,Ps,Ii,y,0,-0,0)}}break}while(!0);qn(r)}function h1(r,o,u,f,m,y,S,M,D,L,I,$,V,P){if(r.timeoutHandle=-1,$=o.subtreeFlags,($&8192||($&16785408)===16785408)&&(ma={stylesheets:null,count:0,unsuspend:kw},o1(o),$=Ow(),$!==null)){r.cancelPendingCommit=$(x1.bind(null,r,o,y,u,f,m,S,M,D,I,1,V,P)),Gi(r,y,S,!L);return}x1(r,o,y,u,f,m,S,M,D)}function GM(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var m=u[f],y=m.getSnapshot;m=m.value;try{if(!rn(y(),m))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Gi(r,o,u,f){o&=~_d,o&=~Br,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var m=o;0<m;){var y=31-nn(m),S=1<<y;f[y]=-1,m&=~S}u!==0&&Cg(r,u,o)}function mu(){return(zt&6)===0?(ua(0),!1):!0}function Hd(){if(kt!==null){if(Lt===0)var r=kt.return;else r=kt,ai=Nr=null,id(r),_s=null,Wo=0,r=kt;for(;r!==null;)Gy(r.alternate,r),r=r.return;kt=null}}function Is(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,cw(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Hd(),Ft=r,kt=u=ri(r.current,null),Nt=o,Lt=0,ln=null,Ii=!1,Vs=Mo(r,o),jd=!1,Ps=Tn=_d=Br=Fi=Qt=0,Ze=aa=null,zd=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var m=31-nn(f),y=1<<m;o|=r[m],f&=~y}return mi=o,Bl(),u}function p1(r,o){Et=null,H.H=nu,o===qo||o===Gl?(o=N0(),Lt=3):o===A0?(o=N0(),Lt=4):Lt=o===Ry?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ln=o,kt===null&&(Qt=1,au(r,yn(o,r.current)))}function m1(){var r=H.H;return H.H=nu,r===null?nu:r}function g1(){var r=H.A;return H.A=qM,r}function Ud(){Qt=4,Ii||(Nt&4194048)!==Nt&&Sn.current!==null||(Vs=!0),(Fi&134217727)===0&&(Br&134217727)===0||Ft===null||Gi(Ft,Nt,Tn,!1)}function Id(r,o,u){var f=zt;zt|=2;var m=m1(),y=g1();(Ft!==r||Nt!==o)&&(pu=null,Is(r,o)),o=!1;var S=Qt;t:do try{if(Lt!==0&&kt!==null){var M=kt,D=ln;switch(Lt){case 8:Hd(),S=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(o=!0);var L=Lt;if(Lt=0,ln=null,Fs(r,M,D,L),u&&Vs){S=0;break t}break;default:L=Lt,Lt=0,ln=null,Fs(r,M,D,L)}}KM(),S=Qt;break}catch(I){p1(r,I)}while(!0);return o&&r.shellSuspendCounter++,ai=Nr=null,zt=f,H.H=m,H.A=y,kt===null&&(Ft=null,Nt=0,Bl()),S}function KM(){for(;kt!==null;)y1(kt)}function YM(r,o){var u=zt;zt|=2;var f=m1(),m=g1();Ft!==r||Nt!==o?(pu=null,hu=pn()+500,Is(r,o)):Vs=Mo(r,o);t:do try{if(Lt!==0&&kt!==null){o=kt;var y=ln;e:switch(Lt){case 1:Lt=0,ln=null,Fs(r,o,y,1);break;case 2:case 9:if(O0(y)){Lt=0,ln=null,v1(o);break}o=function(){Lt!==2&&Lt!==9||Ft!==r||(Lt=7),qn(r)},y.then(o,o);break t;case 3:Lt=7;break t;case 4:Lt=5;break t;case 7:O0(y)?(Lt=0,ln=null,v1(o)):(Lt=0,ln=null,Fs(r,o,y,7));break;case 5:var S=null;switch(kt.tag){case 26:S=kt.memoizedState;case 5:case 27:var M=kt;if(!S||W1(S)){Lt=0,ln=null;var D=M.sibling;if(D!==null)kt=D;else{var L=M.return;L!==null?(kt=L,gu(L)):kt=null}break e}}Lt=0,ln=null,Fs(r,o,y,5);break;case 6:Lt=0,ln=null,Fs(r,o,y,6);break;case 8:Hd(),Qt=6;break t;default:throw Error(i(462))}}XM();break}catch(I){p1(r,I)}while(!0);return ai=Nr=null,H.H=f,H.A=m,zt=u,kt!==null?0:(Ft=null,Nt=0,Bl(),Qt)}function XM(){for(;kt!==null&&!ee();)y1(kt)}function y1(r){var o=qy(r.alternate,r,mi);r.memoizedProps=r.pendingProps,o===null?gu(r):kt=o}function v1(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=Vy(u,o,o.pendingProps,o.type,void 0,Nt);break;case 11:o=Vy(u,o,o.pendingProps,o.type.render,o.ref,Nt);break;case 5:id(o);default:Gy(u,o),o=kt=b0(o,mi),o=qy(u,o,mi)}r.memoizedProps=r.pendingProps,o===null?gu(r):kt=o}function Fs(r,o,u,f){ai=Nr=null,id(o),_s=null,Wo=0;var m=o.return;try{if(VM(r,m,o,u,Nt)){Qt=1,au(r,yn(u,r.current)),kt=null;return}}catch(y){if(m!==null)throw kt=m,y;Qt=1,au(r,yn(u,r.current)),kt=null;return}o.flags&32768?(_t||f===1?r=!0:Vs||(Nt&536870912)!==0?r=!1:(Ii=r=!0,(f===2||f===9||f===3||f===6)&&(f=Sn.current,f!==null&&f.tag===13&&(f.flags|=16384))),b1(o,r)):gu(o)}function gu(r){var o=r;do{if((o.flags&32768)!==0){b1(o,Ii);return}r=o.return;var u=HM(o.alternate,o,mi);if(u!==null){kt=u;return}if(o=o.sibling,o!==null){kt=o;return}kt=o=r}while(o!==null);Qt===0&&(Qt=5)}function b1(r,o){do{var u=UM(r.alternate,r);if(u!==null){u.flags&=32767,kt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){kt=r;return}kt=r=u}while(r!==null);Qt=6,kt=null}function x1(r,o,u,f,m,y,S,M,D){r.cancelPendingCommit=null;do yu();while(Se!==0);if((zt&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(y=o.lanes|o.childLanes,y|=Rf,kC(r,u,y,S,M,D),r===Ft&&(kt=Ft=null,Nt=0),Hs=o,$i=r,Us=u,Bd=y,Vd=m,c1=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,WM(Tl,function(){return M1(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=H.T,H.T=null,m=Y.p,Y.p=2,S=zt,zt|=4;try{IM(r,o,u)}finally{zt=S,Y.p=m,H.T=f}}Se=1,S1(),T1(),E1()}}function S1(){if(Se===1){Se=0;var r=$i,o=Hs,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var f=Y.p;Y.p=2;var m=zt;zt|=4;try{i1(o,r);var y=th,S=u0(r.containerInfo),M=y.focusedElem,D=y.selectionRange;if(S!==M&&M&&M.ownerDocument&&l0(M.ownerDocument.documentElement,M)){if(D!==null&&kf(M)){var L=D.start,I=D.end;if(I===void 0&&(I=L),"selectionStart"in M)M.selectionStart=L,M.selectionEnd=Math.min(I,M.value.length);else{var $=M.ownerDocument||document,V=$&&$.defaultView||window;if(V.getSelection){var P=V.getSelection(),gt=M.textContent.length,dt=Math.min(D.start,gt),Ht=D.end===void 0?dt:Math.min(D.end,gt);!P.extend&&dt>Ht&&(S=Ht,Ht=dt,dt=S);var j=a0(M,dt),R=a0(M,Ht);if(j&&R&&(P.rangeCount!==1||P.anchorNode!==j.node||P.anchorOffset!==j.offset||P.focusNode!==R.node||P.focusOffset!==R.offset)){var z=$.createRange();z.setStart(j.node,j.offset),P.removeAllRanges(),dt>Ht?(P.addRange(z),P.extend(R.node,R.offset)):(z.setEnd(R.node,R.offset),P.addRange(z))}}}}for($=[],P=M;P=P.parentNode;)P.nodeType===1&&$.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<$.length;M++){var F=$[M];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ou=!!Wd,th=Wd=null}finally{zt=m,Y.p=f,H.T=u}}r.current=o,Se=2}}function T1(){if(Se===2){Se=0;var r=$i,o=Hs,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var f=Y.p;Y.p=2;var m=zt;zt|=4;try{Wy(r,o.alternate,o)}finally{zt=m,Y.p=f,H.T=u}}Se=3}}function E1(){if(Se===4||Se===3){Se=0,xl();var r=$i,o=Hs,u=Us,f=c1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Se=5:(Se=0,Hs=$i=null,C1(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(qi=null),of(u),o=o.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Co,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=H.T,m=Y.p,Y.p=2,H.T=null;try{for(var y=r.onRecoverableError,S=0;S<f.length;S++){var M=f[S];y(M.value,{componentStack:M.stack})}}finally{H.T=o,Y.p=m}}(Us&3)!==0&&yu(),qn(r),m=r.pendingLanes,(u&4194090)!==0&&(m&42)!==0?r===Pd?la++:(la=0,Pd=r):la=0,ua(0)}}function C1(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Io(o)))}function yu(r){return S1(),T1(),E1(),M1()}function M1(){if(Se!==5)return!1;var r=$i,o=Bd;Bd=0;var u=of(Us),f=H.T,m=Y.p;try{Y.p=32>u?32:u,H.T=null,u=Vd,Vd=null;var y=$i,S=Us;if(Se=0,Hs=$i=null,Us=0,(zt&6)!==0)throw Error(i(331));var M=zt;if(zt|=4,l1(y.current),s1(y,y.current,S,u),zt=M,ua(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Co,y)}catch{}return!0}finally{Y.p=m,H.T=f,C1(r,o)}}function w1(r,o,u){o=yn(u,o),o=yd(r.stateNode,o,2),r=zi(r,o,2),r!==null&&(wo(r,2),qn(r))}function Ut(r,o,u){if(r.tag===3)w1(r,r,u);else for(;o!==null;){if(o.tag===3){w1(o,r,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(qi===null||!qi.has(f))){r=yn(u,r),u=Dy(2),f=zi(o,u,2),f!==null&&(Ny(u,f,o,r),wo(f,2),qn(f));break}}o=o.return}}function Fd(r,o,u){var f=r.pingCache;if(f===null){f=r.pingCache=new $M;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(jd=!0,m.add(u),r=JM.bind(null,r,o,u),o.then(r,r))}function JM(r,o,u){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Ft===r&&(Nt&u)===u&&(Qt===4||Qt===3&&(Nt&62914560)===Nt&&300>pn()-Ld?(zt&2)===0&&Is(r,0):_d|=u,Ps===Nt&&(Ps=0)),qn(r)}function k1(r,o){o===0&&(o=Eg()),r=Cs(r,o),r!==null&&(wo(r,o),qn(r))}function ZM(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),k1(r,u)}function QM(r,o){var u=0;switch(r.tag){case 13:var f=r.stateNode,m=r.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),k1(r,u)}function WM(r,o){return Ge(r,o)}var vu=null,qs=null,qd=!1,bu=!1,$d=!1,Vr=0;function qn(r){r!==qs&&r.next===null&&(qs===null?vu=qs=r:qs=qs.next=r),bu=!0,qd||(qd=!0,ew())}function ua(r,o){if(!$d&&bu){$d=!0;do for(var u=!1,f=vu;f!==null;){if(r!==0){var m=f.pendingLanes;if(m===0)var y=0;else{var S=f.suspendedLanes,M=f.pingedLanes;y=(1<<31-nn(42|r)+1)-1,y&=m&~(S&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,N1(f,y))}else y=Nt,y=Ml(f,f===Ft?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||Mo(f,y)||(u=!0,N1(f,y));f=f.next}while(u);$d=!1}}function tw(){A1()}function A1(){bu=qd=!1;var r=0;Vr!==0&&(uw()&&(r=Vr),Vr=0);for(var o=pn(),u=null,f=vu;f!==null;){var m=f.next,y=O1(f,o);y===0?(f.next=null,u===null?vu=m:u.next=m,m===null&&(qs=u)):(u=f,(r!==0||(y&3)!==0)&&(bu=!0)),f=m}ua(r)}function O1(r,o){for(var u=r.suspendedLanes,f=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var S=31-nn(y),M=1<<S,D=m[S];D===-1?((M&u)===0||(M&f)!==0)&&(m[S]=wC(M,o)):D<=o&&(r.expiredLanes|=M),y&=~M}if(o=Ft,u=Nt,u=Ml(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===o&&(Lt===2||Lt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&tn(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Mo(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(f!==null&&tn(f),of(u)){case 2:case 8:u=xg;break;case 32:u=Tl;break;case 268435456:u=Sg;break;default:u=Tl}return f=D1.bind(null,r),u=Ge(u,f),r.callbackPriority=o,r.callbackNode=u,o}return f!==null&&f!==null&&tn(f),r.callbackPriority=2,r.callbackNode=null,2}function D1(r,o){if(Se!==0&&Se!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(yu()&&r.callbackNode!==u)return null;var f=Nt;return f=Ml(r,r===Ft?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(d1(r,f,o),O1(r,pn()),r.callbackNode!=null&&r.callbackNode===u?D1.bind(null,r):null)}function N1(r,o){if(yu())return null;d1(r,o,!0)}function ew(){fw(function(){(zt&6)!==0?Ge(bg,tw):A1()})}function Gd(){return Vr===0&&(Vr=Tg()),Vr}function R1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Dl(""+r)}function j1(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function nw(r,o,u,f,m){if(o==="submit"&&u&&u.stateNode===m){var y=R1((m[Ke]||null).action),S=f.submitter;S&&(o=(o=S[Ke]||null)?R1(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var M=new _l("action","action",null,f,m);r.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Vr!==0){var D=S?j1(m,S):new FormData(m);dd(u,{pending:!0,data:D,method:m.method,action:y},null,D)}}else typeof y=="function"&&(M.preventDefault(),D=S?j1(m,S):new FormData(m),dd(u,{pending:!0,data:D,method:m.method,action:y},y,D))},currentTarget:m}]})}}for(var Kd=0;Kd<Nf.length;Kd++){var Yd=Nf[Kd],iw=Yd.toLowerCase(),rw=Yd[0].toUpperCase()+Yd.slice(1);jn(iw,"on"+rw)}jn(d0,"onAnimationEnd"),jn(h0,"onAnimationIteration"),jn(p0,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(SM,"onTransitionRun"),jn(TM,"onTransitionStart"),jn(EM,"onTransitionCancel"),jn(m0,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ca));function _1(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],m=f.event;f=f.listeners;t:{var y=void 0;if(o)for(var S=f.length-1;0<=S;S--){var M=f[S],D=M.instance,L=M.currentTarget;if(M=M.listener,D!==y&&m.isPropagationStopped())break t;y=M,m.currentTarget=L;try{y(m)}catch(I){ou(I)}m.currentTarget=null,y=D}else for(S=0;S<f.length;S++){if(M=f[S],D=M.instance,L=M.currentTarget,M=M.listener,D!==y&&m.isPropagationStopped())break t;y=M,m.currentTarget=L;try{y(m)}catch(I){ou(I)}m.currentTarget=null,y=D}}}}function At(r,o){var u=o[af];u===void 0&&(u=o[af]=new Set);var f=r+"__bubble";u.has(f)||(z1(o,r,2,!1),u.add(f))}function Xd(r,o,u){var f=0;o&&(f|=4),z1(u,r,f,o)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Jd(r){if(!r[xu]){r[xu]=!0,Ag.forEach(function(u){u!=="selectionchange"&&(sw.has(u)||Xd(u,!1,r),Xd(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[xu]||(o[xu]=!0,Xd("selectionchange",!1,o))}}function z1(r,o,u,f){switch(sv(o)){case 2:var m=Rw;break;case 8:m=jw;break;default:m=ch}u=m.bind(null,o,u,r),m=void 0,!vf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?r.addEventListener(o,u,{capture:!0,passive:m}):r.addEventListener(o,u,!0):m!==void 0?r.addEventListener(o,u,{passive:m}):r.addEventListener(o,u,!1)}function Zd(r,o,u,f,m){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var M=f.stateNode.containerInfo;if(M===m)break;if(S===4)for(S=f.return;S!==null;){var D=S.tag;if((D===3||D===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;M!==null;){if(S=fs(M),S===null)return;if(D=S.tag,D===5||D===6||D===26||D===27){f=y=S;continue t}M=M.parentNode}}f=f.return}Ig(function(){var L=y,I=gf(u),$=[];t:{var V=g0.get(r);if(V!==void 0){var P=_l,gt=r;switch(r){case"keypress":if(Rl(u)===0)break t;case"keydown":case"keyup":P=WC;break;case"focusin":gt="focus",P=Tf;break;case"focusout":gt="blur",P=Tf;break;case"beforeblur":case"afterblur":P=Tf;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=$g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=UC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=nM;break;case d0:case h0:case p0:P=qC;break;case m0:P=rM;break;case"scroll":case"scrollend":P=PC;break;case"wheel":P=oM;break;case"copy":case"cut":case"paste":P=GC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Kg;break;case"toggle":case"beforetoggle":P=lM}var dt=(o&4)!==0,Ht=!dt&&(r==="scroll"||r==="scrollend"),j=dt?V!==null?V+"Capture":null:V;dt=[];for(var R=L,z;R!==null;){var F=R;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||j===null||(F=Oo(R,j),F!=null&&dt.push(fa(R,F,z))),Ht)break;R=R.return}0<dt.length&&(V=new P(V,gt,null,u,I),$.push({event:V,listeners:dt}))}}if((o&7)===0){t:{if(V=r==="mouseover"||r==="pointerover",P=r==="mouseout"||r==="pointerout",V&&u!==mf&&(gt=u.relatedTarget||u.fromElement)&&(fs(gt)||gt[cs]))break t;if((P||V)&&(V=I.window===I?I:(V=I.ownerDocument)?V.defaultView||V.parentWindow:window,P?(gt=u.relatedTarget||u.toElement,P=L,gt=gt?fs(gt):null,gt!==null&&(Ht=a(gt),dt=gt.tag,gt!==Ht||dt!==5&&dt!==27&&dt!==6)&&(gt=null)):(P=null,gt=L),P!==gt)){if(dt=$g,F="onMouseLeave",j="onMouseEnter",R="mouse",(r==="pointerout"||r==="pointerover")&&(dt=Kg,F="onPointerLeave",j="onPointerEnter",R="pointer"),Ht=P==null?V:Ao(P),z=gt==null?V:Ao(gt),V=new dt(F,R+"leave",P,u,I),V.target=Ht,V.relatedTarget=z,F=null,fs(I)===L&&(dt=new dt(j,R+"enter",gt,u,I),dt.target=z,dt.relatedTarget=Ht,F=dt),Ht=F,P&&gt)e:{for(dt=P,j=gt,R=0,z=dt;z;z=$s(z))R++;for(z=0,F=j;F;F=$s(F))z++;for(;0<R-z;)dt=$s(dt),R--;for(;0<z-R;)j=$s(j),z--;for(;R--;){if(dt===j||j!==null&&dt===j.alternate)break e;dt=$s(dt),j=$s(j)}dt=null}else dt=null;P!==null&&L1($,V,P,dt,!1),gt!==null&&Ht!==null&&L1($,Ht,gt,dt,!0)}}t:{if(V=L?Ao(L):window,P=V.nodeName&&V.nodeName.toLowerCase(),P==="select"||P==="input"&&V.type==="file")var st=e0;else if(Wg(V))if(n0)st=vM;else{st=gM;var wt=mM}else P=V.nodeName,!P||P.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?L&&pf(L.elementType)&&(st=e0):st=yM;if(st&&(st=st(r,L))){t0($,st,u,I);break t}wt&&wt(r,V,L),r==="focusout"&&L&&V.type==="number"&&L.memoizedProps.value!=null&&hf(V,"number",V.value)}switch(wt=L?Ao(L):window,r){case"focusin":(Wg(wt)||wt.contentEditable==="true")&&(Ss=wt,Af=L,Bo=null);break;case"focusout":Bo=Af=Ss=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,c0($,u,I);break;case"selectionchange":if(xM)break;case"keydown":case"keyup":c0($,u,I)}var ut;if(Cf)t:{switch(r){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else xs?Zg(r,u)&&(ht="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(ht="onCompositionStart");ht&&(Yg&&u.locale!=="ko"&&(xs||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&xs&&(ut=Fg()):(Ni=I,bf="value"in Ni?Ni.value:Ni.textContent,xs=!0)),wt=Su(L,ht),0<wt.length&&(ht=new Gg(ht,r,null,u,I),$.push({event:ht,listeners:wt}),ut?ht.data=ut:(ut=Qg(u),ut!==null&&(ht.data=ut)))),(ut=cM?fM(r,u):dM(r,u))&&(ht=Su(L,"onBeforeInput"),0<ht.length&&(wt=new Gg("onBeforeInput","beforeinput",null,u,I),$.push({event:wt,listeners:ht}),wt.data=ut)),nw($,r,L,u,I)}_1($,o)})}function fa(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Su(r,o){for(var u=o+"Capture",f=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Oo(r,u),m!=null&&f.unshift(fa(r,m,y)),m=Oo(r,o),m!=null&&f.push(fa(r,m,y))),r.tag===3)return f;r=r.return}return[]}function $s(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function L1(r,o,u,f,m){for(var y=o._reactName,S=[];u!==null&&u!==f;){var M=u,D=M.alternate,L=M.stateNode;if(M=M.tag,D!==null&&D===f)break;M!==5&&M!==26&&M!==27||L===null||(D=L,m?(L=Oo(u,y),L!=null&&S.unshift(fa(u,L,D))):m||(L=Oo(u,y),L!=null&&S.push(fa(u,L,D)))),u=u.return}S.length!==0&&r.push({event:o,listeners:S})}var ow=/\r\n?/g,aw=/\u0000|\uFFFD/g;function B1(r){return(typeof r=="string"?r:""+r).replace(ow,`
`).replace(aw,"")}function V1(r,o){return o=B1(o),B1(r)===o}function Tu(){}function Pt(r,o,u,f,m,y){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||ys(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&ys(r,""+f);break;case"className":kl(r,"class",f);break;case"tabIndex":kl(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":kl(r,u,f);break;case"style":Hg(r,f,y);break;case"data":if(o!=="object"){kl(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=Dl(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(o!=="input"&&Pt(r,o,"name",m.name,m,null),Pt(r,o,"formEncType",m.formEncType,m,null),Pt(r,o,"formMethod",m.formMethod,m,null),Pt(r,o,"formTarget",m.formTarget,m,null)):(Pt(r,o,"encType",m.encType,m,null),Pt(r,o,"method",m.method,m,null),Pt(r,o,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=Dl(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=Tu);break;case"onScroll":f!=null&&At("scroll",r);break;case"onScrollEnd":f!=null&&At("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=Dl(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":At("beforetoggle",r),At("toggle",r),wl(r,"popover",f);break;case"xlinkActuate":ni(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ni(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ni(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ni(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ni(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ni(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ni(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ni(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ni(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":wl(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=BC.get(u)||u,wl(r,u,f))}}function Qd(r,o,u,f,m,y){switch(u){case"style":Hg(r,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof f=="string"?ys(r,f):(typeof f=="number"||typeof f=="bigint")&&ys(r,""+f);break;case"onScroll":f!=null&&At("scroll",r);break;case"onScrollEnd":f!=null&&At("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Tu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Og.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),o=u.slice(2,m?u.length-7:void 0),y=r[Ke]||null,y=y!=null?y[u]:null,typeof y=="function"&&r.removeEventListener(o,y,m),typeof f=="function")){typeof y!="function"&&y!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,f,m);break t}u in r?r[u]=f:f===!0?r.setAttribute(u,""):wl(r,u,f)}}}function Te(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",r),At("load",r);var f=!1,m=!1,y;for(y in u)if(u.hasOwnProperty(y)){var S=u[y];if(S!=null)switch(y){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Pt(r,o,y,S,u,null)}}m&&Pt(r,o,"srcSet",u.srcSet,u,null),f&&Pt(r,o,"src",u.src,u,null);return;case"input":At("invalid",r);var M=y=S=m=null,D=null,L=null;for(f in u)if(u.hasOwnProperty(f)){var I=u[f];if(I!=null)switch(f){case"name":m=I;break;case"type":S=I;break;case"checked":D=I;break;case"defaultChecked":L=I;break;case"value":y=I;break;case"defaultValue":M=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,o));break;default:Pt(r,o,f,I,u,null)}}Lg(r,y,M,D,L,S,m,!1),Al(r);return;case"select":At("invalid",r),f=S=y=null;for(m in u)if(u.hasOwnProperty(m)&&(M=u[m],M!=null))switch(m){case"value":y=M;break;case"defaultValue":S=M;break;case"multiple":f=M;default:Pt(r,o,m,M,u,null)}o=y,u=S,r.multiple=!!f,o!=null?gs(r,!!f,o,!1):u!=null&&gs(r,!!f,u,!0);return;case"textarea":At("invalid",r),y=m=f=null;for(S in u)if(u.hasOwnProperty(S)&&(M=u[S],M!=null))switch(S){case"value":f=M;break;case"defaultValue":m=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:Pt(r,o,S,M,u,null)}Vg(r,f,m,y),Al(r);return;case"option":for(D in u)if(u.hasOwnProperty(D)&&(f=u[D],f!=null))switch(D){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Pt(r,o,D,f,u,null)}return;case"dialog":At("beforetoggle",r),At("toggle",r),At("cancel",r),At("close",r);break;case"iframe":case"object":At("load",r);break;case"video":case"audio":for(f=0;f<ca.length;f++)At(ca[f],r);break;case"image":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"embed":case"source":case"link":At("error",r),At("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in u)if(u.hasOwnProperty(L)&&(f=u[L],f!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Pt(r,o,L,f,u,null)}return;default:if(pf(o)){for(I in u)u.hasOwnProperty(I)&&(f=u[I],f!==void 0&&Qd(r,o,I,f,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(f=u[M],f!=null&&Pt(r,o,M,f,u,null))}function lw(r,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,M=null,D=null,L=null,I=null;for(P in u){var $=u[P];if(u.hasOwnProperty(P)&&$!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":D=$;default:f.hasOwnProperty(P)||Pt(r,o,P,null,f,$)}}for(var V in f){var P=f[V];if($=u[V],f.hasOwnProperty(V)&&(P!=null||$!=null))switch(V){case"type":y=P;break;case"name":m=P;break;case"checked":L=P;break;case"defaultChecked":I=P;break;case"value":S=P;break;case"defaultValue":M=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,o));break;default:P!==$&&Pt(r,o,V,P,f,$)}}df(r,S,M,D,L,I,y,m);return;case"select":P=S=M=V=null;for(y in u)if(D=u[y],u.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":P=D;default:f.hasOwnProperty(y)||Pt(r,o,y,null,f,D)}for(m in f)if(y=f[m],D=u[m],f.hasOwnProperty(m)&&(y!=null||D!=null))switch(m){case"value":V=y;break;case"defaultValue":M=y;break;case"multiple":S=y;default:y!==D&&Pt(r,o,m,y,f,D)}o=M,u=S,f=P,V!=null?gs(r,!!u,V,!1):!!f!=!!u&&(o!=null?gs(r,!!u,o,!0):gs(r,!!u,u?[]:"",!1));return;case"textarea":P=V=null;for(M in u)if(m=u[M],u.hasOwnProperty(M)&&m!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Pt(r,o,M,null,f,m)}for(S in f)if(m=f[S],y=u[S],f.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":V=m;break;case"defaultValue":P=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&Pt(r,o,S,m,f,y)}Bg(r,V,P);return;case"option":for(var gt in u)if(V=u[gt],u.hasOwnProperty(gt)&&V!=null&&!f.hasOwnProperty(gt))switch(gt){case"selected":r.selected=!1;break;default:Pt(r,o,gt,null,f,V)}for(D in f)if(V=f[D],P=u[D],f.hasOwnProperty(D)&&V!==P&&(V!=null||P!=null))switch(D){case"selected":r.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Pt(r,o,D,V,f,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in u)V=u[dt],u.hasOwnProperty(dt)&&V!=null&&!f.hasOwnProperty(dt)&&Pt(r,o,dt,null,f,V);for(L in f)if(V=f[L],P=u[L],f.hasOwnProperty(L)&&V!==P&&(V!=null||P!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,o));break;default:Pt(r,o,L,V,f,P)}return;default:if(pf(o)){for(var Ht in u)V=u[Ht],u.hasOwnProperty(Ht)&&V!==void 0&&!f.hasOwnProperty(Ht)&&Qd(r,o,Ht,void 0,f,V);for(I in f)V=f[I],P=u[I],!f.hasOwnProperty(I)||V===P||V===void 0&&P===void 0||Qd(r,o,I,V,f,P);return}}for(var j in u)V=u[j],u.hasOwnProperty(j)&&V!=null&&!f.hasOwnProperty(j)&&Pt(r,o,j,null,f,V);for($ in f)V=f[$],P=u[$],!f.hasOwnProperty($)||V===P||V==null&&P==null||Pt(r,o,$,V,f,P)}var Wd=null,th=null;function Eu(r){return r.nodeType===9?r:r.ownerDocument}function P1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H1(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function eh(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var nh=null;function uw(){var r=window.event;return r&&r.type==="popstate"?r===nh?!1:(nh=r,!0):(nh=null,!1)}var U1=typeof setTimeout=="function"?setTimeout:void 0,cw=typeof clearTimeout=="function"?clearTimeout:void 0,I1=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof I1<"u"?function(r){return I1.resolve(null).then(r).catch(dw)}:U1;function dw(r){setTimeout(function(){throw r})}function Ki(r){return r==="head"}function F1(r,o){var u=o,f=0,m=0;do{var y=u.nextSibling;if(r.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<f&&8>f){u=f;var S=r.ownerDocument;if(u&1&&da(S.documentElement),u&2&&da(S.body),u&4)for(u=S.head,da(u),S=u.firstChild;S;){var M=S.nextSibling,D=S.nodeName;S[ko]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=M}}if(m===0){r.removeChild(y),xa(o);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:f=u.charCodeAt(0)-48;else f=0;u=y}while(u);xa(o)}function ih(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ih(u),lf(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function hw(r,o,u,f){for(;r.nodeType===1;){var m=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[ko])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=zn(r.nextSibling),r===null)break}return null}function pw(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=zn(r.nextSibling),r===null))return null;return r}function rh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function mw(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function zn(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var sh=null;function q1(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function $1(r,o,u){switch(o=Eu(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function da(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);lf(r)}var En=new Map,G1=new Set;function Cu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var gi=Y.d;Y.d={f:gw,r:yw,D:vw,C:bw,L:xw,m:Sw,X:Ew,S:Tw,M:Cw};function gw(){var r=gi.f(),o=mu();return r||o}function yw(r){var o=ds(r);o!==null&&o.tag===5&&o.type==="form"?dy(o):gi.r(r)}var Gs=typeof document>"u"?null:document;function K1(r,o,u){var f=Gs;if(f&&typeof o=="string"&&o){var m=gn(o);m='link[rel="'+r+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),G1.has(m)||(G1.add(m),r={rel:r,crossOrigin:u,href:o},f.querySelector(m)===null&&(o=f.createElement("link"),Te(o,"link",r),fe(o),f.head.appendChild(o)))}}function vw(r){gi.D(r),K1("dns-prefetch",r,null)}function bw(r,o){gi.C(r,o),K1("preconnect",r,o)}function xw(r,o,u){gi.L(r,o,u);var f=Gs;if(f&&r&&o){var m='link[rel="preload"][as="'+gn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+gn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+gn(u.imageSizes)+'"]')):m+='[href="'+gn(r)+'"]';var y=m;switch(o){case"style":y=Ks(r);break;case"script":y=Ys(r)}En.has(y)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),En.set(y,r),f.querySelector(m)!==null||o==="style"&&f.querySelector(ha(y))||o==="script"&&f.querySelector(pa(y))||(o=f.createElement("link"),Te(o,"link",r),fe(o),f.head.appendChild(o)))}}function Sw(r,o){gi.m(r,o);var u=Gs;if(u&&r){var f=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+gn(f)+'"][href="'+gn(r)+'"]',y=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ys(r)}if(!En.has(y)&&(r=p({rel:"modulepreload",href:r},o),En.set(y,r),u.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(pa(y)))return}f=u.createElement("link"),Te(f,"link",r),fe(f),u.head.appendChild(f)}}}function Tw(r,o,u){gi.S(r,o,u);var f=Gs;if(f&&r){var m=hs(f).hoistableStyles,y=Ks(r);o=o||"default";var S=m.get(y);if(!S){var M={loading:0,preload:null};if(S=f.querySelector(ha(y)))M.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=En.get(y))&&oh(r,u);var D=S=f.createElement("link");fe(D),Te(D,"link",r),D._p=new Promise(function(L,I){D.onload=L,D.onerror=I}),D.addEventListener("load",function(){M.loading|=1}),D.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Mu(S,o,f)}S={type:"stylesheet",instance:S,count:1,state:M},m.set(y,S)}}}function Ew(r,o){gi.X(r,o);var u=Gs;if(u&&r){var f=hs(u).hoistableScripts,m=Ys(r),y=f.get(m);y||(y=u.querySelector(pa(m)),y||(r=p({src:r,async:!0},o),(o=En.get(m))&&ah(r,o),y=u.createElement("script"),fe(y),Te(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function Cw(r,o){gi.M(r,o);var u=Gs;if(u&&r){var f=hs(u).hoistableScripts,m=Ys(r),y=f.get(m);y||(y=u.querySelector(pa(m)),y||(r=p({src:r,async:!0,type:"module"},o),(o=En.get(m))&&ah(r,o),y=u.createElement("script"),fe(y),Te(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function Y1(r,o,u,f){var m=(m=yt.current)?Cu(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ks(u.href),u=hs(m).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Ks(u.href);var y=hs(m).hoistableStyles,S=y.get(r);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,S),(y=m.querySelector(ha(r)))&&!y._p&&(S.instance=y,S.state.loading=5),En.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},En.set(r,u),y||Mw(m,r,u,S.state))),o&&f===null)throw Error(i(528,""));return S}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ys(u),u=hs(m).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ks(r){return'href="'+gn(r)+'"'}function ha(r){return'link[rel="stylesheet"]['+r+"]"}function X1(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function Mw(r,o,u,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Te(o,"link",u),fe(o),r.head.appendChild(o))}function Ys(r){return'[src="'+gn(r)+'"]'}function pa(r){return"script[async]"+r}function J1(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+gn(u.href)+'"]');if(f)return o.instance=f,fe(f),f;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),fe(f),Te(f,"style",m),Mu(f,u.precedence,r),o.instance=f;case"stylesheet":m=Ks(u.href);var y=r.querySelector(ha(m));if(y)return o.state.loading|=4,o.instance=y,fe(y),y;f=X1(u),(m=En.get(m))&&oh(f,m),y=(r.ownerDocument||r).createElement("link"),fe(y);var S=y;return S._p=new Promise(function(M,D){S.onload=M,S.onerror=D}),Te(y,"link",f),o.state.loading|=4,Mu(y,u.precedence,r),o.instance=y;case"script":return y=Ys(u.src),(m=r.querySelector(pa(y)))?(o.instance=m,fe(m),m):(f=u,(m=En.get(y))&&(f=p({},u),ah(f,m)),r=r.ownerDocument||r,m=r.createElement("script"),fe(m),Te(m,"link",f),r.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Mu(f,u.precedence,r));return o.instance}function Mu(r,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,y=m,S=0;S<f.length;S++){var M=f[S];if(M.dataset.precedence===o)y=M;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function oh(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function ah(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var wu=null;function Z1(r,o,u){if(wu===null){var f=new Map,m=wu=new Map;m.set(u,f)}else m=wu,f=m.get(u),f||(f=new Map,m.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),m=0;m<u.length;m++){var y=u[m];if(!(y[ko]||y[Oe]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=r+S;var M=f.get(S);M?M.push(y):f.set(S,[y])}}return f}function Q1(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function ww(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function W1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ma=null;function kw(){}function Aw(r,o,u){if(ma===null)throw Error(i(475));var f=ma;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Ks(u.href),y=r.querySelector(ha(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=ku.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=y,fe(y);return}y=r.ownerDocument||r,u=X1(u),(m=En.get(m))&&oh(u,m),y=y.createElement("link"),fe(y);var S=y;S._p=new Promise(function(M,D){S.onload=M,S.onerror=D}),Te(y,"link",u),o.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=ku.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function Ow(){if(ma===null)throw Error(i(475));var r=ma;return r.stylesheets&&r.count===0&&lh(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&lh(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function ku(){if(this.count--,this.count===0){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Au=null;function lh(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Au=new Map,o.forEach(Dw,r),Au=null,ku.call(r))}function Dw(r,o){if(!(o.state.loading&4)){var u=Au.get(r);if(u)var f=u.get(null);else{u=new Map,Au.set(r,u);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(u.set(S.dataset.precedence,S),f=S)}f&&u.set(null,f)}m=o.instance,S=m.getAttribute("data-precedence"),y=u.get(S)||f,y===f&&u.set(null,m),u.set(S,m),this.count++,f=ku.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),o.state.loading|=4}}var ga={$$typeof:A,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Nw(r,o,u,f,m,y,S,M){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.hiddenUpdates=rf(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function tv(r,o,u,f,m,y,S,M,D,L,I,$){return r=new Nw(r,o,u,S,M,D,L,$),o=1,y===!0&&(o|=24),y=sn(3,null,null,o),r.current=y,y.stateNode=r,o=Ff(),o.refCount++,r.pooledCache=o,o.refCount++,y.memoizedState={element:f,isDehydrated:u,cache:o},Kf(y),r}function ev(r){return r?(r=Ms,r):Ms}function nv(r,o,u,f,m,y){m=ev(m),f.context===null?f.context=m:f.pendingContext=m,f=_i(o),f.payload={element:u},y=y===void 0?null:y,y!==null&&(f.callback=y),u=zi(r,f,o),u!==null&&(cn(u,r,o),Go(u,r,o))}function iv(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function uh(r,o){iv(r,o),(r=r.alternate)&&iv(r,o)}function rv(r){if(r.tag===13){var o=Cs(r,67108864);o!==null&&cn(o,r,67108864),uh(r,67108864)}}var Ou=!0;function Rw(r,o,u,f){var m=H.T;H.T=null;var y=Y.p;try{Y.p=2,ch(r,o,u,f)}finally{Y.p=y,H.T=m}}function jw(r,o,u,f){var m=H.T;H.T=null;var y=Y.p;try{Y.p=8,ch(r,o,u,f)}finally{Y.p=y,H.T=m}}function ch(r,o,u,f){if(Ou){var m=fh(f);if(m===null)Zd(r,o,f,Du,u),ov(r,f);else if(zw(m,r,o,u,f))f.stopPropagation();else if(ov(r,f),o&4&&-1<_w.indexOf(r)){for(;m!==null;){var y=ds(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Sr(y.pendingLanes);if(S!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;S;){var D=1<<31-nn(S);M.entanglements[1]|=D,S&=~D}qn(y),(zt&6)===0&&(hu=pn()+500,ua(0))}}break;case 13:M=Cs(y,2),M!==null&&cn(M,y,2),mu(),uh(y,2)}if(y=fh(f),y===null&&Zd(r,o,f,Du,u),y===m)break;m=y}m!==null&&f.stopPropagation()}else Zd(r,o,f,null,u)}}function fh(r){return r=gf(r),dh(r)}var Du=null;function dh(r){if(Du=null,r=fs(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Du=r,null}function sv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sl()){case bg:return 2;case xg:return 8;case Tl:case xC:return 32;case Sg:return 268435456;default:return 32}default:return 32}}var hh=!1,Yi=null,Xi=null,Ji=null,ya=new Map,va=new Map,Zi=[],_w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ov(r,o){switch(r){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":ya.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(o.pointerId)}}function ba(r,o,u,f,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},o!==null&&(o=ds(o),o!==null&&rv(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),r)}function zw(r,o,u,f,m){switch(o){case"focusin":return Yi=ba(Yi,r,o,u,f,m),!0;case"dragenter":return Xi=ba(Xi,r,o,u,f,m),!0;case"mouseover":return Ji=ba(Ji,r,o,u,f,m),!0;case"pointerover":var y=m.pointerId;return ya.set(y,ba(ya.get(y)||null,r,o,u,f,m)),!0;case"gotpointercapture":return y=m.pointerId,va.set(y,ba(va.get(y)||null,r,o,u,f,m)),!0}return!1}function av(r){var o=fs(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,AC(r.priority,function(){if(u.tag===13){var f=un();f=sf(f);var m=Cs(u,f);m!==null&&cn(m,u,f),uh(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Nu(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=fh(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);mf=f,u.target.dispatchEvent(f),mf=null}else return o=ds(u),o!==null&&rv(o),r.blockedOn=u,!1;o.shift()}return!0}function lv(r,o,u){Nu(r)&&u.delete(o)}function Lw(){hh=!1,Yi!==null&&Nu(Yi)&&(Yi=null),Xi!==null&&Nu(Xi)&&(Xi=null),Ji!==null&&Nu(Ji)&&(Ji=null),ya.forEach(lv),va.forEach(lv)}function Ru(r,o){r.blockedOn===o&&(r.blockedOn=null,hh||(hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lw)))}var ju=null;function uv(r){ju!==r&&(ju=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ju===r&&(ju=null);for(var o=0;o<r.length;o+=3){var u=r[o],f=r[o+1],m=r[o+2];if(typeof f!="function"){if(dh(f||u)===null)continue;break}var y=ds(u);y!==null&&(r.splice(o,3),o-=3,dd(y,{pending:!0,data:m,method:u.method,action:f},f,m))}}))}function xa(r){function o(D){return Ru(D,r)}Yi!==null&&Ru(Yi,r),Xi!==null&&Ru(Xi,r),Ji!==null&&Ru(Ji,r),ya.forEach(o),va.forEach(o);for(var u=0;u<Zi.length;u++){var f=Zi[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Zi.length&&(u=Zi[0],u.blockedOn===null);)av(u),u.blockedOn===null&&Zi.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var m=u[f],y=u[f+1],S=m[Ke]||null;if(typeof y=="function")S||uv(u);else if(S){var M=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[Ke]||null)M=S.formAction;else if(dh(m)!==null)continue}else M=S.action;typeof M=="function"?u[f+1]=M:(u.splice(f,3),f-=3),uv(u)}}}function ph(r){this._internalRoot=r}_u.prototype.render=ph.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=un();nv(u,f,r,o,null,null)},_u.prototype.unmount=ph.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;nv(r.current,2,null,r,null,null),mu(),o[cs]=null}};function _u(r){this._internalRoot=r}_u.prototype.unstable_scheduleHydration=function(r){if(r){var o=wg();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Zi.length&&o!==0&&o<Zi[u].priority;u++);Zi.splice(u,0,r),u===0&&av(r)}};var cv=t.version;if(cv!=="19.1.0")throw Error(i(527,cv,"19.1.0"));Y.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(o),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var Bw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Co=zu.inject(Bw),en=zu}catch{}}return Ta.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,f="",m=wy,y=ky,S=Ay,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks)),o=tv(r,1,!1,null,null,u,f,m,y,S,M,null),r[cs]=o.current,Jd(r),new ph(o)},Ta.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var f=!1,m="",y=wy,S=ky,M=Ay,D=null,L=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(D=u.unstable_transitionCallbacks),u.formState!==void 0&&(L=u.formState)),o=tv(r,1,!0,o,u??null,f,m,y,S,M,D,L),o.context=ev(null),u=o.current,f=un(),f=sf(f),m=_i(f),m.callback=null,zi(u,m,f),u=f,o.current.lanes=u,wo(o,u),qn(o),r[cs]=o.current,Jd(r),new _u(o)},Ta.version="19.1.0",Ta}var xv;function Gw(){if(xv)return yh.exports;xv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yh.exports=$w(),yh.exports}var Kw=Gw(),Ea={},Sv;function Yw(){if(Sv)return Ea;Sv=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.parse=l,Ea.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,b){const x=new a,E=v.length;if(E<2)return x;const C=(b==null?void 0:b.decode)||p;let w=0;do{const O=v.indexOf("=",w);if(O===-1)break;const A=v.indexOf(";",w),B=A===-1?E:A;if(O>B){w=v.lastIndexOf(";",O-1)+1;continue}const _=c(v,w,O),U=d(v,O,_),G=v.slice(_,U);if(x[G]===void 0){let q=c(v,O+1,B),K=d(v,B,q);const tt=C(v.slice(q,K));x[G]=tt}w=B+1}while(w<E);return x}function c(v,b,x){do{const E=v.charCodeAt(b);if(E!==32&&E!==9)return b}while(++b<x);return x}function d(v,b,x){for(;b>x;){const E=v.charCodeAt(--b);if(E!==32&&E!==9)return b+1}return x}function h(v,b,x){const E=(x==null?void 0:x.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const C=E(b);if(!t.test(C))throw new TypeError(`argument val is invalid: ${b}`);let w=v+"="+C;if(!x)return w;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);w+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);w+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);w+="; Path="+x.path}if(x.expires){if(!g(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);w+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(w+="; HttpOnly"),x.secure&&(w+="; Secure"),x.partitioned&&(w+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return w}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return s.call(v)==="[object Date]"}return Ea}Yw();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tv="popstate";function Xw(e={}){function t(i,s){let{pathname:a,search:l,hash:c}=i.location;return up("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Ua(s)}return Zw(t,n,null,e)}function Xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jw(){return Math.random().toString(36).substring(2,10)}function Ev(e,t){return{usr:e.state,key:e.key,idx:t}}function up(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vo(t):t,state:n,key:t&&t.key||i||Jw()}}function Ua({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function Zw(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let C=p(),w=C==null?null:C-h;h=C,d&&d({action:c,location:E.location,delta:w})}function v(C,w){c="PUSH";let O=up(E.location,C,w);h=p()+1;let A=Ev(O,h),B=E.createHref(O);try{l.pushState(A,"",B)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(B)}a&&d&&d({action:c,location:E.location,delta:1})}function b(C,w){c="REPLACE";let O=up(E.location,C,w);h=p();let A=Ev(O,h),B=E.createHref(O);l.replaceState(A,"",B),a&&d&&d({action:c,location:E.location,delta:0})}function x(C){let w=s.location.origin!=="null"?s.location.origin:s.location.href,O=typeof C=="string"?C:Ua(C);return O=O.replace(/ $/,"%20"),Xt(w,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,w)}let E={get action(){return c},get location(){return e(s,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Tv,g),d=C,()=>{s.removeEventListener(Tv,g),d=null}},createHref(C){return t(s,C)},createURL:x,encodeLocation(C){let w=x(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:b,go(C){return l.go(C)}};return E}function SS(e,t,n="/"){return Qw(e,t,n,!1)}function Qw(e,t,n,i){let s=typeof t=="string"?vo(t):t,a=Mi(s.pathname||"/",n);if(a==null)return null;let l=TS(e);Ww(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=c3(a);c=l3(l[d],h,i)}return c}function TS(e,t=[],n=[],i=""){let s=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Xt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let h=Ti([i,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(Xt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),TS(a.children,t,p,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:o3(h,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let d of ES(a.path))s(a,l,d)}),t}function ES(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=ES(i.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function Ww(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:a3(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var t3=/^:[\w-]+$/,e3=3,n3=2,i3=1,r3=10,s3=-2,Cv=e=>e==="*";function o3(e,t){let n=e.split("/"),i=n.length;return n.some(Cv)&&(i+=s3),t&&(i+=n3),n.filter(s=>!Cv(s)).reduce((s,a)=>s+(t3.test(a)?e3:a===""?i3:r3),i)}function a3(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function l3(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",l=[];for(let c=0;c<i.length;++c){let d=i[c],h=c===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",g=oc({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),v=d.route;if(!g&&h&&n&&!i[i.length-1].route.index&&(g=oc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Ti([a,g.pathname]),pathnameBase:p3(Ti([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=Ti([a,g.pathnameBase]))}return l}function oc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=u3(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let x=c[v]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=c[v];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:e}}function u3(e,t=!1,n=!0){Zn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function c3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Mi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function f3(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?vo(e):e;return{pathname:n?n.startsWith("/")?n:d3(n,t):t,search:m3(i),hash:g3(s)}}function d3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sh(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function CS(e){let t=h3(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function MS(e,t,n,i=!1){let s;typeof e=="string"?s=vo(e):(s={...e},Xt(!s.pathname||!s.pathname.includes("?"),Sh("?","pathname","search",s)),Xt(!s.pathname||!s.pathname.includes("#"),Sh("#","pathname","hash",s)),Xt(!s.search||!s.search.includes("#"),Sh("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let g=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}c=g>=0?t[g]:"/"}let d=f3(s,c),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Ti=e=>e.join("/").replace(/\/\/+/g,"/"),p3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),m3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function y3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var wS=["POST","PUT","PATCH","DELETE"];new Set(wS);var v3=["GET",...wS];new Set(v3);var bo=k.createContext(null);bo.displayName="DataRouter";var Rc=k.createContext(null);Rc.displayName="DataRouterState";var kS=k.createContext({isTransitioning:!1});kS.displayName="ViewTransition";var b3=k.createContext(new Map);b3.displayName="Fetchers";var x3=k.createContext(null);x3.displayName="Await";var ti=k.createContext(null);ti.displayName="Navigation";var al=k.createContext(null);al.displayName="Location";var ei=k.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var om=k.createContext(null);om.displayName="RouteError";function S3(e,{relative:t}={}){Xt(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(ti),{hash:s,pathname:a,search:l}=ul(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Ti([n,a])),i.createHref({pathname:c,search:l,hash:s})}function ll(){return k.useContext(al)!=null}function as(){return Xt(ll(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(al).location}var AS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OS(e){k.useContext(ti).static||k.useLayoutEffect(e)}function xo(){let{isDataRoute:e}=k.useContext(ei);return e?_3():T3()}function T3(){Xt(ll(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(bo),{basename:t,navigator:n}=k.useContext(ti),{matches:i}=k.useContext(ei),{pathname:s}=as(),a=JSON.stringify(CS(i)),l=k.useRef(!1);return OS(()=>{l.current=!0}),k.useCallback((d,h={})=>{if(Zn(l.current,AS),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=MS(d,JSON.parse(a),s,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ti([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,a,s,e])}k.createContext(null);function DS(){let{matches:e}=k.useContext(ei),t=e[e.length-1];return t?t.params:{}}function ul(e,{relative:t}={}){let{matches:n}=k.useContext(ei),{pathname:i}=as(),s=JSON.stringify(CS(n));return k.useMemo(()=>MS(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function E3(e,t){return NS(e,t)}function NS(e,t,n,i){var O;Xt(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=k.useContext(ti),{matches:l}=k.useContext(ei),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let A=g&&g.path||"";RS(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=as(),b;if(t){let A=typeof t=="string"?vo(t):t;Xt(p==="/"||((O=A.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=v;let x=b.pathname||"/",E=x;if(p!=="/"){let A=p.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=!a&&n&&n.matches&&n.matches.length>0?n.matches:SS(e,{pathname:E});Zn(g||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Zn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=A3(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:Ti([p,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:Ti([p,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,n,i);return t&&w?k.createElement(al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},w):w}function C3(){let e=j3(),t=y3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:s},n):null,l)}var M3=k.createElement(C3,null),w3=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?k.createElement(ei.Provider,{value:this.props.routeContext},k.createElement(om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function k3({routeContext:e,match:t,children:n}){let i=k.useContext(bo);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(ei.Provider,{value:e},n)}function A3(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Xt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:g}=n,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,p)=>{let g,v=!1,b=null,x=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||M3,l&&(c<0&&p===0?(RS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,p+1)),C=()=>{let w;return g?w=b:v?w=x:h.route.Component?w=k.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,k.createElement(k3,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?k.createElement(w3,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}function am(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O3(e){let t=k.useContext(bo);return Xt(t,am(e)),t}function D3(e){let t=k.useContext(Rc);return Xt(t,am(e)),t}function N3(e){let t=k.useContext(ei);return Xt(t,am(e)),t}function lm(e){let t=N3(e),n=t.matches[t.matches.length-1];return Xt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function R3(){return lm("useRouteId")}function j3(){var i;let e=k.useContext(om),t=D3("useRouteError"),n=lm("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function _3(){let{router:e}=O3("useNavigate"),t=lm("useNavigate"),n=k.useRef(!1);return OS(()=>{n.current=!0}),k.useCallback(async(s,a={})=>{Zn(n.current,AS),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Mv={};function RS(e,t,n){!t&&!Mv[e]&&(Mv[e]=!0,Zn(!1,n))}k.memo(z3);function z3({routes:e,future:t,state:n}){return NS(e,void 0,n,t)}function Hr(e){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L3({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){Xt(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=vo(n));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,b=k.useMemo(()=>{let x=Mi(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:g,key:v},navigationType:i}},[l,d,h,p,g,v,i]);return Zn(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:k.createElement(ti.Provider,{value:c},k.createElement(al.Provider,{children:t,value:b}))}function B3({children:e,location:t}){return E3(cp(e),t)}function cp(e,t=[]){let n=[];return k.Children.forEach(e,(i,s)=>{if(!k.isValidElement(i))return;let a=[...t,s];if(i.type===k.Fragment){n.push.apply(n,cp(i.props.children,a));return}Xt(i.type===Hr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=cp(i.props.children,a)),n.push(l)}),n}var Xu="get",Ju="application/x-www-form-urlencoded";function jc(e){return e!=null&&typeof e.tagName=="string"}function V3(e){return jc(e)&&e.tagName.toLowerCase()==="button"}function P3(e){return jc(e)&&e.tagName.toLowerCase()==="form"}function H3(e){return jc(e)&&e.tagName.toLowerCase()==="input"}function U3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I3(e,t){return e.button===0&&(!t||t==="_self")&&!U3(e)}var Lu=null;function F3(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var q3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Th(e){return e!=null&&!q3.has(e)?(Zn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):e}function $3(e,t){let n,i,s,a,l;if(P3(e)){let c=e.getAttribute("action");i=c?Mi(c,t):null,n=e.getAttribute("method")||Xu,s=Th(e.getAttribute("enctype"))||Ju,a=new FormData(e)}else if(V3(e)||H3(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(i=d?Mi(d,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Xu,s=Th(e.getAttribute("formenctype"))||Th(c.getAttribute("enctype"))||Ju,a=new FormData(c,e),!F3()){let{name:h,type:p,value:g}=e;if(p==="image"){let v=h?`${h}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else h&&a.append(h,g)}}else{if(jc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xu,i=null,s=Ju,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}function um(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function G3(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Y3(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await G3(a,n);return l.links?l.links():[]}return[]}));return Q3(i.flat(1).filter(K3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function wv(e,t,n,i,s,a){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var p;return n[h].pathname!==d.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return a==="assets"?t.filter((d,h)=>l(d,h)||c(d,h)):a==="data"?t.filter((d,h)=>{var g;let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function X3(e,t,{includeHydrateFallback:n}={}){return J3(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function J3(e){return[...new Set(e)]}function Z3(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function Q3(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(Z3(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function W3(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Mi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function jS(){let e=k.useContext(bo);return um(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function t5(){let e=k.useContext(Rc);return um(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cm=k.createContext(void 0);cm.displayName="FrameworkContext";function _S(){let e=k.useContext(cm);return um(e,"You must render this element inside a <HydratedRouter> element"),e}function e5(e,t){let n=k.useContext(cm),[i,s]=k.useState(!1),[a,l]=k.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,v=k.useRef(null);k.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let E=w=>{w.forEach(O=>{l(O.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[e]),k.useEffect(()=>{if(i){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[i]);let b=()=>{s(!0)},x=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,v,{}]:[a,v,{onFocus:Ca(c,b),onBlur:Ca(d,x),onMouseEnter:Ca(h,b),onMouseLeave:Ca(p,x),onTouchStart:Ca(g,b)}]:[!1,v,{}]}function Ca(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function n5({page:e,...t}){let{router:n}=jS(),i=k.useMemo(()=>SS(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?k.createElement(r5,{page:e,matches:i,...t}):null}function i5(e){let{manifest:t,routeModules:n}=_S(),[i,s]=k.useState([]);return k.useEffect(()=>{let a=!1;return Y3(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),i}function r5({page:e,matches:t,...n}){let i=as(),{manifest:s,routeModules:a}=_S(),{basename:l}=jS(),{loaderData:c,matches:d}=t5(),h=k.useMemo(()=>wv(e,t,d,s,i,"data"),[e,t,d,s,i]),p=k.useMemo(()=>wv(e,t,d,s,i,"assets"),[e,t,d,s,i]),g=k.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let x=new Set,E=!1;if(t.forEach(w=>{var A;let O=s.routes[w.route.id];!O||!O.hasLoader||(!h.some(B=>B.route.id===w.route.id)&&w.route.id in c&&((A=a[w.route.id])!=null&&A.shouldRevalidate)||O.hasClientLoader?E=!0:x.add(w.route.id))}),x.size===0)return[];let C=W3(e,l);return E&&x.size>0&&C.searchParams.set("_routes",t.filter(w=>x.has(w.route.id)).map(w=>w.route.id).join(",")),[C.pathname+C.search]},[l,c,i,s,h,t,e,a]),v=k.useMemo(()=>X3(p,s),[p,s]),b=i5(p);return k.createElement(k.Fragment,null,g.map(x=>k.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),v.map(x=>k.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),b.map(({key:x,link:E})=>k.createElement("link",{key:x,...E})))}function s5(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var zS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zS&&(window.__reactRouterVersion="7.5.0")}catch{}function o5({basename:e,children:t,window:n}){let i=k.useRef();i.current==null&&(i.current=Xw({window:n,v5Compat:!0}));let s=i.current,[a,l]=k.useState({action:s.action,location:s.location}),c=k.useCallback(d=>{k.startTransition(()=>l(d))},[l]);return k.useLayoutEffect(()=>s.listen(c),[s,c]),k.createElement(L3,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var LS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ac=k.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:d,to:h,preventScrollReset:p,viewTransition:g,...v},b){let{basename:x}=k.useContext(ti),E=typeof h=="string"&&LS.test(h),C,w=!1;if(typeof h=="string"&&E&&(C=h,zS))try{let K=new URL(window.location.href),tt=h.startsWith("//")?new URL(K.protocol+h):new URL(h),at=Mi(tt.pathname,x);tt.origin===K.origin&&at!=null?h=at+tt.search+tt.hash:w=!0}catch{Zn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=S3(h,{relative:s}),[A,B,_]=e5(i,v),U=c5(h,{replace:l,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:g});function G(K){t&&t(K),K.defaultPrevented||U(K)}let q=k.createElement("a",{...v,..._,href:C||O,onClick:w||a?t:G,ref:s5(b,B),target:d,"data-discover":!E&&n==="render"?"true":void 0});return A&&!E?k.createElement(k.Fragment,null,q,k.createElement(n5,{page:O})):q});ac.displayName="Link";var a5=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:d,...h},p){let g=ul(l,{relative:h.relative}),v=as(),b=k.useContext(Rc),{navigator:x,basename:E}=k.useContext(ti),C=b!=null&&m5(g)&&c===!0,w=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,O=v.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(O=O.toLowerCase(),A=A?A.toLowerCase():null,w=w.toLowerCase()),A&&E&&(A=Mi(A,E)||A);const B=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let _=O===w||!s&&O.startsWith(w)&&O.charAt(B)==="/",U=A!=null&&(A===w||!s&&A.startsWith(w)&&A.charAt(w.length)==="/"),G={isActive:_,isPending:U,isTransitioning:C},q=_?t:void 0,K;typeof i=="function"?K=i(G):K=[i,_?"active":null,U?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let tt=typeof a=="function"?a(G):a;return k.createElement(ac,{...h,"aria-current":q,className:K,ref:p,style:tt,to:l,viewTransition:c},typeof d=="function"?d(G):d)});a5.displayName="NavLink";var l5=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:l=Xu,action:c,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...v},b)=>{let x=h5(),E=p5(c,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&LS.test(c),O=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let B=A.nativeEvent.submitter,_=(B==null?void 0:B.getAttribute("formmethod"))||l;x(B||A.currentTarget,{fetcherKey:t,method:_,navigate:n,replace:s,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return k.createElement("form",{ref:b,method:C,action:E,onSubmit:i?d:O,...v,"data-discover":!w&&e==="render"?"true":void 0})});l5.displayName="Form";function u5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BS(e){let t=k.useContext(bo);return Xt(t,u5(e)),t}function c5(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=xo(),d=as(),h=ul(e,{relative:a});return k.useCallback(p=>{if(I3(p,t)){p.preventDefault();let g=n!==void 0?n:Ua(d)===Ua(h);c(e,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[d,c,h,n,i,t,e,s,a,l])}var f5=0,d5=()=>`__${String(++f5)}__`;function h5(){let{router:e}=BS("useSubmit"),{basename:t}=k.useContext(ti),n=R3();return k.useCallback(async(i,s={})=>{let{action:a,method:l,encType:c,formData:d,body:h}=$3(i,t);if(s.navigate===!1){let p=s.fetcherKey||d5();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function p5(e,{relative:t}={}){let{basename:n}=k.useContext(ti),i=k.useContext(ei);Xt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...ul(e||".",{relative:t})},l=as();if(e==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ti([n,a.pathname])),Ua(a)}function m5(e,t={}){let n=k.useContext(kS);Xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=BS("useViewTransitionState"),s=ul(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Mi(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Mi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return oc(s.pathname,l)!=null||oc(s.pathname,a)!=null}new TextEncoder;var g5=xS();const y5=rm(g5),VS=k.createContext(void 0),v5=({children:e})=>{const[t,n]=k.useState(!1),[i,s]=k.useState(null);k.useEffect(()=>{(async()=>{try{const h=await(await fetch("http://localhost:3000/session",{method:"GET",credentials:"include"})).json();h.loggedIn&&(n(!0),s({id:h.userId,role:h.role,email:h.email,firstname:h.firstname,lastname:h.lastname}))}catch(d){console.error("Error checking session:",d)}})()},[]);const a=c=>{n(!0),s(c)},l=async()=>{await fetch("http://localhost:3000/logout",{method:"POST",credentials:"include"}),n(!1),s(null)};return T.jsx(VS.Provider,{value:{loggedIn:t,user:i,login:a,logout:l},children:e})},gr=()=>{const e=Z.useContext(VS);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},fm=k.createContext({});function dm(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const hm=typeof window<"u",PS=hm?k.useLayoutEffect:k.useEffect,_c=k.createContext(null),pm=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class b5 extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x5({children:e,isPresent:t,anchorX:n}){const i=k.useId(),s=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=k.useContext(pm);return k.useInsertionEffect(()=>{const{width:c,height:d,top:h,left:p,right:g}=a.current;if(t||!s.current||!c||!d)return;const v=n==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");return l&&(b.nonce=l),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[t]),T.jsx(b5,{isPresent:t,childRef:s,sizeRef:a,children:k.cloneElement(e,{ref:s})})}const S5=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c})=>{const d=dm(T5),h=k.useId(),p=k.useCallback(v=>{d.set(v,!0);for(const b of d.values())if(!b)return;i&&i()},[d,i]),g=k.useMemo(()=>({id:h,initial:t,isPresent:n,custom:s,onExitComplete:p,register:v=>(d.set(v,!1),()=>d.delete(v))}),a?[Math.random(),p]:[n,p]);return k.useMemo(()=>{d.forEach((v,b)=>d.set(b,!1))},[n]),k.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),l==="popLayout"&&(e=T.jsx(x5,{isPresent:n,anchorX:c,children:e})),T.jsx(_c.Provider,{value:g,children:e})};function T5(){return new Map}function HS(e=!0){const t=k.useContext(_c);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,a=k.useId();k.useEffect(()=>{if(e)return s(a)},[e]);const l=k.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,l]:[!0]}const Bu=e=>e.key||"";function kv(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const E5=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left"})=>{const[d,h]=HS(l),p=k.useMemo(()=>kv(e),[e]),g=l&&!d?[]:p.map(Bu),v=k.useRef(!0),b=k.useRef(p),x=dm(()=>new Map),[E,C]=k.useState(p),[w,O]=k.useState(p);PS(()=>{v.current=!1,b.current=p;for(let _=0;_<w.length;_++){const U=Bu(w[_]);g.includes(U)?x.delete(U):x.get(U)!==!0&&x.set(U,!1)}},[w,g.length,g.join("-")]);const A=[];if(p!==E){let _=[...p];for(let U=0;U<w.length;U++){const G=w[U],q=Bu(G);g.includes(q)||(_.splice(U,0,G),A.push(G))}return a==="wait"&&A.length&&(_=A),O(kv(_)),C(p),null}const{forceRender:B}=k.useContext(fm);return T.jsx(T.Fragment,{children:w.map(_=>{const U=Bu(_),G=l&&!d?!1:p===w||g.includes(U),q=()=>{if(x.has(U))x.set(U,!0);else return;let K=!0;x.forEach(tt=>{tt||(K=!1)}),K&&(B==null||B(),O(b.current),l&&(h==null||h()),i&&i())};return T.jsx(S5,{isPresent:G,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,onExitComplete:G?void 0:q,anchorX:c,children:_},U)})})};function mm(e,t){e.indexOf(t)===-1&&e.push(t)}function gm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let US=()=>{};const fp={useManualTiming:!1};function ym(e){let t;return()=>(t===void 0&&(t=e()),t)}const Nn=e=>e,Ia=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class vm{constructor(){this.subscriptions=[]}add(t){return mm(this.subscriptions,t),()=>gm(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kn=e=>e*1e3,Yn=e=>e/1e3;function IS(e,t){return t?e*(1e3/t):0}const C5=ym(()=>window.ScrollTimeline!==void 0);class M5{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(s=>{if(C5()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class w5 extends M5{then(t,n){return this.finished.finally(t).then(()=>{})}}const Av={value:null},bm=e=>Array.isArray(e)&&typeof e[0]=="number",k5={};function A5(e,t){const n=ym(e);return()=>k5[t]??n()}const Fa=A5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),FS=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)i+=e(a/(s-1))+", ";return`linear(${i.substring(0,i.length-2)})`},ka=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,dp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ka([0,.65,.55,1]),circOut:ka([.55,0,1,.45]),backIn:ka([.31,.01,.66,-.59]),backOut:ka([.33,1.53,.69,.99])};function qS(e,t){if(e)return typeof e=="function"&&Fa()?FS(e,t):bm(e)?ka(e):Array.isArray(e)?e.map(n=>qS(n,t)||dp.easeOut):dp[e]}function O5(e,t,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:d}={},h=void 0){const p={[t]:n};d&&(p.offset=d);const g=qS(c,s);return Array.isArray(g)&&(p.easing=g),e.animate(p,{delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:h})}function xm(e){return typeof e=="function"&&"applyToOptions"in e}function Sm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const lc=2e4;function Tm(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<lc;)t+=n,i=e.next(t);return t>=lc?1/0:t}function D5(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(Tm(i),lc);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:Yn(s)}}function $S(e){return!!(typeof e=="function"&&Fa()||!e||typeof e=="string"&&(e in dp||Fa())||bm(e)||Array.isArray(e)&&e.every($S))}function Ov(e,t){e.timeline=t,e.onfinish=null}const Vu=["read","resolveKeyframes","update","preRender","render","postRender"];function N5(e,t){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function h(g){l.has(g)&&(p.schedule(g),e()),d++,g(c)}const p={schedule:(g,v=!1,b=!1)=>{const E=b&&s?n:i;return v&&l.add(g),E.has(g)||E.add(g),g},cancel:g=>{i.delete(g),l.delete(g)},process:g=>{if(c=g,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(h),t&&Av.value&&Av.value.frameloop[t].push(d),d=0,n.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const R5=40;function GS(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Vu.reduce((w,O)=>(w[O]=N5(a,t?O:void 0),w),{}),{read:c,resolveKeyframes:d,update:h,preRender:p,render:g,postRender:v}=l,b=()=>{const w=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(w-s.timestamp,R5),1),s.timestamp=w,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),p.process(s),g.process(s),v.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(b))},x=()=>{n=!0,i=!0,s.isProcessing||e(b)};return{schedule:Vu.reduce((w,O)=>{const A=l[O];return w[O]=(B,_=!1,U=!1)=>(n||x(),A.schedule(B,_,U)),w},{}),cancel:w=>{for(let O=0;O<Vu.length;O++)l[Vu[O]].cancel(w)},state:s,steps:l}}const{schedule:Em}=GS(queueMicrotask,!1),{schedule:qt,cancel:dr,state:Ce,steps:Eh}=GS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nn,!0);let Zu;function j5(){Zu=void 0}const Xn={now:()=>(Zu===void 0&&Xn.set(Ce.isProcessing||fp.useManualTiming?Ce.timestamp:performance.now()),Zu),set:e=>{Zu=e,queueMicrotask(j5)}},Ln={x:!1,y:!1};function KS(){return Ln.x||Ln.y}function _5(e){return e==="x"||e==="y"?Ln[e]?null:(Ln[e]=!0,()=>{Ln[e]=!1}):Ln.x||Ln.y?null:(Ln.x=Ln.y=!0,()=>{Ln.x=Ln.y=!1})}function z5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=(n==null?void 0:n[e])??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function YS(e,t){const n=z5(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function Dv(e){return!(e.pointerType==="touch"||KS())}function L5(e,t,n={}){const[i,s,a]=YS(e,n),l=c=>{if(!Dv(c))return;const{target:d}=c,h=t(d,c);if(typeof h!="function"||!d)return;const p=g=>{Dv(g)&&(h(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const XS=(e,t)=>t?e===t?!0:XS(e,t.parentElement):!1,Cm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,B5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function V5(e){return B5.has(e.tagName)||e.tabIndex!==-1}const Aa=new WeakSet;function Nv(e){return t=>{t.key==="Enter"&&e(t)}}function Ch(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const P5=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Nv(()=>{if(Aa.has(n))return;Ch(n,"down");const s=Nv(()=>{Ch(n,"up")}),a=()=>Ch(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function Rv(e){return Cm(e)&&!KS()}function H5(e,t,n={}){const[i,s,a]=YS(e,n),l=c=>{const d=c.currentTarget;if(!Rv(c)||Aa.has(d))return;Aa.add(d);const h=t(d,c),p=(b,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!Rv(b)||!Aa.has(d))&&(Aa.delete(d),typeof h=="function"&&h(b,{success:x}))},g=b=>{p(b,d===window||d===document||n.useGlobalTarget||XS(d,b.target))},v=b=>{p(b,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c instanceof HTMLElement&&(c.addEventListener("focus",h=>P5(h,s)),!V5(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}const jv=30,U5=e=>!isNaN(parseFloat(e));class I5{constructor(t,n={}){this.version="12.7.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const a=Xn.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=U5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vm);const i=this.events[t].add(n);return t==="change"?()=>{i(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jv);return IS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qa(e,t){return new I5(e,t)}const JS=k.createContext({strict:!1}),_v={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lo={};for(const e in _v)lo[e]={isEnabled:t=>_v[e].some(n=>!!t[n])};function F5(e){for(const t in e)lo[t]={...lo[t],...e[t]}}const q5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||q5.has(e)}let ZS=e=>!uc(e);function $5(e){e&&(ZS=t=>t.startsWith("on")?!uc(t):e(t))}try{$5(require("@emotion/is-prop-valid").default)}catch{}function G5(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(ZS(s)||n===!0&&uc(s)||!t&&!uc(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}function K5(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const zc=k.createContext({});function Lc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function $a(e){return typeof e=="string"||Array.isArray(e)}const Mm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wm=["initial",...Mm];function Bc(e){return Lc(e.animate)||wm.some(t=>$a(e[t]))}function QS(e){return!!(Bc(e)||e.variants)}function Y5(e,t){if(Bc(e)){const{initial:n,animate:i}=e;return{initial:n===!1||$a(n)?n:void 0,animate:$a(i)?i:void 0}}return e.inherit!==!1?t:{}}function X5(e){const{initial:t,animate:n}=Y5(e,k.useContext(zc));return k.useMemo(()=>({initial:t,animate:n}),[zv(t),zv(n)])}function zv(e){return Array.isArray(e)?e.join(" "):e}const J5=Symbol.for("motionComponentSymbol");function Ws(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Z5(e,t,n){return k.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Ws(n)&&(n.current=i))},[t])}const km=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Q5="framerAppearId",WS="data-"+km(Q5),t2=k.createContext({});function W5(e,t,n,i,s){var E,C;const{visualElement:a}=k.useContext(zc),l=k.useContext(JS),c=k.useContext(_c),d=k.useContext(pm).reducedMotion,h=k.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,g=k.useContext(t2);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&tk(h.current,n,s,g);const v=k.useRef(!1);k.useInsertionEffect(()=>{p&&v.current&&p.update(n,c)});const b=n[WS],x=k.useRef(!!b&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,b))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,b)));return PS(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Em.render(p.render),x.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,b)}),x.current=!1))}),p}function tk(e,t,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:e2(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&Ws(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:d,layoutRoot:h})}function e2(e){if(e)return e.options.allowProjection!==!1?e.projection:e2(e.parent)}function ek({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:s}){e&&F5(e);function a(c,d){let h;const p={...k.useContext(pm),...c,layoutId:nk(c)},{isStatic:g}=p,v=X5(c),b=i(c,g);if(!g&&hm){ik();const x=rk(p);h=x.MeasureLayout,v.visualElement=W5(s,b,p,t,x.ProjectionNode)}return T.jsxs(zc.Provider,{value:v,children:[h&&v.visualElement?T.jsx(h,{visualElement:v.visualElement,...p}):null,n(s,c,Z5(b,v.visualElement,d),b,g,v.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=k.forwardRef(a);return l[J5]=s,l}function nk({layoutId:e}){const t=k.useContext(fm).id;return t&&e!==void 0?t+"-"+e:e}function ik(e,t){k.useContext(JS).strict}function rk(e){const{drag:t,layout:n}=lo;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const n2=e=>t=>typeof t=="string"&&t.startsWith(e),Am=n2("--"),sk=n2("var(--"),Om=e=>sk(e)?ok.test(e.split("/*")[0].trim()):!1,ok=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ga={};function ak(e){for(const t in e)Ga[t]=e[t],Am(t)&&(Ga[t].isCSSVariable=!0)}const So=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ls=new Set(So);function i2(e,{layout:t,layoutId:n}){return ls.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ga[e]||e==="opacity")}const _e=e=>!!(e&&e.getVelocity),r2=(e,t)=>t&&typeof e=="number"?t.transform(e):e,wi=(e,t,n)=>n>t?t:n<e?e:n,To={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ka={...To,transform:e=>wi(0,1,e)},Pu={...To,default:1},cl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wi=cl("deg"),Jn=cl("%"),pt=cl("px"),lk=cl("vh"),uk=cl("vw"),Lv={...Jn,parse:e=>Jn.parse(e)/100,transform:e=>Jn.transform(e*100)},ck={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt},fk={rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scale:Pu,scaleX:Pu,scaleY:Pu,scaleZ:Pu,skew:Wi,skewX:Wi,skewY:Wi,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:Ka,originX:Lv,originY:Lv,originZ:pt},Bv={...To,transform:Math.round},Dm={...ck,...fk,zIndex:Bv,size:pt,fillOpacity:Ka,strokeOpacity:Ka,numOctaves:Bv},dk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hk=So.length;function pk(e,t,n){let i="",s=!0;for(let a=0;a<hk;a++){const l=So[a],c=e[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=r2(c,Dm[l]);if(!d){s=!1;const p=dk[l]||l;i+=`${p}(${h}) `}n&&(t[l]=h)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Nm(e,t,n){const{style:i,vars:s,transformOrigin:a}=e;let l=!1,c=!1;for(const d in t){const h=t[d];if(ls.has(d)){l=!0;continue}else if(Am(d)){s[d]=h;continue}else{const p=r2(h,Dm[d]);d.startsWith("origin")?(c=!0,a[d]=p):i[d]=p}}if(t.transform||(l||n?i.transform=pk(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;i.transformOrigin=`${d} ${h} ${p}`}}const Rm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function s2(e,t,n){for(const i in t)!_e(t[i])&&!i2(i,n)&&(e[i]=t[i])}function mk({transformTemplate:e},t){return k.useMemo(()=>{const n=Rm();return Nm(n,t,e),Object.assign({},n.vars,n.style)},[t])}function gk(e,t){const n=e.style||{},i={};return s2(i,n,e),Object.assign(i,mk(e,t)),i}function yk(e,t){const n={},i=gk(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const vk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jm(e){return typeof e!="string"||e.includes("-")?!1:!!(vk.indexOf(e)>-1||/[A-Z]/u.test(e))}const bk={offset:"stroke-dashoffset",array:"stroke-dasharray"},xk={offset:"strokeDashoffset",array:"strokeDasharray"};function Sk(e,t,n=1,i=0,s=!0){e.pathLength=1;const a=s?bk:xk;e[a.offset]=pt.transform(-i);const l=pt.transform(t),c=pt.transform(n);e[a.array]=`${l} ${c}`}function Vv(e,t,n){return typeof e=="string"?e:pt.transform(t+n*e)}function Tk(e,t,n){const i=Vv(t,e.x,e.width),s=Vv(n,e.y,e.height);return`${i} ${s}`}function _m(e,{attrX:t,attrY:n,attrScale:i,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...h},p,g){if(Nm(e,h,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b,dimensions:x}=e;v.transform&&(x&&(b.transform=v.transform),delete v.transform),x&&(s!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=Tk(x,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),l!==void 0&&Sk(v,l,c,d,!1)}const o2=()=>({...Rm(),attrs:{}}),zm=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ek(e,t,n,i){const s=k.useMemo(()=>{const a=o2();return _m(a,t,zm(i),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};s2(a,e.style,e),s.style={...a,...s.style}}return s}function Ck(e=!1){return(n,i,s,{latestValues:a},l)=>{const d=(jm(n)?Ek:yk)(i,a,l,n),h=G5(i,typeof n=="string",e),p=n!==k.Fragment?{...h,...d,ref:s}:{},{children:g}=i,v=k.useMemo(()=>_e(g)?g.get():g,[g]);return k.createElement(n,{...p,children:v})}}function Pv(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Lm(e,t,n,i){if(typeof t=="function"){const[s,a]=Pv(i);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=Pv(i);t=t(n!==void 0?n:e.custom,s,a)}return t}const hp=e=>Array.isArray(e),Mk=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),wk=e=>hp(e)?e[e.length-1]||0:e;function Qu(e){const t=_e(e)?e.get():e;return Mk(t)?t.toValue():t}function kk({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,s,a){const l={latestValues:Ak(i,s,a,e),renderState:t()};return n&&(l.onMount=c=>n({props:i,current:c,...l}),l.onUpdate=c=>n(c)),l}const a2=e=>(t,n)=>{const i=k.useContext(zc),s=k.useContext(_c),a=()=>kk(e,t,i,s);return n?a():dm(a)};function Ak(e,t,n,i){const s={},a=i(e,{});for(const v in a)s[v]=Qu(a[v]);let{initial:l,animate:c}=e;const d=Bc(e),h=QS(e);t&&h&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const g=p?c:l;if(g&&typeof g!="boolean"&&!Lc(g)){const v=Array.isArray(g)?g:[g];for(let b=0;b<v.length;b++){const x=Lm(e,v[b]);if(x){const{transitionEnd:E,transition:C,...w}=x;for(const O in w){let A=w[O];if(Array.isArray(A)){const B=p?A.length-1:0;A=A[B]}A!==null&&(s[O]=A)}for(const O in E)s[O]=E[O]}}}return s}function Bm(e,t,n){var a;const{style:i}=e,s={};for(const l in i)(_e(i[l])||t.style&&_e(t.style[l])||i2(l,e)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const Ok={useVisualState:a2({scrapeMotionValuesFromProps:Bm,createRenderState:Rm})};function l2(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function u2(e,{style:t,vars:n},i,s){Object.assign(e.style,t,s&&s.getProjectionStyles(i));for(const a in n)e.style.setProperty(a,n[a])}const c2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function f2(e,t,n,i){u2(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(c2.has(s)?s:km(s),t.attrs[s])}function d2(e,t,n){const i=Bm(e,t,n);for(const s in e)if(_e(e[s])||_e(t[s])){const a=So.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=e[s]}return i}const Hv=["x","y","width","height","cx","cy","r"],Dk={useVisualState:a2({scrapeMotionValuesFromProps:d2,createRenderState:o2,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:s})=>{if(!n)return;let a=!!e.drag;if(!a){for(const c in s)if(ls.has(c)){a=!0;break}}if(!a)return;let l=!t;if(t)for(let c=0;c<Hv.length;c++){const d=Hv[c];e[d]!==t[d]&&(l=!0)}l&&qt.read(()=>{l2(n,i),qt.render(()=>{_m(i,s,zm(n.tagName),e.transformTemplate),f2(n,i)})})}})};function Nk(e,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...jm(i)?Dk:Ok,preloadedFeatures:e,useRender:Ck(s),createVisualElement:t,Component:i};return ek(l)}}function Ya(e,t,n){const i=e.getProps();return Lm(i,t,n!==void 0?n:i.custom,e)}const h2=new Set(["width","height","top","left","right","bottom",...So]);function Rk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qa(n))}function jk(e,t){const n=Ya(e,t);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const c=wk(a[l]);Rk(e,l,c)}}function _k(e){return!!(_e(e)&&e.add)}function pp(e,t){const n=e.getValue("willChange");if(_k(n))return n.add(t);if(!n&&fp.WillChange){const i=new fp.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function p2(e){return e.props[WS]}const m2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,zk=1e-7,Lk=12;function Bk(e,t,n,i,s){let a,l,c=0;do l=t+(n-t)/2,a=m2(l,i,s)-e,a>0?n=l:t=l;while(Math.abs(a)>zk&&++c<Lk);return l}function fl(e,t,n,i){if(e===t&&n===i)return Nn;const s=a=>Bk(a,0,1,e,n);return a=>a===0||a===1?a:m2(s(a),t,i)}const g2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,y2=e=>t=>1-e(1-t),v2=fl(.33,1.53,.69,.99),Vm=y2(v2),b2=g2(Vm),x2=e=>(e*=2)<1?.5*Vm(e):.5*(2-Math.pow(2,-10*(e-1))),Pm=e=>1-Math.sin(Math.acos(e)),S2=y2(Pm),T2=g2(Pm),E2=e=>/^0[^.\s]+$/u.test(e);function Vk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||E2(e):!0}const Ra=e=>Math.round(e*1e5)/1e5,Hm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Pk(e){return e==null}const Hk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Um=(e,t)=>n=>!!(typeof n=="string"&&Hk.test(n)&&n.startsWith(e)||t&&!Pk(n)&&Object.prototype.hasOwnProperty.call(n,t)),C2=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,c]=i.match(Hm);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Uk=e=>wi(0,255,e),Mh={...To,transform:e=>Math.round(Uk(e))},qr={test:Um("rgb","red"),parse:C2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Mh.transform(e)+", "+Mh.transform(t)+", "+Mh.transform(n)+", "+Ra(Ka.transform(i))+")"};function Ik(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const mp={test:Um("#"),parse:Ik,transform:qr.transform},to={test:Um("hsl","hue"),parse:C2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Jn.transform(Ra(t))+", "+Jn.transform(Ra(n))+", "+Ra(Ka.transform(i))+")"},Re={test:e=>qr.test(e)||mp.test(e)||to.test(e),parse:e=>qr.test(e)?qr.parse(e):to.test(e)?to.parse(e):mp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qr.transform(e):to.transform(e)},Fk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qk(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Hm))==null?void 0:t.length)||0)+(((n=e.match(Fk))==null?void 0:n.length)||0)>0}const M2="number",w2="color",$k="var",Gk="var(",Uv="${}",Kk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xa(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(Kk,d=>(Re.test(d)?(i.color.push(a),s.push(w2),n.push(Re.parse(d))):d.startsWith(Gk)?(i.var.push(a),s.push($k),n.push(d)):(i.number.push(a),s.push(M2),n.push(parseFloat(d))),++a,Uv)).split(Uv);return{values:n,split:c,indexes:i,types:s}}function k2(e){return Xa(e).values}function A2(e){const{split:t,types:n}=Xa(e),i=t.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],s[l]!==void 0){const c=n[l];c===M2?a+=Ra(s[l]):c===w2?a+=Re.transform(s[l]):a+=s[l]}return a}}const Yk=e=>typeof e=="number"?0:e;function Xk(e){const t=k2(e);return A2(e)(t.map(Yk))}const hr={test:qk,parse:k2,createTransformer:A2,getAnimatableNone:Xk},Jk=new Set(["brightness","contrast","saturate","opacity"]);function Zk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Hm)||[];if(!i)return e;const s=n.replace(i,"");let a=Jk.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+s+")"}const Qk=/\b([a-z-]*)\(.*?\)/gu,gp={...hr,getAnimatableNone:e=>{const t=e.match(Qk);return t?t.map(Zk).join(" "):e}},Wk={...Dm,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:gp,WebkitFilter:gp},O2=e=>Wk[e];function D2(e,t){let n=O2(e);return n!==gp&&(n=hr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tA=new Set(["auto","none","0"]);function eA(e,t,n){let i=0,s;for(;i<e.length&&!s;){const a=e[i];typeof a=="string"&&!tA.has(a)&&Xa(a).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=D2(n,s)}const $r=e=>e*180/Math.PI,yp=e=>{const t=$r(Math.atan2(e[1],e[0]));return vp(t)},nA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:yp,rotateZ:yp,skewX:e=>$r(Math.atan(e[1])),skewY:e=>$r(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},vp=e=>(e=e%360,e<0&&(e+=360),e),Iv=yp,Fv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),iA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fv,scaleY:qv,scale:e=>(Fv(e)+qv(e))/2,rotateX:e=>vp($r(Math.atan2(e[6],e[5]))),rotateY:e=>vp($r(Math.atan2(-e[2],e[0]))),rotateZ:Iv,rotate:Iv,skewX:e=>$r(Math.atan(e[4])),skewY:e=>$r(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function $v(e){return e.includes("scale")?1:0}function bp(e,t){if(!e||e==="none")return $v(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=iA,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=nA,s=c}if(!s)return $v(t);const a=i[t],l=s[1].split(",").map(sA);return typeof a=="function"?a(l):l[a]}const rA=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return bp(n,t)};function sA(e){return parseFloat(e.trim())}const Gv=e=>e===To||e===pt,oA=new Set(["x","y","z"]),aA=So.filter(e=>!oA.has(e));function lA(e){const t=[];return aA.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const uo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>bp(t,"x"),y:(e,{transform:t})=>bp(t,"y")};uo.translateX=uo.x;uo.translateY=uo.y;const Xr=new Set;let xp=!1,Sp=!1;function N2(){if(Sp){const e=Array.from(Xr).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=lA(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{var c;(c=i.getValue(a))==null||c.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Sp=!1,xp=!1,Xr.forEach(e=>e.complete()),Xr.clear()}function R2(){Xr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sp=!0)})}function uA(){R2(),N2()}class Im{constructor(t,n,i,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xr.add(this),xp||(xp=!0,qt.read(R2),qt.resolveKeyframes(N2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const j2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),cA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fA(e){const t=cA.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function _2(e,t,n=1){const[i,s]=fA(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return j2(l)?parseFloat(l):l}return Om(s)?_2(s,t,n+1):s}const z2=e=>t=>t.test(e),dA={test:e=>e==="auto",parse:e=>e},L2=[To,pt,Jn,Wi,uk,lk,dA],Kv=e=>L2.find(z2(e));class B2 extends Im{constructor(t,n,i,s,a){super(t,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),Om(h))){const p=_2(h,n.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!h2.has(i)||t.length!==2)return;const[s,a]=t,l=Kv(s),c=Kv(a);if(l!==c)if(Gv(l)&&Gv(c))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)Vk(t[s])&&i.push(s);i.length&&eA(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=uo[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=uo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{t.getValue(d).set(h)}),this.resolveNoneKeyframes()}}const Yv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(hr.test(e)||e==="0")&&!e.startsWith("url("));function hA(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function pA(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=Yv(s,t),c=Yv(a,t);return!l||!c?!1:hA(e)||(n==="spring"||xm(n))&&i}const mA=e=>e!==null;function Vc(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(mA),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const gA=40;class V2{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xn.now(),this.options={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>gA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uA(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Xn.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:a,delay:l,onComplete:c,onUpdate:d,isGenerator:h}=this.options;if(!h&&!pA(t,i,s,a))if(l)this.options.duration=0;else{d&&d(Vc(t,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Yt=(e,t,n)=>e+(t-e)*n;function wh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yA({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,a=0,l=0;if(!t)s=a=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;s=wh(d,c,e+1/3),a=wh(d,c,e),l=wh(d,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function cc(e,t){return n=>n>0?t:e}const kh=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},vA=[mp,qr,to],bA=e=>vA.find(t=>t.test(e));function Xv(e){const t=bA(e);if(!t)return!1;let n=t.parse(e);return t===to&&(n=yA(n)),n}const Jv=(e,t)=>{const n=Xv(e),i=Xv(t);if(!n||!i)return cc(e,t);const s={...n};return a=>(s.red=kh(n.red,i.red,a),s.green=kh(n.green,i.green,a),s.blue=kh(n.blue,i.blue,a),s.alpha=Yt(n.alpha,i.alpha,a),qr.transform(s))},xA=(e,t)=>n=>t(e(n)),dl=(...e)=>e.reduce(xA),Tp=new Set(["none","hidden"]);function SA(e,t){return Tp.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function TA(e,t){return n=>Yt(e,t,n)}function Fm(e){return typeof e=="number"?TA:typeof e=="string"?Om(e)?cc:Re.test(e)?Jv:MA:Array.isArray(e)?P2:typeof e=="object"?Re.test(e)?Jv:EA:cc}function P2(e,t){const n=[...e],i=n.length,s=e.map((a,l)=>Fm(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function EA(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=Fm(e[s])(e[s],t[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function CA(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=e.indexes[a][i[a]],c=e.values[l]??0;n[s]=c,i[a]++}return n}const MA=(e,t)=>{const n=hr.createTransformer(t),i=Xa(e),s=Xa(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Tp.has(e)&&!s.values.length||Tp.has(t)&&!i.values.length?SA(e,t):dl(P2(CA(i,s),s.values),n):cc(e,t)};function H2(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Yt(e,t,n):Fm(e)(e,t)}const wA=5;function U2(e,t,n){const i=Math.max(t-wA,0);return IS(n-e(i),t-i)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zv=.001;function kA({duration:e=Wt.duration,bounce:t=Wt.bounce,velocity:n=Wt.velocity,mass:i=Wt.mass}){let s,a,l=1-t;l=wi(Wt.minDamping,Wt.maxDamping,l),e=wi(Wt.minDuration,Wt.maxDuration,Yn(e)),l<1?(s=h=>{const p=h*l,g=p*e,v=p-n,b=Ep(h,l),x=Math.exp(-g);return Zv-v/b*x},a=h=>{const g=h*l*e,v=g*n+n,b=Math.pow(l,2)*Math.pow(h,2)*e,x=Math.exp(-g),E=Ep(Math.pow(h,2),l);return(-s(h)+Zv>0?-1:1)*((v-b)*x)/E}):(s=h=>{const p=Math.exp(-h*e),g=(h-n)*e+1;return-.001+p*g},a=h=>{const p=Math.exp(-h*e),g=(n-h)*(e*e);return p*g});const c=5/e,d=OA(s,a,c);if(e=Kn(e),isNaN(d))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:e};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:l*2*Math.sqrt(i*h),duration:e}}}const AA=12;function OA(e,t,n){let i=n;for(let s=1;s<AA;s++)i=i-e(i)/t(i);return i}function Ep(e,t){return e*Math.sqrt(1-t*t)}const DA=["duration","bounce"],NA=["stiffness","damping","mass"];function Qv(e,t){return t.some(n=>e[n]!==void 0)}function RA(e){let t={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...e};if(!Qv(e,NA)&&Qv(e,DA))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*wi(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Wt.mass,stiffness:s,damping:a}}else{const n=kA(e);t={...t,...n,mass:Wt.mass},t.isResolvedFromDuration=!0}return t}function fc(e=Wt.visualDuration,t=Wt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:b}=RA({...n,velocity:-Yn(n.velocity||0)}),x=v||0,E=h/(2*Math.sqrt(d*p)),C=l-a,w=Yn(Math.sqrt(d/p)),O=Math.abs(C)<5;i||(i=O?Wt.restSpeed.granular:Wt.restSpeed.default),s||(s=O?Wt.restDelta.granular:Wt.restDelta.default);let A;if(E<1){const _=Ep(w,E);A=U=>{const G=Math.exp(-E*w*U);return l-G*((x+E*w*C)/_*Math.sin(_*U)+C*Math.cos(_*U))}}else if(E===1)A=_=>l-Math.exp(-w*_)*(C+(x+w*C)*_);else{const _=w*Math.sqrt(E*E-1);A=U=>{const G=Math.exp(-E*w*U),q=Math.min(_*U,300);return l-G*((x+E*w*C)*Math.sinh(q)+_*C*Math.cosh(q))/_}}const B={calculatedDuration:b&&g||null,next:_=>{const U=A(_);if(b)c.done=_>=g;else{let G=0;E<1&&(G=_===0?Kn(x):U2(A,_,U));const q=Math.abs(G)<=i,K=Math.abs(l-U)<=s;c.done=q&&K}return c.value=c.done?l:U,c},toString:()=>{const _=Math.min(Tm(B),lc),U=FS(G=>B.next(_*G).value,_,30);return _+"ms "+U},toTransition:()=>{}};return B}fc.applyToOptions=e=>{const t=D5(e,100,fc);return e.ease=Fa()?t.ease:"easeOut",e.duration=Kn(t.duration),e.type="keyframes",e};function Wv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:p}){const g=e[0],v={done:!1,value:g},b=q=>c!==void 0&&q<c||d!==void 0&&q>d,x=q=>c===void 0?d:d===void 0||Math.abs(c-q)<Math.abs(d-q)?c:d;let E=n*t;const C=g+E,w=l===void 0?C:l(C);w!==C&&(E=w-g);const O=q=>-E*Math.exp(-q/i),A=q=>w+O(q),B=q=>{const K=O(q),tt=A(q);v.done=Math.abs(K)<=h,v.value=v.done?w:tt};let _,U;const G=q=>{b(v.value)&&(_=q,U=fc({keyframes:[v.value,x(v.value)],velocity:U2(A,q,v.value),damping:s,stiffness:a,restDelta:h,restSpeed:p}))};return G(0),{calculatedDuration:null,next:q=>{let K=!1;return!U&&_===void 0&&(K=!0,B(q),G(q)),_!==void 0&&q>=_?U.next(q-_):(!K&&B(q),v)}}}const jA=fl(.42,0,1,1),_A=fl(0,0,.58,1),I2=fl(.42,0,.58,1),zA=e=>Array.isArray(e)&&typeof e[0]!="number",LA={linear:Nn,easeIn:jA,easeInOut:I2,easeOut:_A,circIn:Pm,circInOut:T2,circOut:S2,backIn:Vm,backInOut:b2,backOut:v2,anticipate:x2},tb=e=>{if(bm(e)){US(e.length===4);const[t,n,i,s]=e;return fl(t,n,i,s)}else if(typeof e=="string")return LA[e];return e};function BA(e,t,n){const i=[],s=n||H2,a=e.length-1;for(let l=0;l<a;l++){let c=s(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||Nn:t;c=dl(d,c)}i.push(c)}return i}function VA(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const a=e.length;if(US(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=BA(t,i,s),d=c.length,h=p=>{if(l&&p<e[0])return t[0];let g=0;if(d>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const v=Ia(e[g],e[g+1],p);return c[g](v)};return n?p=>h(wi(e[0],e[a-1],p)):h}function PA(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Ia(0,t,i);e.push(Yt(n,1,s))}}function HA(e){const t=[0];return PA(t,e.length-1),t}function UA(e,t){return e.map(n=>n*t)}function IA(e,t){return e.map(()=>t||I2).splice(0,e.length-1)}function dc({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=zA(i)?i.map(tb):tb(i),a={done:!1,value:t[0]},l=UA(n&&n.length===t.length?n:HA(t),e),c=VA(l,t,{ease:Array.isArray(s)?s:IA(t,s)});return{calculatedDuration:e,next:d=>(a.value=c(d),a.done=d>=e,a)}}const FA=e=>{const t=({timestamp:n})=>e(n);return{start:()=>qt.update(t,!0),stop:()=>dr(t),now:()=>Ce.isProcessing?Ce.timestamp:Xn.now()}},qA={decay:Wv,inertia:Wv,tween:dc,keyframes:dc,spring:fc},$A=e=>e/100;class qm extends V2{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:i,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||Im,c=(d,h)=>this.onKeyframesResolved(d,h);this.resolver=new l(a,c,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=xm(n)?n:qA[n]||dc;let d,h;c!==dc&&typeof t[0]!="number"&&(d=dl($A,H2(t[0],t[1])),t=[0,100]);const p=c({...this.options,keyframes:t});a==="mirror"&&(h=c({...this.options,keyframes:[...t].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Tm(p));const{calculatedDuration:g}=p,v=g+s,b=v*(i+1)-s;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:d,calculatedDuration:g,resolvedDuration:v,totalDuration:b}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:q}=this.options;return{done:!0,value:q[q.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:h,totalDuration:p,resolvedDuration:g}=i;if(this.startTime===null)return a.next(0);const{delay:v,repeat:b,repeatType:x,repeatDelay:E,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-v*(this.speed>=0?1:-1),O=this.speed>=0?w<0:w>p;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let A=this.currentTime,B=a;if(b){const q=Math.min(this.currentTime,p)/g;let K=Math.floor(q),tt=q%1;!tt&&q>=1&&(tt=1),tt===1&&K--,K=Math.min(K,b+1),!!(K%2)&&(x==="reverse"?(tt=1-tt,E&&(tt-=E/g)):x==="mirror"&&(B=l)),A=wi(0,1,tt)*g}const _=O?{done:!1,value:d[0]}:B.next(A);c&&(_.value=c(_.value));let{done:U}=_;!O&&h!==null&&(U=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return G&&s!==void 0&&(_.value=Vc(d,this.options,s)),C&&C(_.value),G&&this.finish(),_}get duration(){const{resolved:t}=this;return t?Yn(t.calculatedDuration):0}get time(){return Yn(this.currentTime)}set time(t){t=Kn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Yn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=FA,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const GA=new Set(["opacity","clipPath","filter","transform"]),KA=ym(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hc=10,YA=2e4;function XA(e){return xm(e.type)||e.type==="spring"||!$S(e.ease)}function JA(e,t){const n=new qm({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const s=[];let a=0;for(;!i.done&&a<YA;)i=n.sample(a),s.push(i.value),a+=hc;return{times:void 0,keyframes:s,duration:a-hc,ease:"linear"}}const F2={anticipate:x2,backInOut:b2,circInOut:T2};function ZA(e){return e in F2}class eb extends V2{constructor(t){super(t);const{name:n,motionValue:i,element:s,keyframes:a}=this.options;this.resolver=new B2(a,(l,c)=>this.onKeyframesResolved(l,c),n,i,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:s,ease:a,type:l,motionValue:c,name:d,startTime:h}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Fa()&&ZA(a)&&(a=F2[a]),XA(this.options)){const{onComplete:g,onUpdate:v,motionValue:b,element:x,...E}=this.options,C=JA(t,E);t=C.keyframes,t.length===1&&(t[1]=t[0]),i=C.duration,s=C.times,a=C.ease,l="keyframes"}const p=O5(c.owner.current,d,t,{...this.options,duration:i,times:s,ease:a});return p.startTime=h??this.calcStartTime(),this.pendingTimeline?(Ov(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;c.set(Vc(t,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:i,times:s,type:l,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Yn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Yn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Kn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Nn;const{animation:i}=n;Ov(i,t)}return Nn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:s,type:a,ease:l,times:c}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:g,element:v,...b}=this.options,x=new qm({...b,keyframes:i,duration:s,type:a,ease:l,times:c,isGenerator:!0}),E=Kn(this.time);h.setWithVelocity(x.sample(E-hc).value,x.sample(E).value,hc)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=n.owner.getProps();return KA()&&i&&GA.has(i)&&(i!=="transform"||!h)&&!d&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const QA={type:"spring",stiffness:500,damping:25,restSpeed:10},WA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tO={type:"keyframes",duration:.8},eO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nO=(e,{keyframes:t})=>t.length>2?tO:ls.has(e)?e.startsWith("scale")?WA(t[1]):QA:eO;function iO({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const $m=(e,t,n,i={},s,a)=>l=>{const c=Sm(i,e)||{},d=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Kn(d);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:v=>{t.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:s};iO(c)||(p={...p,...nO(e,p)}),p.duration&&(p.duration=Kn(p.duration)),p.repeatDelay&&(p.repeatDelay=Kn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),p.allowFlatten=!c.type&&!c.ease,g&&!a&&t.get()!==void 0){const v=Vc(p.keyframes,c);if(v!==void 0)return qt.update(()=>{p.onUpdate(v),p.onComplete()}),new w5([])}return!a&&eb.supports(p)?new eb(p):new qm(p)};function rO({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function q2(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;i&&(a=i);const d=[],h=s&&e.animationState&&e.animationState.getState()[s];for(const p in c){const g=e.getValue(p,e.latestValues[p]??null),v=c[p];if(v===void 0||h&&rO(h,p))continue;const b={delay:n,...Sm(a||{},p)};let x=!1;if(window.MotionHandoffAnimation){const C=p2(e);if(C){const w=window.MotionHandoffAnimation(C,p,qt);w!==null&&(b.startTime=w,x=!0)}}pp(e,p),g.start($m(p,g,v,e.shouldReduceMotion&&h2.has(p)?{type:!1}:b,e,x));const E=g.animation;E&&d.push(E)}return l&&Promise.all(d).then(()=>{qt.update(()=>{l&&jk(e,l)})}),d}function Cp(e,t,n={}){var d;const i=Ya(e,t,n.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(q2(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=s;return sO(e,t,p+h,g,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,p]=c==="beforeChildren"?[a,l]:[l,a];return h().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function sO(e,t,n=0,i=0,s=1,a){const l=[],c=(e.variantChildren.size-1)*i,d=s===1?(h=0)=>h*i:(h=0)=>c-h*i;return Array.from(e.variantChildren).sort(oO).forEach((h,p)=>{h.notify("AnimationStart",t),l.push(Cp(h,t,{...a,delay:n+d(p)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(l)}function oO(e,t){return e.sortNodePosition(t)}function aO(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>Cp(e,a,n));i=Promise.all(s)}else if(typeof t=="string")i=Cp(e,t,n);else{const s=typeof t=="function"?Ya(e,t,n.custom):t;i=Promise.all(q2(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function $2(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const lO=wm.length;function G2(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?G2(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<lO;n++){const i=wm[n],s=e.props[i];($a(s)||s===!1)&&(t[i]=s)}return t}const uO=[...Mm].reverse(),cO=Mm.length;function fO(e){return t=>Promise.all(t.map(({animation:n,options:i})=>aO(e,n,i)))}function dO(e){let t=fO(e),n=nb(),i=!0;const s=d=>(h,p)=>{var v;const g=Ya(e,p,d==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:b,transitionEnd:x,...E}=g;h={...h,...E,...x}}return h};function a(d){t=d(e)}function l(d){const{props:h}=e,p=G2(e.parent)||{},g=[],v=new Set;let b={},x=1/0;for(let C=0;C<cO;C++){const w=uO[C],O=n[w],A=h[w]!==void 0?h[w]:p[w],B=$a(A),_=w===d?O.isActive:null;_===!1&&(x=C);let U=A===p[w]&&A!==h[w]&&B;if(U&&i&&e.manuallyAnimateOnMount&&(U=!1),O.protectedKeys={...b},!O.isActive&&_===null||!A&&!O.prevProp||Lc(A)||typeof A=="boolean")continue;const G=hO(O.prevProp,A);let q=G||w===d&&O.isActive&&!U&&B||C>x&&B,K=!1;const tt=Array.isArray(A)?A:[A];let at=tt.reduce(s(w),{});_===!1&&(at={});const{prevResolvedValues:Ot={}}=O,Jt={...Ot,...at},St=Y=>{q=!0,v.has(Y)&&(K=!0,v.delete(Y)),O.needsAnimating[Y]=!0;const Q=e.getValue(Y);Q&&(Q.liveStyle=!1)};for(const Y in Jt){const Q=at[Y],Mt=Ot[Y];if(b.hasOwnProperty(Y))continue;let N=!1;hp(Q)&&hp(Mt)?N=!$2(Q,Mt):N=Q!==Mt,N?Q!=null?St(Y):v.add(Y):Q!==void 0&&v.has(Y)?St(Y):O.protectedKeys[Y]=!0}O.prevProp=A,O.prevResolvedValues=at,O.isActive&&(b={...b,...at}),i&&e.blockInitialAnimation&&(q=!1),q&&(!(U&&G)||K)&&g.push(...tt.map(Y=>({animation:Y,options:{type:w}})))}if(v.size){const C={};if(typeof h.initial!="boolean"){const w=Ya(e,Array.isArray(h.initial)?h.initial[0]:h.initial);w&&w.transition&&(C.transition=w.transition)}v.forEach(w=>{const O=e.getBaseTarget(w),A=e.getValue(w);A&&(A.liveStyle=!0),C[w]=O??null}),g.push({animation:C})}let E=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(E=!1),i=!1,E?t(g):Promise.resolve()}function c(d,h){var g;if(n[d].isActive===h)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(v=>{var b;return(b=v.animationState)==null?void 0:b.setActive(d,h)}),n[d].isActive=h;const p=l(d);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=nb(),i=!0}}}function hO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$2(t,e):!1}function Pr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nb(){return{animate:Pr(!0),whileInView:Pr(),whileHover:Pr(),whileTap:Pr(),whileDrag:Pr(),whileFocus:Pr(),exit:Pr()}}class yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class pO extends yr{constructor(t){super(t),t.animationState||(t.animationState=dO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Lc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let mO=0;class gO extends yr{constructor(){super(...arguments),this.id=mO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const yO={animation:{Feature:pO},exit:{Feature:gO}};function Ja(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function hl(e){return{point:{x:e.pageX,y:e.pageY}}}const vO=e=>t=>Cm(t)&&e(t,hl(t));function ja(e,t,n,i){return Ja(e,t,vO(n),i)}function K2({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function bO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const Y2=1e-4,SO=1-Y2,TO=1+Y2,X2=.01,EO=0-X2,CO=0+X2;function Pe(e){return e.max-e.min}function MO(e,t,n){return Math.abs(e-t)<=n}function ib(e,t,n,i=.5){e.origin=i,e.originPoint=Yt(t.min,t.max,e.origin),e.scale=Pe(n)/Pe(t),e.translate=Yt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=SO&&e.scale<=TO||isNaN(e.scale))&&(e.scale=1),(e.translate>=EO&&e.translate<=CO||isNaN(e.translate))&&(e.translate=0)}function _a(e,t,n,i){ib(e.x,t.x,n.x,i?i.originX:void 0),ib(e.y,t.y,n.y,i?i.originY:void 0)}function rb(e,t,n){e.min=n.min+t.min,e.max=e.min+Pe(t)}function wO(e,t,n){rb(e.x,t.x,n.x),rb(e.y,t.y,n.y)}function sb(e,t,n){e.min=t.min-n.min,e.max=e.min+Pe(t)}function za(e,t,n){sb(e.x,t.x,n.x),sb(e.y,t.y,n.y)}const ob=()=>({translate:0,scale:1,origin:0,originPoint:0}),eo=()=>({x:ob(),y:ob()}),ab=()=>({min:0,max:0}),re=()=>({x:ab(),y:ab()});function wn(e){return[e("x"),e("y")]}function Ah(e){return e===void 0||e===1}function Mp({scale:e,scaleX:t,scaleY:n}){return!Ah(e)||!Ah(t)||!Ah(n)}function Ur(e){return Mp(e)||J2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function J2(e){return lb(e.x)||lb(e.y)}function lb(e){return e&&e!=="0%"}function pc(e,t,n){const i=e-n,s=t*i;return n+s}function ub(e,t,n,i,s){return s!==void 0&&(e=pc(e,s,i)),pc(e,n,i)+t}function wp(e,t=0,n=1,i,s){e.min=ub(e.min,t,n,i,s),e.max=ub(e.max,t,n,i,s)}function Z2(e,{x:t,y:n}){wp(e.x,t.translate,t.scale,t.originPoint),wp(e.y,n.translate,n.scale,n.originPoint)}const cb=.999999999999,fb=1.0000000000001;function kO(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&io(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Z2(e,l)),i&&Ur(a.latestValues)&&io(e,a.latestValues))}t.x<fb&&t.x>cb&&(t.x=1),t.y<fb&&t.y>cb&&(t.y=1)}function no(e,t){e.min=e.min+t,e.max=e.max+t}function db(e,t,n,i,s=.5){const a=Yt(e.min,e.max,s);wp(e,t,n,a,i)}function io(e,t){db(e.x,t.x,t.scaleX,t.scale,t.originX),db(e.y,t.y,t.scaleY,t.scale,t.originY)}function Q2(e,t){return K2(xO(e.getBoundingClientRect(),t))}function AO(e,t,n){const i=Q2(e,n),{scroll:s}=t;return s&&(no(i.x,s.offset.x),no(i.y,s.offset.y)),i}const W2=({current:e})=>e?e.ownerDocument.defaultView:null,hb=(e,t)=>Math.abs(e-t);function OO(e,t){const n=hb(e.x,t.x),i=hb(e.y,t.y);return Math.sqrt(n**2+i**2)}class tT{constructor(t,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Dh(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=OO(g.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:x}=g,{timestamp:E}=Ce;this.history.push({...x,timestamp:E});const{onStart:C,onMove:w}=this.handlers;v||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Oh(v,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Dh(g.type==="pointercancel"?this.lastMoveEventInfo:Oh(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,C),x&&x(g,C)},!Cm(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const l=hl(t),c=Oh(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Ce;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=n;p&&p(t,Dh(c,this.history)),this.removeListeners=dl(ja(this.contextWindow,"pointermove",this.handlePointerMove),ja(this.contextWindow,"pointerup",this.handlePointerUp),ja(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dr(this.updatePoint)}}function Oh(e,t){return t?{point:t(e.point)}:e}function pb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dh({point:e},t){return{point:e,delta:pb(e,eT(t)),offset:pb(e,DO(t)),velocity:NO(t,.1)}}function DO(e){return e[0]}function eT(e){return e[e.length-1]}function NO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=eT(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>Kn(t)));)n--;if(!i)return{x:0,y:0};const a=Yn(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function RO(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Yt(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Yt(n,e,i.max):Math.min(e,n)),e}function mb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function jO(e,{top:t,left:n,bottom:i,right:s}){return{x:mb(e.x,n,s),y:mb(e.y,t,i)}}function gb(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function _O(e,t){return{x:gb(e.x,t.x),y:gb(e.y,t.y)}}function zO(e,t){let n=.5;const i=Pe(e),s=Pe(t);return s>i?n=Ia(t.min,t.max-i,e.min):i>s&&(n=Ia(e.min,e.max-s,t.min)),wi(0,1,n)}function LO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const kp=.35;function BO(e=kp){return e===!1?e=0:e===!0&&(e=kp),{x:yb(e,"left","right"),y:yb(e,"top","bottom")}}function yb(e,t,n){return{min:vb(e,t),max:vb(e,n)}}function vb(e,t){return typeof e=="number"?e:e[t]||0}const VO=new WeakMap;class PO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=re(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hl(p).point)},a=(p,g)=>{const{drag:v,dragPropagation:b,onDragStart:x}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_5(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(C=>{let w=this.getAxisMotionValue(C).get()||0;if(Jn.test(w)){const{projection:O}=this.visualElement;if(O&&O.layout){const A=O.layout.layoutBox[C];A&&(w=Pe(A)*(parseFloat(w)/100))}}this.originPoint[C]=w}),x&&qt.postRender(()=>x(p,g)),pp(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:x,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=g;if(b&&this.currentDirection===null){this.currentDirection=HO(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),E&&E(p,g)},c=(p,g)=>this.stop(p,g),d=()=>wn(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new tT(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:W2(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&qt.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!Hu(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=RO(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&Ws(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=jO(i.layoutBox,t):this.constraints=!1,this.elastic=BO(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&wn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=LO(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ws(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=AO(i,s.root,this.visualElement.getTransformPagePoint());let l=_O(s.layout.layoutBox,a);if(n){const c=n(bO(l));this.hasMutatedConstraints=!!c,c&&(l=K2(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=wn(p=>{if(!Hu(p,n,this.currentDirection))return;let g=d&&d[p]||{};l&&(g={min:0,max:0});const v=s?200:1e6,b=s?40:1e7,x={type:"inertia",velocity:i?t[p]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,x)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return pp(this.visualElement,t),i.start($m(t,i,0,n,this.visualElement,!1))}stopAnimation(){wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){wn(n=>{const{drag:i}=this.getProps();if(!Hu(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(t[n]-Yt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ws(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};wn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=zO({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),wn(l=>{if(!Hu(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(Yt(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;VO.set(this.visualElement,this);const t=this.visualElement.current,n=ja(t,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Ws(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),qt.read(i);const l=Ja(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(wn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=kp,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Hu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function HO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class UO extends yr{constructor(t){super(t),this.removeGroupControls=Nn,this.removeListeners=Nn,this.controls=new PO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const bb=e=>(t,n)=>{e&&qt.postRender(()=>e(t,n))};class IO extends yr{constructor(){super(...arguments),this.removePointerDownListener=Nn}onPointerDown(t){this.session=new tT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:bb(t),onStart:bb(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&qt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=ja(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ma={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pt.test(e))e=parseFloat(e);else return e;const n=xb(e,t.target.x),i=xb(e,t.target.y);return`${n}% ${i}%`}},FO={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=hr.parse(e);if(s.length>5)return i;const a=hr.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=d;const h=Yt(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),a(s)}};class qO extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;ak($O),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Wu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,l=i.projection;return l&&(l.isPresent=a,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||qt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Em.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nT(e){const[t,n]=HS(),i=k.useContext(fm);return T.jsx(qO,{...e,layoutGroup:i,switchLayoutGroup:k.useContext(t2),isPresent:t,safeToRemove:n})}const $O={borderRadius:{...Ma,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ma,borderTopRightRadius:Ma,borderBottomLeftRadius:Ma,borderBottomRightRadius:Ma,boxShadow:FO};function GO(e,t,n){const i=_e(e)?e:qa(e);return i.start($m("",i,t,n)),i.animation}function KO(e){return e instanceof SVGElement&&e.tagName!=="svg"}const YO=(e,t)=>e.depth-t.depth;class XO{constructor(){this.children=[],this.isDirty=!1}add(t){mm(this.children,t),this.isDirty=!0}remove(t){gm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(YO),this.isDirty=!1,this.children.forEach(t)}}function JO(e,t){const n=Xn.now(),i=({timestamp:s})=>{const a=s-n;a>=t&&(dr(i),e(a-t))};return qt.read(i,!0),()=>dr(i)}const iT=["TopLeft","TopRight","BottomLeft","BottomRight"],ZO=iT.length,Sb=e=>typeof e=="string"?parseFloat(e):e,Tb=e=>typeof e=="number"||pt.test(e);function QO(e,t,n,i,s,a){s?(e.opacity=Yt(0,n.opacity??1,WO(i)),e.opacityExit=Yt(t.opacity??1,0,t4(i))):a&&(e.opacity=Yt(t.opacity??1,n.opacity??1,i));for(let l=0;l<ZO;l++){const c=`border${iT[l]}Radius`;let d=Eb(t,c),h=Eb(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||Tb(d)===Tb(h)?(e[c]=Math.max(Yt(Sb(d),Sb(h),i),0),(Jn.test(h)||Jn.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=Yt(t.rotate||0,n.rotate||0,i))}function Eb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const WO=rT(0,.5,S2),t4=rT(.5,.95,Nn);function rT(e,t,n){return i=>i<e?0:i>t?1:n(Ia(e,t,i))}function Cb(e,t){e.min=t.min,e.max=t.max}function Cn(e,t){Cb(e.x,t.x),Cb(e.y,t.y)}function Mb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function wb(e,t,n,i,s){return e-=t,e=pc(e,1/n,i),s!==void 0&&(e=pc(e,1/s,i)),e}function e4(e,t=0,n=1,i=.5,s,a=e,l=e){if(Jn.test(t)&&(t=parseFloat(t),t=Yt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Yt(a.min,a.max,i);e===a&&(c-=t),e.min=wb(e.min,t,n,c,s),e.max=wb(e.max,t,n,c,s)}function kb(e,t,[n,i,s],a,l){e4(e,t[n],t[i],t[s],t.scale,a,l)}const n4=["x","scaleX","originX"],i4=["y","scaleY","originY"];function Ab(e,t,n,i){kb(e.x,t,n4,n?n.x:void 0,i?i.x:void 0),kb(e.y,t,i4,n?n.y:void 0,i?i.y:void 0)}function Ob(e){return e.translate===0&&e.scale===1}function sT(e){return Ob(e.x)&&Ob(e.y)}function Db(e,t){return e.min===t.min&&e.max===t.max}function r4(e,t){return Db(e.x,t.x)&&Db(e.y,t.y)}function Nb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function oT(e,t){return Nb(e.x,t.x)&&Nb(e.y,t.y)}function Rb(e){return Pe(e.x)/Pe(e.y)}function jb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class s4{constructor(){this.members=[]}add(t){mm(this.members,t),t.scheduleRender()}remove(t){if(gm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function o4(e,t,n){let i="";const s=e.x.translate/t.x,a=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:b,skewY:x}=n;h&&(i=`perspective(${h}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),b&&(i+=`skewX(${b}deg) `),x&&(i+=`skewY(${x}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const Nh=["","X","Y","Z"],a4={visibility:"hidden"},_b=1e3;let l4=0;function Rh(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function aT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=p2(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",qt,!(s||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&aT(i)}function lT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t==null?void 0:t()){this.id=l4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(f4),this.nodes.forEach(g4),this.nodes.forEach(y4),this.nodes.forEach(d4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new XO)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new vm),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KO(l),this.instance=l;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||d)&&(this.isLayoutDirty=!0),e){let g;const v=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=JO(v,250),Wu.hasAnimatedSinceResize&&(Wu.hasAnimatedSinceResize=!1,this.nodes.forEach(Lb))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||T4,{onLayoutAnimationStart:C,onLayoutAnimationComplete:w}=p.getProps(),O=!this.targetLayout||!oT(this.targetLayout,x),A=!v&&b;if(this.options.layoutRoot||this.resumeFrom||A||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,A);const B={...Sm(E,"layout"),onPlay:C,onComplete:w};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else v||Lb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v4),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zb);return}this.isUpdating||this.nodes.forEach(p4),this.isUpdating=!1,this.nodes.forEach(m4),this.nodes.forEach(u4),this.nodes.forEach(c4),this.clearAllSnapshots();const c=Xn.now();Ce.delta=wi(0,1e3/60,c-Ce.timestamp),Ce.timestamp=c,Ce.isProcessing=!0,Eh.update.process(Ce),Eh.preRender.process(Ce),Eh.render.process(Ce),Ce.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Em.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h4),this.sharedNodes.forEach(b4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pe(this.snapshot.measuredBox.x)&&!Pe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!sT(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&(c||Ur(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),E4(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return re();const c=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(C4))){const{scroll:p}=this.root;p&&(no(c.x,p.offset.x),no(c.y,p.offset.y))}return c}removeElementScroll(l){var d;const c=re();if(Cn(c,l),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Cn(c,l),no(c.x,g.offset.x),no(c.y,g.offset.y))}return c}applyTransform(l,c=!1){const d=re();Cn(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&io(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ur(p.latestValues)&&io(d,p.latestValues)}return Ur(this.latestValues)&&io(d,this.latestValues),d}removeTransform(l){const c=re();Cn(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Ur(h.latestValues))continue;Mp(h.latestValues)&&h.updateSnapshot();const p=re(),g=h.measurePageBox();Cn(p,g),Ab(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Ur(this.latestValues)&&Ab(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ce.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var v;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Ce.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),za(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=re(),this.targetWithTransforms=re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),Z2(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=re(),this.relativeTargetOrigin=re(),za(this.relativeTargetOrigin,this.target,b.target),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Mp(this.parent.latestValues)||J2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ce.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Cn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;kO(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=re());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mb(this.prevProjectionDelta.x,this.projectionDelta.x),Mb(this.prevProjectionDelta.y,this.projectionDelta.y)),_a(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!jb(this.projectionDelta.x,this.prevProjectionDelta.x)||!jb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=eo(),this.projectionDelta=eo(),this.projectionDeltaWithTransform=eo()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=re(),b=d?d.source:void 0,x=this.layout?this.layout.source:void 0,E=b!==x,C=this.getStack(),w=!C||C.members.length<=1,O=!!(E&&!w&&this.options.crossfade===!0&&!this.path.some(S4));this.animationProgress=0;let A;this.mixTargetDelta=B=>{const _=B/1e3;Bb(g.x,l.x,_),Bb(g.y,l.y,_),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(za(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x4(this.relativeTarget,this.relativeTargetOrigin,v,_),A&&r4(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=re()),Cn(A,this.relativeTarget)),E&&(this.animationValues=p,QO(p,h,this.latestValues,_,O,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{Wu.hasAnimatedSinceResize=!0,this.currentAnimation=GO(0,_b,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_b),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:p}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&uT(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||re();const g=Pe(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const v=Pe(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+v}Cn(c,d),io(c,p),_a(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new s4),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Rh("z",l,h,this.animationValues);for(let p=0;p<Nh.length;p++)Rh(`rotate${Nh[p]}`,l,h,this.animationValues),Rh(`skew${Nh[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return a4;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Qu(l==null?void 0:l.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Qu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ur(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=o4(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:g,y:v}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in Ga){if(p[b]===void 0)continue;const{correct:x,applyTo:E,isCSSVariable:C}=Ga[b],w=c.transform==="none"?p[b]:x(p[b],h);if(E){const O=E.length;for(let A=0;A<O;A++)c[E[A]]=w}else C?this.options.visualElement.renderState.vars[b]=w:c[b]=w}return this.options.layoutId&&(c.pointerEvents=h===this?Qu(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(zb),this.root.sharedNodes.clear()}}}function u4(e){e.updateLayout()}function c4(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?wn(g=>{const v=l?t.measuredBox[g]:t.layoutBox[g],b=Pe(v);v.min=i[g].min,v.max=v.min+b}):uT(a,t.layoutBox,i)&&wn(g=>{const v=l?t.measuredBox[g]:t.layoutBox[g],b=Pe(i[g]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+b)});const c=eo();_a(c,i,t.layoutBox);const d=eo();l?_a(d,e.applyTransform(s,!0),t.measuredBox):_a(d,i,t.layoutBox);const h=!sT(c);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const x=re();za(x,t.layoutBox,v.layoutBox);const E=re();za(E,i,b.layoutBox),oT(x,E)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=x,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function f4(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function d4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function h4(e){e.clearSnapshot()}function zb(e){e.clearMeasurements()}function p4(e){e.isLayoutDirty=!1}function m4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Lb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function g4(e){e.resolveTargetDelta()}function y4(e){e.calcProjection()}function v4(e){e.resetSkewAndRotation()}function b4(e){e.removeLeadSnapshot()}function Bb(e,t,n){e.translate=Yt(t.translate,0,n),e.scale=Yt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Vb(e,t,n,i){e.min=Yt(t.min,n.min,i),e.max=Yt(t.max,n.max,i)}function x4(e,t,n,i){Vb(e.x,t.x,n.x,i),Vb(e.y,t.y,n.y,i)}function S4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const T4={duration:.45,ease:[.4,0,.1,1]},Pb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Hb=Pb("applewebkit/")&&!Pb("chrome/")?Math.round:Nn;function Ub(e){e.min=Hb(e.min),e.max=Hb(e.max)}function E4(e){Ub(e.x),Ub(e.y)}function uT(e,t,n){return e==="position"||e==="preserve-aspect"&&!MO(Rb(t),Rb(n),.2)}function C4(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const M4=lT({attachResizeListener:(e,t)=>Ja(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jh={current:void 0},cT=lT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jh.current){const e=new M4({});e.mount(window),e.setOptions({layoutScroll:!0}),jh.current=e}return jh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),w4={pan:{Feature:IO},drag:{Feature:UO,ProjectionNode:cT,MeasureLayout:nT}};function Ib(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&qt.postRender(()=>a(t,hl(t)))}class k4 extends yr{mount(){const{current:t}=this.node;t&&(this.unmount=L5(t,(n,i)=>(Ib(this.node,i,"Start"),s=>Ib(this.node,s,"End"))))}unmount(){}}class A4 extends yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dl(Ja(this.node.current,"focus",()=>this.onFocus()),Ja(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fb(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&qt.postRender(()=>a(t,hl(t)))}class O4 extends yr{mount(){const{current:t}=this.node;t&&(this.unmount=H5(t,(n,i)=>(Fb(this.node,i,"Start"),(s,{success:a})=>Fb(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ap=new WeakMap,_h=new WeakMap,D4=e=>{const t=Ap.get(e.target);t&&t(e)},N4=e=>{e.forEach(D4)};function R4({root:e,...t}){const n=e||document;_h.has(n)||_h.set(n,{});const i=_h.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(N4,{root:e,...t})),i[s]}function j4(e,t,n){const i=R4(t);return Ap.set(e,n),i.observe(e),()=>{Ap.delete(e),i.unobserve(e)}}const _4={some:0,all:1};class z4 extends yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:_4[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(d)};return j4(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(L4(t,n))&&this.startObserver()}unmount(){}}function L4({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const B4={inView:{Feature:z4},tap:{Feature:O4},focus:{Feature:A4},hover:{Feature:k4}},V4={layout:{ProjectionNode:cT,MeasureLayout:nT}},Op={current:null},fT={current:!1};function P4(){if(fT.current=!0,!!hm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Op.current=e.matches;e.addListener(t),t()}else Op.current=!1}const H4=[...L2,Re,hr],U4=e=>H4.find(z2(e)),I4=new WeakMap;function F4(e,t,n){for(const i in t){const s=t[i],a=n[i];if(_e(s))e.addValue(i,s);else if(_e(a))e.addValue(i,qa(s,{owner:e}));else if(a!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,qa(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const qb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q4{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Im,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Xn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,qt.render(this.render,!1,!0))};const{latestValues:d,renderState:h,onUpdate:p}=l;this.onUpdate=p,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Bc(n),this.isVariantNode=QS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const x=v[b];d[b]!==void 0&&_e(x)&&x.set(d[b],!1)}}mount(t){this.current=t,I4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),fT.current||P4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Op.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),dr(this.notifyUpdate),dr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=ls.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&qt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in lo){const n=lo[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):re()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<qb.length;i++){const s=qb[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=F4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=qa(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(j2(i)||E2(i))?i=parseFloat(i):!U4(i)&&hr.test(n)&&(i=D2(t,n)),this.setBaseTarget(t,_e(i)?i.get():i)),_e(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Lm(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!_e(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vm),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class dT extends q4{constructor(){super(...arguments),this.KeyframeResolver=B2}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_e(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $4(e){return window.getComputedStyle(e)}class G4 extends dT{constructor(){super(...arguments),this.type="html",this.renderInstance=u2}readValueFromInstance(t,n){if(ls.has(n))return rA(t,n);{const i=$4(t),s=(Am(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Q2(t,n)}build(t,n,i){Nm(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Bm(t,n,i)}}class K4 extends dT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=re,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&l2(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ls.has(n)){const i=O2(n);return i&&i.default||0}return n=c2.has(n)?n:km(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return d2(t,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&qt.postRender(this.updateDimensions)}build(t,n,i){_m(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,s){f2(t,n,i,s)}mount(t){this.isSVGTag=zm(t.tagName),super.mount(t)}}const Y4=(e,t)=>jm(e)?new K4(t):new G4(t,{allowProjection:e!==k.Fragment}),X4=Nk({...yO,...B4,...w4,...V4},Y4),Me=K5(X4),J4=({toggleRegister:e,firstname:t,lastname:n,email:i,password:s,setFirstname:a,setLastname:l,setEmail:c,setPassword:d,handleRegister:h,isPending:p})=>T.jsx(T.Fragment,{children:T.jsx("div",{className:"login-box",children:T.jsxs("div",{className:"login-box-content",children:[T.jsx("h1",{children:"Tehtis"}),T.jsx(Me.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:"Uusi käyttäjä"}),T.jsxs("form",{onSubmit:h,children:[T.jsx(Me.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:T.jsx("input",{className:"login-input",type:"text",placeholder:"Etunimi",name:"firstname",value:t,onChange:g=>a(g.target.value),required:!0})}),T.jsx(Me.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:T.jsx("input",{className:"login-input",type:"text",placeholder:"Sukunimi",name:"lastname",value:n,onChange:g=>l(g.target.value),required:!0})}),T.jsx(Me.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:T.jsx("input",{className:"login-input",type:"text",placeholder:"Sähköposti",name:"email",value:i,onChange:g=>c(g.target.value),required:!0})}),T.jsx(Me.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,delay:.1},children:T.jsx("input",{className:"login-input",type:"password",placeholder:"Salasana",name:"password",value:s,onChange:g=>d(g.target.value),required:!0})}),T.jsx(Me.button,{className:"login-button",type:"submit",disabled:p||t==""||n==""||i==""||s=="",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,delay:.2},children:"Rekisteröidy"})]}),T.jsxs(Me.div,{className:"no-account",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:.3},children:[T.jsx("p",{children:"Onko sinulla jo tili?"}),T.jsx("a",{className:"register-link",onClick:e,children:"Kirjaudu"})]})]})})}),Z4=({toggleRegister:e,handleLogin:t,email:n,password:i,setEmail:s,setPassword:a,isPending:l})=>T.jsx(T.Fragment,{children:T.jsx("div",{className:"login-box",children:T.jsxs("div",{className:"login-box-content",children:[T.jsx("h1",{children:"Tehtis"}),T.jsx(Me.h3,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:"Kirjaudu sisään jatkaaksesi"}),T.jsxs("form",{onSubmit:t,children:[T.jsx(Me.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:T.jsx("input",{className:"login-input",type:"text",placeholder:"Sähköposti",name:"email",value:n,onChange:c=>s(c.target.value),required:!0})}),T.jsx(Me.div,{className:"textbox",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,delay:.1},children:T.jsx("input",{className:"login-input",type:"password",placeholder:"Salasana",name:"password",value:i,onChange:c=>a(c.target.value),required:!0})}),T.jsx(Me.button,{className:"login-button",type:"submit",disabled:l||n==""||i=="",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,delay:.2},children:"Kirjaudu sisään"})]}),T.jsxs(Me.div,{className:"no-account",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:.3},children:[T.jsx("p",{children:"Eikö sinulla ole tiliä?"}),T.jsx("a",{onClick:e,className:"register-link",children:"Rekisteröidy"})]})]},"login")})});function hT(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=hT(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Jr(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=hT(e))&&(i&&(i+=" "),i+=t);return i}function Q4(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Q4(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var pl=e=>typeof e=="number"&&!isNaN(e),ns=e=>typeof e=="string",ki=e=>typeof e=="function",W4=e=>ns(e)||pl(e),Dp=e=>ns(e)||ki(e)?e:null,tD=(e,t)=>e===!1||pl(e)&&e>0?e:t,Np=e=>k.isValidElement(e)||ns(e)||ki(e)||pl(e);function eD(e,t,n=300){let{scrollHeight:i,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function nD({enter:e,exit:t,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}){return function({children:a,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:p,playToast:g}){let v=n?`${e}--${l}`:e,b=n?`${t}--${l}`:t,x=k.useRef(0);return k.useLayoutEffect(()=>{let E=h.current,C=v.split(" "),w=O=>{O.target===h.current&&(g(),E.removeEventListener("animationend",w),E.removeEventListener("animationcancel",w),x.current===0&&O.type!=="animationcancel"&&E.classList.remove(...C))};E.classList.add(...C),E.addEventListener("animationend",w),E.addEventListener("animationcancel",w)},[]),k.useEffect(()=>{let E=h.current,C=()=>{E.removeEventListener("animationend",C),i?eD(E,d,s):d()};p||(c?C():(x.current=1,E.className+=` ${b}`,E.addEventListener("animationend",C)))},[p]),Z.createElement(Z.Fragment,null,a)}}function $b(e,t){return{content:pT(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function pT(e,t,n=!1){return k.isValidElement(e)&&!ns(e.type)?k.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ki(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function iD({closeToast:e,theme:t,ariaLabel:n="close"}){return Z.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),e(!0)},"aria-label":n},Z.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Z.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rD({delay:e,isRunning:t,closeToast:n,type:i="default",hide:s,className:a,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:p}){let g=s||l&&c===0,v={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};l&&(v.transform=`scaleX(${c})`);let b=Jr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),x=ki(a)?a({rtl:d,type:i,defaultClassName:b}):Jr(b,a),E={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&n()}};return Z.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},Z.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${i}`}),Z.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:x,style:v,...E}))}var sD=1,mT=()=>`${sD++}`;function oD(e,t,n){let i=1,s=0,a=[],l=[],c=t,d=new Map,h=new Set,p=O=>(h.add(O),()=>h.delete(O)),g=()=>{l=Array.from(d.values()),h.forEach(O=>O())},v=({containerId:O,toastId:A,updateId:B})=>{let _=O?O!==e:e!==1,U=d.has(A)&&B==null;return _||U},b=(O,A)=>{d.forEach(B=>{var _;(A==null||A===B.props.toastId)&&((_=B.toggle)==null||_.call(B,O))})},x=O=>{var A,B;(B=(A=O.props)==null?void 0:A.onClose)==null||B.call(A,O.removalReason),O.isActive=!1},E=O=>{if(O==null)d.forEach(x);else{let A=d.get(O);A&&x(A)}g()},C=()=>{s-=a.length,a=[]},w=O=>{var A,B;let{toastId:_,updateId:U}=O.props,G=U==null;O.staleId&&d.delete(O.staleId),O.isActive=!0,d.set(_,O),g(),n($b(O,G?"added":"updated")),G&&((B=(A=O.props).onOpen)==null||B.call(A))};return{id:e,props:c,observe:p,toggle:b,removeToast:E,toasts:d,clearQueue:C,buildToast:(O,A)=>{if(v(A))return;let{toastId:B,updateId:_,data:U,staleId:G,delay:q}=A,K=_==null;K&&s++;let tt={...c,style:c.toastStyle,key:i++,...Object.fromEntries(Object.entries(A).filter(([Ot,Jt])=>Jt!=null)),toastId:B,updateId:_,data:U,isIn:!1,className:Dp(A.className||c.toastClassName),progressClassName:Dp(A.progressClassName||c.progressClassName),autoClose:A.isLoading?!1:tD(A.autoClose,c.autoClose),closeToast(Ot){d.get(B).removalReason=Ot,E(B)},deleteToast(){let Ot=d.get(B);if(Ot!=null){if(n($b(Ot,"removed")),d.delete(B),s--,s<0&&(s=0),a.length>0){w(a.shift());return}g()}}};tt.closeButton=c.closeButton,A.closeButton===!1||Np(A.closeButton)?tt.closeButton=A.closeButton:A.closeButton===!0&&(tt.closeButton=Np(c.closeButton)?c.closeButton:!0);let at={content:O,props:tt,staleId:G};c.limit&&c.limit>0&&s>c.limit&&K?a.push(at):pl(q)?setTimeout(()=>{w(at)},q):w(at)},setProps(O){c=O},setToggle:(O,A)=>{let B=d.get(O);B&&(B.toggle=A)},isToastActive:O=>{var A;return(A=d.get(O))==null?void 0:A.isActive},getSnapshot:()=>l}}var He=new Map,Za=[],Rp=new Set,aD=e=>Rp.forEach(t=>t(e)),gT=()=>He.size>0;function lD(){Za.forEach(e=>vT(e.content,e.options)),Za=[]}var uD=(e,{containerId:t})=>{var n;return(n=He.get(t||1))==null?void 0:n.toasts.get(e)};function yT(e,t){var n;if(t)return!!((n=He.get(t))!=null&&n.isToastActive(e));let i=!1;return He.forEach(s=>{s.isToastActive(e)&&(i=!0)}),i}function cD(e){if(!gT()){Za=Za.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||W4(e))He.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=He.get(e.containerId);t?t.removeToast(e.id):He.forEach(n=>{n.removeToast(e.id)})}}var fD=(e={})=>{He.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function vT(e,t){Np(e)&&(gT()||Za.push({content:e,options:t}),He.forEach(n=>{n.buildToast(e,t)}))}function dD(e){var t;(t=He.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function bT(e,t){He.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function hD(e){let t=e.containerId||1;return{subscribe(n){let i=oD(t,e,aD);He.set(t,i);let s=i.observe(n);return lD(),()=>{s(),He.delete(t)}},setProps(n){var i;(i=He.get(t))==null||i.setProps(n)},getSnapshot(){var n;return(n=He.get(t))==null?void 0:n.getSnapshot()}}}function pD(e){return Rp.add(e),()=>{Rp.delete(e)}}function mD(e){return e&&(ns(e.toastId)||pl(e.toastId))?e.toastId:mT()}function ml(e,t){return vT(e,t),t.toastId}function Pc(e,t){return{...t,type:t&&t.type||e,toastId:mD(t)}}function Hc(e){return(t,n)=>ml(t,Pc(e,n))}function jt(e,t){return ml(e,Pc("default",t))}jt.loading=(e,t)=>ml(e,Pc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function gD(e,{pending:t,error:n,success:i},s){let a;t&&(a=ns(t)?jt.loading(t,s):jt.loading(t.render,{...s,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,p,g)=>{if(p==null){jt.dismiss(a);return}let v={type:h,...l,...s,data:g},b=ns(p)?{render:p}:p;return a?jt.update(a,{...v,...b}):jt(b.render,{...v,...b}),g},d=ki(e)?e():e;return d.then(h=>c("success",i,h)).catch(h=>c("error",n,h)),d}jt.promise=gD;jt.success=Hc("success");jt.info=Hc("info");jt.error=Hc("error");jt.warning=Hc("warning");jt.warn=jt.warning;jt.dark=(e,t)=>ml(e,Pc("default",{theme:"dark",...t}));function yD(e){cD(e)}jt.dismiss=yD;jt.clearWaitingQueue=fD;jt.isActive=yT;jt.update=(e,t={})=>{let n=uD(e,t);if(n){let{props:i,content:s}=n,a={delay:100,...i,...t,toastId:t.toastId||e,updateId:mT()};a.toastId!==e&&(a.staleId=e);let l=a.render||s;delete a.render,ml(l,a)}};jt.done=e=>{jt.update(e,{progress:1})};jt.onChange=pD;jt.play=e=>bT(!0,e);jt.pause=e=>bT(!1,e);function vD(e){var t;let{subscribe:n,getSnapshot:i,setProps:s}=k.useRef(hD(e)).current;s(e);let a=(t=k.useSyncExternalStore(n,i,i))==null?void 0:t.slice();function l(c){if(!a)return[];let d=new Map;return e.newestOnTop&&a.reverse(),a.forEach(h=>{let{position:p}=h.props;d.has(p)||d.set(p,[]),d.get(p).push(h)}),Array.from(d,h=>c(h[0],h[1]))}return{getToastToRender:l,isToastActive:yT,count:a==null?void 0:a.length}}function bD(e){let[t,n]=k.useState(!1),[i,s]=k.useState(!1),a=k.useRef(null),l=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:h,onClick:p,closeOnClick:g}=e;dD({id:e.toastId,containerId:e.containerId,fn:n}),k.useEffect(()=>{if(e.pauseOnFocusLoss)return v(),()=>{b()}},[e.pauseOnFocusLoss]);function v(){document.hasFocus()||w(),window.addEventListener("focus",C),window.addEventListener("blur",w)}function b(){window.removeEventListener("focus",C),window.removeEventListener("blur",w)}function x(G){if(e.draggable===!0||e.draggable===G.pointerType){O();let q=a.current;l.canCloseOnClick=!0,l.canDrag=!0,q.style.transition="none",e.draggableDirection==="x"?(l.start=G.clientX,l.removalDistance=q.offsetWidth*(e.draggablePercent/100)):(l.start=G.clientY,l.removalDistance=q.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function E(G){let{top:q,bottom:K,left:tt,right:at}=a.current.getBoundingClientRect();G.nativeEvent.type!=="touchend"&&e.pauseOnHover&&G.clientX>=tt&&G.clientX<=at&&G.clientY>=q&&G.clientY<=K?w():C()}function C(){n(!0)}function w(){n(!1)}function O(){l.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",_)}function A(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",_)}function B(G){let q=a.current;if(l.canDrag&&q){l.didMove=!0,t&&w(),e.draggableDirection==="x"?l.delta=G.clientX-l.start:l.delta=G.clientY-l.start,l.start!==G.clientX&&(l.canCloseOnClick=!1);let K=e.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;q.style.transform=`translate3d(${K},0)`,q.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function _(){A();let G=a.current;if(l.canDrag&&l.didMove&&G){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}G.style.transition="transform 0.2s, opacity 0.2s",G.style.removeProperty("transform"),G.style.removeProperty("opacity")}}let U={onPointerDown:x,onPointerUp:E};return c&&d&&(U.onMouseEnter=w,e.stacked||(U.onMouseLeave=C)),g&&(U.onClick=G=>{p&&p(G),l.canCloseOnClick&&h(!0)}),{playToast:C,pauseToast:w,isRunning:t,preventExitTransition:i,toastRef:a,eventHandlers:U}}var xD=typeof window<"u"?k.useLayoutEffect:k.useEffect,Uc=({theme:e,type:t,isLoading:n,...i})=>Z.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function SD(e){return Z.createElement(Uc,{...e},Z.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function TD(e){return Z.createElement(Uc,{...e},Z.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ED(e){return Z.createElement(Uc,{...e},Z.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function CD(e){return Z.createElement(Uc,{...e},Z.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function MD(){return Z.createElement("div",{className:"Toastify__spinner"})}var jp={info:TD,warning:SD,success:ED,error:CD,spinner:MD},wD=e=>e in jp;function kD({theme:e,type:t,isLoading:n,icon:i}){let s=null,a={theme:e,type:t};return i===!1||(ki(i)?s=i({...a,isLoading:n}):k.isValidElement(i)?s=k.cloneElement(i,a):n?s=jp.spinner():wD(t)&&(s=jp[t](a))),s}var AD=e=>{let{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:s,playToast:a}=bD(e),{closeButton:l,children:c,autoClose:d,onClick:h,type:p,hideProgressBar:g,closeToast:v,transition:b,position:x,className:E,style:C,progressClassName:w,updateId:O,role:A,progress:B,rtl:_,toastId:U,deleteToast:G,isIn:q,isLoading:K,closeOnClick:tt,theme:at,ariaLabel:Ot}=e,Jt=Jr("Toastify__toast",`Toastify__toast-theme--${at}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":tt}),St=ki(E)?E({rtl:_,position:x,type:p,defaultClassName:Jt}):Jr(Jt,E),rt=kD(e),H=!!B||!d,Y={closeToast:v,type:p,theme:at},Q=null;return l===!1||(ki(l)?Q=l(Y):k.isValidElement(l)?Q=k.cloneElement(l,Y):Q=iD(Y)),Z.createElement(b,{isIn:q,done:G,position:x,preventExitTransition:n,nodeRef:i,playToast:a},Z.createElement("div",{id:U,tabIndex:0,onClick:h,"data-in":q,className:St,...s,style:C,ref:i,...q&&{role:A,"aria-label":Ot}},rt!=null&&Z.createElement("div",{className:Jr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!K})},rt),pT(c,e,!t),Q,!e.customProgressBar&&Z.createElement(rD,{...O&&!H?{key:`p-${O}`}:{},rtl:_,theme:at,delay:d,isRunning:t,isIn:q,closeToast:v,hide:g,type:p,className:w,controlledProgress:H,progress:B||0})))},OD=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),DD=nD(OD("bounce",!0)),ND={position:"top-right",transition:DD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function gl(e){let t={...ND,...e},n=e.stacked,[i,s]=k.useState(!0),a=k.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=vD(t),{className:h,style:p,rtl:g,containerId:v,hotKeys:b}=t;function x(C){let w=Jr("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":g});return ki(h)?h({position:C,rtl:g,defaultClassName:w}):Jr(w,Dp(h))}function E(){n&&(s(!0),jt.play())}return xD(()=>{var C;if(n){let w=a.current.querySelectorAll('[data-in="true"]'),O=12,A=(C=t.position)==null?void 0:C.includes("top"),B=0,_=0;Array.from(w).reverse().forEach((U,G)=>{let q=U;q.classList.add("Toastify__toast--stacked"),G>0&&(q.dataset.collapsed=`${i}`),q.dataset.pos||(q.dataset.pos=A?"top":"bot");let K=B*(i?.2:1)+(i?0:O*G);q.style.setProperty("--y",`${A?K:K*-1}px`),q.style.setProperty("--g",`${O}`),q.style.setProperty("--s",`${1-(i?_:0)}`),B+=q.offsetHeight,_+=.025})}},[i,d,n]),k.useEffect(()=>{function C(w){var O;let A=a.current;b(w)&&((O=A.querySelector('[tabIndex="0"]'))==null||O.focus(),s(!1),jt.pause()),w.key==="Escape"&&(document.activeElement===A||A!=null&&A.contains(document.activeElement))&&(s(!0),jt.play())}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[b]),Z.createElement("section",{ref:a,className:"Toastify",id:v,onMouseEnter:()=>{n&&(s(!1),jt.pause())},onMouseLeave:E,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l((C,w)=>{let O=w.length?{...p}:{...p,pointerEvents:"none"};return Z.createElement("div",{tabIndex:-1,className:x(C),"data-stacked":n,style:O,key:`c-${C}`},w.map(({content:A,props:B})=>Z.createElement(AD,{...B,stacked:n,collapseAll:E,isIn:c(B.toastId,B.containerId),key:`t-${B.key}`},A)))}))}const RD=()=>{const[e,t]=k.useState(""),[n,i]=k.useState(""),[s,a]=k.useState(""),[l,c]=k.useState(""),{login:d}=gr(),[h,p]=k.useState(!1),g=xo(),[v,b]=k.useState([]),[x,E]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const at=await(await fetch("http://localhost:3000/session",{method:"GET",credentials:"include"})).json();console.log("Session:",at),at.loggedIn&&(E(!0),d({id:at.userId,email:at.email,firstname:at.firstname,lastname:at.lastname,role:at.role}),g("/dashboard"))}catch(tt){console.error("Error checking session:",tt)}})()},[g,d]),k.useEffect(()=>{(async()=>{try{const at=await(await fetch("http://localhost:3000/users",{method:"GET",credentials:"include"})).json();console.log("Fetched users:",at),b(at),console.log("Users:",v)}catch(tt){console.error("Error fetching users:",tt)}})()},[]);const C=()=>jt.success("Rekisteröityminen onnistui! Kirjaudutaan sisään...",{position:"top-center",autoClose:2500,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),[w,O]=k.useTransition(),A=async K=>{K.preventDefault(),O(async()=>{try{const tt=await fetch("http://localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s.toLowerCase(),password:l})}),at=await tt.json();tt.ok?(d({id:at.userId,email:s,role:at.role,firstname:at.firstname,lastname:at.lastname}),E(!0),console.log("loggedIn",x),g("/dashboard")):alert(at.error||"Invalid credentials")}catch(tt){alert("An error occurred while logging in"),console.error(tt)}})},B=async K=>{K.preventDefault(),O(async()=>{try{const tt=Jt=>Jt.charAt(0).toUpperCase()+Jt.slice(1).toLowerCase(),at=await fetch("http://localhost:3000/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({firstname:tt(e),lastname:tt(n),email:s.toLowerCase(),password:l})}),Ot=await at.json();at.ok?(C(),setTimeout(()=>A(K),2500)):alert(Ot.error||"Registration failed")}catch(tt){alert("An error occurred while registering"),console.error(tt)}})},_=()=>{p(!h),t(""),i(""),a(""),c("")};k.useEffect(()=>{const K=document.querySelector(".privacy-policy-content");K.innerHTML=`    <h3>
              Keräämme ja käsittelemme seuraavia henkilökohtaisia tietoja
            </h3>
            <ul>
              <li>Sähköpostiosoite</li>
              <li>Etunimi</li>
              <li>Sukunimi</li>
              <li>Salasana</li>
            </ul>
            <h3>Tietojen kerääjä</h3>
            <p>Tehtis</p>
            <p>Varia</p>
            <h3>Tietojen keräämisen tarkoitus</h3>
            <p>
              Keräämme näitä tietoja käyttäjätunnuksen luomiseksi ja
              palveluidemme tarjoamiseksi.
            </p>
            <h3>Tietojen käsittelyn laillisuusperiaate</h3>
            <p>Tietojen käsittely perustuu käyttäjän suostumukseen.</p>
`,K.classList.add("hidden")},[]);const[U,G]=k.useState(!1);console.log("showPrivacyPolicy",U);const q=()=>{G(K=>{const tt=!K,at=document.querySelector(".privacy-policy-content");return tt?at.classList.remove("hidden"):at.classList.add("hidden"),tt})};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"container",children:[T.jsxs("div",{className:"login-box",children:[T.jsx(E5,{mode:"wait",children:h?T.jsx(J4,{toggleRegister:_,firstname:e,setFirstname:t,lastname:n,setLastname:i,email:s,setEmail:a,password:l,setPassword:c,handleRegister:B,isPending:w}):T.jsx(Z4,{email:s,password:l,setEmail:a,setPassword:c,handleLogin:A,toggleRegister:_,isPending:w})}),T.jsx(gl,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]}),T.jsxs("div",{className:"privacy-policy",children:[T.jsx("h3",{onClick:q,children:"Tietosuojaseloste"}),T.jsx("span",{className:"privacy-policy-content"})]})]})})},jD=()=>{const e=xo();return k.useEffect(()=>{e("/login")},[]),T.jsxs("div",{style:{margin:"auto"},children:[T.jsx("h1",{children:"Test"}),T.jsx("button",{onClick:()=>e("/login"),children:"Login"})]})};var xT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gb=Z.createContext&&Z.createContext(xT),_D=["attr","size","title"];function zD(e,t){if(e==null)return{};var n=LD(e,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function LD(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mc.apply(this,arguments)}function Kb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kb(Object(n),!0).forEach(function(i){BD(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kb(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function BD(e,t,n){return t=VD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VD(e){var t=PD(e,"string");return typeof t=="symbol"?t:t+""}function PD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ST(e){return e&&e.map((t,n)=>Z.createElement(t.tag,gc({key:n},t.attr),ST(t.child)))}function Ai(e){return t=>Z.createElement(HD,mc({attr:gc({},e.attr)},t),ST(e.child))}function HD(e){var t=n=>{var{attr:i,size:s,title:a}=e,l=zD(e,_D),c=s||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),Z.createElement("svg",mc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:d,style:gc(gc({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Z.createElement("title",null,a),e.children)};return Gb!==void 0?Z.createElement(Gb.Consumer,null,n=>t(n)):t(xT)}function UD(e){return Ai({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function ID(e){return Ai({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(e)}function TT(e){return Ai({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function FD(e){return Ai({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}const qD=({courses:e,user:t,toggleAddCourseBox:n})=>T.jsx(T.Fragment,{children:T.jsxs(Me.div,{className:"dashboard-content",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:.3},children:[T.jsx("h1",{children:"Etusivu"}),T.jsxs("p",{children:["Hei ",t==null?void 0:t.firstname,"! Tämä on etusivu. Täältä löydät listan kursseista, joihin olet osallistunut."]}),(t==null?void 0:t.role)==="admin"&&T.jsx("div",{className:"admin-panel-link",children:T.jsxs("h3",{children:["Hei admin! Avaa ",T.jsx(ac,{to:"/adminpanel",children:"Hallintapaneeli"})]})}),T.jsxs("div",{className:"courses",children:[T.jsx("h2",{children:"Kurssit"}),(t==null?void 0:t.role)==="teacher"&&T.jsxs("button",{type:"button",className:"new-course-button",onClick:n,children:[T.jsx(ID,{})," Luo uusi kurssi"]}),T.jsx("div",{className:"course-list",children:e.length>0?e.filter(i=>i&&i.name).sort((i,s)=>i.name.localeCompare(s.name)).map(i=>T.jsx(ac,{to:`/course/${i.id}`,children:T.jsxs("div",{className:"course",children:[T.jsx("h3",{children:i.name.length>80?`${i.name.slice(0,80)}...`:i.name}),T.jsx("div",{style:{whiteSpace:"pre-wrap",backgroundColor:"var(--aliceblue)",borderRadius:"5px",padding:"5px",marginBottom:"1em",overflow:"hidden"},dangerouslySetInnerHTML:{__html:i.description}})]})},i.id)):T.jsx("p",{children:"Ei kursseja tällä hetkellä."})})]})]})}),Ic=()=>{const{logout:e}=gr(),t=xo(),n="#30c67c",i=a=>window.location.pathname===a?{color:n,fontWeight:"bold"}:{},s=async()=>{try{const a=await fetch("http://localhost:3000/logout",{method:"POST"}),l=await a.json();if(!a.ok)throw new Error(l.error||"Logout failed");a.ok&&(e(),t("/login"))}catch(a){console.error("Error logging out:",a)}};return T.jsx("nav",{children:T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx("h2",{children:"Tehtis"})}),T.jsx("li",{children:T.jsx("a",{href:"/dashboard",style:i("/dashboard"),children:"Etusivu"})}),T.jsx("li",{children:T.jsx("a",{href:"/profile",style:i("/profile"),children:"Profiili"})}),T.jsx("li",{children:T.jsx("a",{onClick:s,children:"Kirjaudu ulos"})})]})})},$D=({toggleAddCourseBox:e,user:t,getMyCourses:n})=>{const[i,s]=k.useState(""),a=async l=>{l.preventDefault();try{const d=await(await fetch("http://localhost:3000/add-course",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,description:"kurssin kuvaus",ownerId:t==null?void 0:t.id})})).json();d.success?(console.log("Kurssi luotu:",d),console.log("kurssin data: ",d.data),jt.success("Kurssi luotu onnistuneesti!",{position:"bottom-center",autoClose:2500,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{s(""),n(),e()},2e3)):alert("Kurssin luonti epäonnistui.")}catch(c){console.error("Virhe kurssin luonnissa:",c)}};return T.jsxs("div",{className:"back-shadow",children:[T.jsxs("form",{className:"add-course-form",onSubmit:a,children:[T.jsxs("h2",{children:["Luo uusi kurssi ",T.jsx("span",{})]}),T.jsxs("div",{className:"add-course-form-content",children:[T.jsxs("label",{children:[T.jsx("span",{children:"Otsikko:"}),T.jsx("input",{className:"assignment-input",type:"text",value:i,onChange:l=>s(l.target.value),required:!0,spellCheck:"false"})]}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",onClick:e,children:"Peruuta"}),T.jsx("button",{type:"submit",children:"Luo kurssi"})]})]})]}),T.jsx(gl,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},GD=()=>{const{loggedIn:e,user:t}=gr(),n=xo();console.log("User:",t),console.log("firstname: ",t==null?void 0:t.firstname),console.log("lastname: ",t==null?void 0:t.lastname),console.log("role:",t==null?void 0:t.role),console.log("Logged in:",e);const[i,s]=Z.useState([]),a=async()=>{try{const p=await(await fetch("http://localhost:3000/my-courses",{credentials:"include"})).json();console.log("My courses:",p),s(p)}catch(h){console.error("Error fetching my courses",h)}};k.useEffect(()=>{let h;return e?a():h=setTimeout(()=>{n("/login")},1e3),()=>clearTimeout(h)},[t]);const[l,c]=Z.useState(!1),d=()=>{c(!l)};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"container",children:[T.jsx("div",{className:"nav-background"}),T.jsx(Ic,{}),T.jsx(qD,{courses:i,user:t,toggleAddCourseBox:d}),l?T.jsx($D,{user:t,getMyCourses:a,toggleAddCourseBox:d}):null]})})},KD=({user:e})=>T.jsx(T.Fragment,{children:T.jsxs(Me.div,{className:"profile-content",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:.3},children:[T.jsx("h1",{children:"Profiili"}),T.jsx("p",{children:"Tämä on profiilisivu. Täältä löydät tietoja omasta profiilistasi."}),T.jsxs("div",{className:"profile-info",children:[T.jsxs("div",{className:"username",children:[T.jsx("label",{children:"Nimi"}),T.jsx("h2",{children:`${e==null?void 0:e.firstname} ${e==null?void 0:e.lastname}`})]}),T.jsxs("div",{className:"email",children:[T.jsx("label",{children:"Sähköposti"}),T.jsx("h3",{children:e==null?void 0:e.email})]})]})]})}),YD=()=>{const{loggedIn:e,user:t}=gr();return console.log("profile.user:",t),console.log("loggedIn:",e),T.jsx(T.Fragment,{children:T.jsxs("div",{className:"container",children:[T.jsx("div",{className:"nav-background"}),T.jsx(Ic,{}),t&&T.jsx(KD,{user:t})]})})};function XD(e){return Ai({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM504 312l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(e)}function JD(e){return Ai({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 14h-6c-.553 0-1-.447-1-1s.447-1 1-1h6c.553 0 1 .447 1 1s-.447 1-1 1zM14 9c0 1.381-.56 2.631-1.464 3.535-.905.905-2.155 1.465-3.536 1.465s-2.631-.56-3.536-1.465c-.904-.904-1.464-2.154-1.464-3.535s.56-2.631 1.464-3.535c.905-.905 2.155-1.465 3.536-1.465s2.631.56 3.536 1.465c.904.904 1.464 2.154 1.464 3.535zM9 15c-3.75 0-6 2-6 4 0 1 2.25 2 6 2 3.518 0 6-1 6-2 0-2-2.354-4-6-4z"},child:[]}]})(e)}function Ee(e){this.content=e}Ee.prototype={constructor:Ee,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,s=i.find(e),a=i.content.slice();return s==-1?a.push(n||e,t):(a[s+1]=t,n&&(a[s]=n)),new Ee(a)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Ee(n)},addToStart:function(e,t){return new Ee([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Ee(n)},addBefore:function(e,t,n){var i=this.remove(t),s=i.content.slice(),a=i.find(e);return s.splice(a==-1?s.length:a,0,t,n),new Ee(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Ee.from(e),e.size?new Ee(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Ee.from(e),e.size?new Ee(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Ee.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Ee.from=function(e){if(e instanceof Ee)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Ee(t)};function ET(e,t,n){for(let i=0;;i++){if(i==e.childCount||i==t.childCount)return e.childCount==t.childCount?null:n;let s=e.child(i),a=t.child(i);if(s==a){n+=s.nodeSize;continue}if(!s.sameMarkup(a))return n;if(s.isText&&s.text!=a.text){for(let l=0;s.text[l]==a.text[l];l++)n++;return n}if(s.content.size||a.content.size){let l=ET(s.content,a.content,n+1);if(l!=null)return l}n+=s.nodeSize}}function CT(e,t,n,i){for(let s=e.childCount,a=t.childCount;;){if(s==0||a==0)return s==a?null:{a:n,b:i};let l=e.child(--s),c=t.child(--a),d=l.nodeSize;if(l==c){n-=d,i-=d;continue}if(!l.sameMarkup(c))return{a:n,b:i};if(l.isText&&l.text!=c.text){let h=0,p=Math.min(l.text.length,c.text.length);for(;h<p&&l.text[l.text.length-h-1]==c.text[c.text.length-h-1];)h++,n--,i--;return{a:n,b:i}}if(l.content.size||c.content.size){let h=CT(l.content,c.content,n-1,i-1);if(h)return h}n-=d,i-=d}}class J{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let i=0;i<t.length;i++)this.size+=t[i].nodeSize}nodesBetween(t,n,i,s=0,a){for(let l=0,c=0;c<n;l++){let d=this.content[l],h=c+d.nodeSize;if(h>t&&i(d,s+c,a||null,l)!==!1&&d.content.size){let p=c+1;d.nodesBetween(Math.max(0,t-p),Math.min(d.content.size,n-p),i,s+p)}c=h}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,i,s){let a="",l=!0;return this.nodesBetween(t,n,(c,d)=>{let h=c.isText?c.text.slice(Math.max(t,d)-d,n-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&i&&(l?l=!1:a+=i),a+=h},0),a}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,i=t.firstChild,s=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(i)&&(s[s.length-1]=n.withText(n.text+i.text),a=1);a<t.content.length;a++)s.push(t.content[a]);return new J(s,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let i=[],s=0;if(n>t)for(let a=0,l=0;l<n;a++){let c=this.content[a],d=l+c.nodeSize;d>t&&((l<t||d>n)&&(c.isText?c=c.cut(Math.max(0,t-l),Math.min(c.text.length,n-l)):c=c.cut(Math.max(0,t-l-1),Math.min(c.content.size,n-l-1))),i.push(c),s+=c.nodeSize),l=d}return new J(i,s)}cutByIndex(t,n){return t==n?J.empty:t==0&&n==this.content.length?this:new J(this.content.slice(t,n))}replaceChild(t,n){let i=this.content[t];if(i==n)return this;let s=this.content.slice(),a=this.size+n.nodeSize-i.nodeSize;return s[t]=n,new J(s,a)}addToStart(t){return new J([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new J(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,i=0;n<this.content.length;n++){let s=this.content[n];t(s,i,n),i+=s.nodeSize}}findDiffStart(t,n=0){return ET(this,t,n)}findDiffEnd(t,n=this.size,i=t.size){return CT(this,t,n,i)}findIndex(t,n=-1){if(t==0)return Uu(0,t);if(t==this.size)return Uu(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let i=0,s=0;;i++){let a=this.child(i),l=s+a.nodeSize;if(l>=t)return l==t||n>0?Uu(i+1,l):Uu(i,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return J.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return J.empty;let n,i=0;for(let s=0;s<t.length;s++){let a=t[s];i+=a.nodeSize,s&&a.isText&&t[s-1].sameMarkup(a)?(n||(n=t.slice(0,s)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new J(n||t,i)}static from(t){if(!t)return J.empty;if(t instanceof J)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new J([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}J.empty=new J([],0);const zh={index:0,offset:0};function Uu(e,t){return zh.index=e,zh.offset=t,zh}function yc(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!yc(e[i],t[i]))return!1}else{for(let i in e)if(!(i in t)||!yc(e[i],t[i]))return!1;for(let i in t)if(!(i in e))return!1}return!0}let It=class _p{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,i=!1;for(let s=0;s<t.length;s++){let a=t[s];if(this.eq(a))return t;if(this.type.excludes(a.type))n||(n=t.slice(0,s));else{if(a.type.excludes(this.type))return t;!i&&a.type.rank>this.type.rank&&(n||(n=t.slice(0,s)),n.push(this),i=!0),n&&n.push(a)}}return n||(n=t.slice()),i||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&yc(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=t.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=i.create(n.attrs);return i.checkAttrs(s.attrs),s}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].eq(n[i]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return _p.none;if(t instanceof _p)return[t];let n=t.slice();return n.sort((i,s)=>i.type.rank-s.type.rank),n}};It.none=[];class vc extends Error{}class nt{constructor(t,n,i){this.content=t,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let i=wT(this.content,t+this.openStart,n);return i&&new nt(i,this.openStart,this.openEnd)}removeBetween(t,n){return new nt(MT(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return nt.empty;let i=n.openStart||0,s=n.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new nt(J.fromJSON(t,n.content),i,s)}static maxOpen(t,n=!0){let i=0,s=0;for(let a=t.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)i++;for(let a=t.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)s++;return new nt(t,i,s)}}nt.empty=new nt(J.empty,0,0);function MT(e,t,n){let{index:i,offset:s}=e.findIndex(t),a=e.maybeChild(i),{index:l,offset:c}=e.findIndex(n);if(s==t||a.isText){if(c!=n&&!e.child(l).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(i!=l)throw new RangeError("Removing non-flat range");return e.replaceChild(i,a.copy(MT(a.content,t-s-1,n-s-1)))}function wT(e,t,n,i){let{index:s,offset:a}=e.findIndex(t),l=e.maybeChild(s);if(a==t||l.isText)return e.cut(0,t).append(n).append(e.cut(t));let c=wT(l.content,t-a-1,n);return c&&e.replaceChild(s,l.copy(c))}function ZD(e,t,n){if(n.openStart>e.depth)throw new vc("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new vc("Inconsistent open depths");return kT(e,t,n,0)}function kT(e,t,n,i){let s=e.index(i),a=e.node(i);if(s==t.index(i)&&i<e.depth-n.openStart){let l=kT(e,t,n,i+1);return a.copy(a.content.replaceChild(s,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==i&&t.depth==i){let l=e.parent,c=l.content;return Qr(l,c.cut(0,e.parentOffset).append(n.content).append(c.cut(t.parentOffset)))}else{let{start:l,end:c}=QD(n,e);return Qr(a,OT(e,l,c,t,i))}else return Qr(a,bc(e,t,i))}function AT(e,t){if(!t.type.compatibleContent(e.type))throw new vc("Cannot join "+t.type.name+" onto "+e.type.name)}function zp(e,t,n){let i=e.node(n);return AT(i,t.node(n)),i}function Zr(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function La(e,t,n,i){let s=(t||e).node(n),a=0,l=t?t.index(n):s.childCount;e&&(a=e.index(n),e.depth>n?a++:e.textOffset&&(Zr(e.nodeAfter,i),a++));for(let c=a;c<l;c++)Zr(s.child(c),i);t&&t.depth==n&&t.textOffset&&Zr(t.nodeBefore,i)}function Qr(e,t){return e.type.checkContent(t),e.copy(t)}function OT(e,t,n,i,s){let a=e.depth>s&&zp(e,t,s+1),l=i.depth>s&&zp(n,i,s+1),c=[];return La(null,e,s,c),a&&l&&t.index(s)==n.index(s)?(AT(a,l),Zr(Qr(a,OT(e,t,n,i,s+1)),c)):(a&&Zr(Qr(a,bc(e,t,s+1)),c),La(t,n,s,c),l&&Zr(Qr(l,bc(n,i,s+1)),c)),La(i,null,s,c),new J(c)}function bc(e,t,n){let i=[];if(La(null,e,n,i),e.depth>n){let s=zp(e,t,n+1);Zr(Qr(s,bc(e,t,n+1)),i)}return La(t,null,n,i),new J(i)}function QD(e,t){let n=t.depth-e.openStart,s=t.node(n).copy(e.content);for(let a=n-1;a>=0;a--)s=t.node(a).copy(J.from(s));return{start:s.resolveNoCache(e.openStart+n),end:s.resolveNoCache(s.content.size-e.openEnd-n)}}class Qa{constructor(t,n,i){this.pos=t,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=t.child(n);return i?t.child(n).cut(i):s}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let i=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let a=0;a<t;a++)s+=i.child(a).nodeSize;return s}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return It.none;if(this.textOffset)return t.child(n).marks;let i=t.maybeChild(n-1),s=t.maybeChild(n);if(!i){let c=i;i=s,s=c}let a=i.marks;for(var l=0;l<a.length;l++)a[l].type.spec.inclusive===!1&&(!s||!a[l].isInSet(s.marks))&&(a=a[l--].removeFromSet(a));return a}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,s=t.parent.maybeChild(t.index());for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=this.end(i)&&(!n||n(this.node(i))))return new xc(this,t,i);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let i=[],s=0,a=n;for(let l=t;;){let{index:c,offset:d}=l.content.findIndex(a),h=a-d;if(i.push(l,c,s+d),!h||(l=l.child(c),l.isText))break;a=h-1,s+=d+1}return new Qa(n,i,a)}static resolveCached(t,n){let i=Yb.get(t);if(i)for(let a=0;a<i.elts.length;a++){let l=i.elts[a];if(l.pos==n)return l}else Yb.set(t,i=new WD);let s=i.elts[i.i]=Qa.resolve(t,n);return i.i=(i.i+1)%tN,s}}class WD{constructor(){this.elts=[],this.i=0}}const tN=12,Yb=new WeakMap;class xc{constructor(t,n,i){this.$from=t,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const eN=Object.create(null);let ar=class Lp{constructor(t,n,i,s=It.none){this.type=t,this.attrs=n,this.marks=s,this.content=i||J.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,i,s=0){this.content.nodesBetween(t,n,i,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,i,s){return this.content.textBetween(t,n,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,i){return this.type==t&&yc(this.attrs,n||t.defaultAttrs||eN)&&It.sameSet(this.marks,i||It.none)}copy(t=null){return t==this.content?this:new Lp(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Lp(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,i=!1){if(t==n)return nt.empty;let s=this.resolve(t),a=this.resolve(n),l=i?0:s.sharedDepth(n),c=s.start(l),h=s.node(l).content.cut(s.pos-c,a.pos-c);return new nt(h,s.depth-l,a.depth-l)}replace(t,n,i){return ZD(this.resolve(t),this.resolve(n),i)}nodeAt(t){for(let n=this;;){let{index:i,offset:s}=n.content.findIndex(t);if(n=n.maybeChild(i),!n)return null;if(s==t||n.isText)return n;t-=s+1}}childAfter(t){let{index:n,offset:i}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(t);if(i<t)return{node:this.content.child(n),index:n,offset:i};let s=this.content.child(n-1);return{node:s,index:n-1,offset:i-s.nodeSize}}resolve(t){return Qa.resolveCached(this,t)}resolveNoCache(t){return Qa.resolve(this,t)}rangeHasMark(t,n,i){let s=!1;return n>t&&this.nodesBetween(t,n,a=>(i.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),DT(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,i=J.empty,s=0,a=i.childCount){let l=this.contentMatchAt(t).matchFragment(i,s,a),c=l&&l.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let d=s;d<a;d++)if(!this.type.allowsMarks(i.child(d).marks))return!1;return!0}canReplaceWith(t,n,i,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(t).matchType(i),l=a&&a.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=It.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),t=i.addToSet(t)}if(!It.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,i)}let s=J.fromJSON(t,n.content),a=t.nodeType(n.type).create(n.attrs,s,i);return a.type.checkAttrs(a.attrs),a}};ar.prototype.text=void 0;class Sc extends ar{constructor(t,n,i,s){if(super(t,n,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):DT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Sc(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Sc(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function DT(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class is{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let i=new nN(t,n);if(i.next==null)return is.empty;let s=NT(i);i.next&&i.err("Unexpected trailing text");let a=uN(lN(s));return cN(a,i),a}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,i=t.childCount){let s=this;for(let a=n;s&&a<i;a++)s=s.matchType(t.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let i=0;i<t.next.length;i++)if(this.next[n].type==t.next[i].type)return!0;return!1}fillBefore(t,n=!1,i=0){let s=[this];function a(l,c){let d=l.matchFragment(t,i);if(d&&(!n||d.validEnd))return J.from(c.map(h=>h.createAndFill()));for(let h=0;h<l.next.length;h++){let{type:p,next:g}=l.next[h];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(g)==-1){s.push(g);let v=a(g,c.concat(p));if(v)return v}}return null}return a(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),a=s.match;if(a.matchType(t)){let l=[];for(let c=s;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<a.next.length;l++){let{type:c,next:d}=a.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!s.type||d.validEnd)&&(i.push({match:c.contentMatch,type:c,via:s}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(i){t.push(i);for(let s=0;s<i.next.length;s++)t.indexOf(i.next[s].next)==-1&&n(i.next[s].next)}return n(this),t.map((i,s)=>{let a=s+(i.validEnd?"*":" ")+" ";for(let l=0;l<i.next.length;l++)a+=(l?", ":"")+i.next[l].type.name+"->"+t.indexOf(i.next[l].next);return a}).join(`
`)}}is.empty=new is(!0);class nN{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function NT(e){let t=[];do t.push(iN(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function iN(e){let t=[];do t.push(rN(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function rN(e){let t=aN(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=sN(e,t);else break;return t}function Xb(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function sN(e,t){let n=Xb(e),i=n;return e.eat(",")&&(e.next!="}"?i=Xb(e):i=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:t}}function oN(e,t){let n=e.nodeTypes,i=n[t];if(i)return[i];let s=[];for(let a in n){let l=n[a];l.isInGroup(t)&&s.push(l)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function aN(e){if(e.eat("(")){let t=NT(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=oN(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function lN(e){let t=[[]];return s(a(e,0),n()),t;function n(){return t.push([])-1}function i(l,c,d){let h={term:d,to:c};return t[l].push(h),h}function s(l,c){l.forEach(d=>d.to=c)}function a(l,c){if(l.type=="choice")return l.exprs.reduce((d,h)=>d.concat(a(h,c)),[]);if(l.type=="seq")for(let d=0;;d++){let h=a(l.exprs[d],c);if(d==l.exprs.length-1)return h;s(h,c=n())}else if(l.type=="star"){let d=n();return i(c,d),s(a(l.expr,d),d),[i(d)]}else if(l.type=="plus"){let d=n();return s(a(l.expr,c),d),s(a(l.expr,d),d),[i(d)]}else{if(l.type=="opt")return[i(c)].concat(a(l.expr,c));if(l.type=="range"){let d=c;for(let h=0;h<l.min;h++){let p=n();s(a(l.expr,d),p),d=p}if(l.max==-1)s(a(l.expr,d),d);else for(let h=l.min;h<l.max;h++){let p=n();i(d,p),s(a(l.expr,d),p),d=p}return[i(d)]}else{if(l.type=="name")return[i(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function RT(e,t){return t-e}function Jb(e,t){let n=[];return i(t),n.sort(RT);function i(s){let a=e[s];if(a.length==1&&!a[0].term)return i(a[0].to);n.push(s);for(let l=0;l<a.length;l++){let{term:c,to:d}=a[l];!c&&n.indexOf(d)==-1&&i(d)}}}function uN(e){let t=Object.create(null);return n(Jb(e,0));function n(i){let s=[];i.forEach(l=>{e[l].forEach(({term:c,to:d})=>{if(!c)return;let h;for(let p=0;p<s.length;p++)s[p][0]==c&&(h=s[p][1]);Jb(e,d).forEach(p=>{h||s.push([c,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let a=t[i.join(",")]=new is(i.indexOf(e.length-1)>-1);for(let l=0;l<s.length;l++){let c=s[l][1].sort(RT);a.next.push({type:s[l][0],next:t[c.join(",")]||n(c)})}return a}}function cN(e,t){for(let n=0,i=[e];n<i.length;n++){let s=i[n],a=!s.validEnd,l=[];for(let c=0;c<s.next.length;c++){let{type:d,next:h}=s.next[c];l.push(d.name),a&&!(d.isText||d.hasRequiredAttrs())&&(a=!1),i.indexOf(h)==-1&&i.push(h)}a&&t.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function jT(e){let t=Object.create(null);for(let n in e){let i=e[n];if(!i.hasDefault)return null;t[n]=i.default}return t}function _T(e,t){let n=Object.create(null);for(let i in e){let s=t&&t[i];if(s===void 0){let a=e[i];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=s}return n}function zT(e,t,n,i){for(let s in t)if(!(s in e))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in e){let a=e[s];a.validate&&a.validate(t[s])}}function LT(e,t){let n=Object.create(null);if(t)for(let i in t)n[i]=new dN(e,i,t[i]);return n}let Zb=class BT{constructor(t,n,i){this.name=t,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=LT(t,i.attrs),this.defaultAttrs=jT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==is.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:_T(this.attrs,t)}create(t=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ar(this,this.computeAttrs(t),J.from(n),It.setFrom(i))}createChecked(t=null,n,i){return n=J.from(n),this.checkContent(n),new ar(this,this.computeAttrs(t),n,It.setFrom(i))}createAndFill(t=null,n,i){if(t=this.computeAttrs(t),n=J.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let s=this.contentMatch.matchFragment(n),a=s&&s.fillBefore(J.empty,!0);return a?new ar(this,t,n.append(a),It.setFrom(i)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let i=0;i<t.childCount;i++)if(!this.allowsMarks(t.child(i).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){zT(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?n&&n.push(t[i]):n||(n=t.slice(0,i));return n?n.length?n:It.none:t}static compile(t,n){let i=Object.create(null);t.forEach((a,l)=>i[a]=new BT(a,n,l));let s=n.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let a in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function fN(e,t,n){let i=n.split("|");return s=>{let a=s===null?"null":typeof s;if(i.indexOf(a)<0)throw new RangeError(`Expected value of type ${i} for attribute ${t} on type ${e}, got ${a}`)}}class dN{constructor(t,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?fN(t,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class Fc{constructor(t,n,i,s){this.name=t,this.rank=n,this.schema=i,this.spec=s,this.attrs=LT(t,s.attrs),this.excluded=null;let a=jT(this.attrs);this.instance=a?new It(this,a):null}create(t=null){return!t&&this.instance?this.instance:new It(this,_T(this.attrs,t))}static compile(t,n){let i=Object.create(null),s=0;return t.forEach((a,l)=>i[a]=new Fc(a,s++,n,l)),i}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){zT(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class VT{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in t)n[s]=t[s];n.nodes=Ee.from(t.nodes),n.marks=Ee.from(t.marks||{}),this.nodes=Zb.compile(this.spec.nodes,this),this.marks=Fc.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],l=a.spec.content||"",c=a.spec.marks;if(a.contentMatch=i[l]||(i[l]=is.parse(l,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=c=="_"?null:c?Qb(this,c.split(" ")):c==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],l=a.spec.excludes;a.excluded=l==null?[a]:l==""?[]:Qb(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,i,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Zb){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,i,s)}text(t,n){let i=this.nodes.text;return new Sc(i,i.defaultAttrs,t,It.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return ar.fromJSON(this,t)}markFromJSON(t){return It.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function Qb(e,t){let n=[];for(let i=0;i<t.length;i++){let s=t[i],a=e.marks[s],l=a;if(a)n.push(a);else for(let c in e.marks){let d=e.marks[c];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return n}function hN(e){return e.tag!=null}function pN(e){return e.style!=null}class lr{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(s=>{if(hN(s))this.tags.push(s);else if(pN(s)){let a=/[^=]*/.exec(s.style)[0];i.indexOf(a)<0&&i.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=t.nodes[s.node];return a.contentMatch.matchType(a)})}parse(t,n={}){let i=new tx(this,n,!1);return i.addAll(t,It.none,n.from,n.to),i.finish()}parseSlice(t,n={}){let i=new tx(this,n,!0);return i.addAll(t,It.none,n.from,n.to),nt.maxOpen(i.finish())}matchTag(t,n,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(yN(t,a.tag)&&(a.namespace===void 0||t.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let l=a.getAttrs(t);if(l===!1)continue;a.attrs=l||void 0}return a}}}matchStyle(t,n,i,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let l=this.styles[a],c=l.style;if(!(c.indexOf(t)!=0||l.context&&!i.matchesContext(l.context)||c.length>t.length&&(c.charCodeAt(t.length)!=61||c.slice(t.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(t){let n=[];function i(s){let a=s.priority==null?50:s.priority,l=0;for(;l<n.length;l++){let c=n[l];if((c.priority==null?50:c.priority)<a)break}n.splice(l,0,s)}for(let s in t.marks){let a=t.marks[s].spec.parseDOM;a&&a.forEach(l=>{i(l=ex(l)),l.mark||l.ignore||l.clearMark||(l.mark=s)})}for(let s in t.nodes){let a=t.nodes[s].spec.parseDOM;a&&a.forEach(l=>{i(l=ex(l)),l.node||l.ignore||l.mark||(l.node=s)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new lr(t,lr.schemaRules(t)))}}const PT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},mN={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},HT={ol:!0,ul:!0},Wa=1,Bp=2,tc=4;function Wb(e,t,n){return t!=null?(t?Wa:0)|(t==="full"?Bp:0):e&&e.whitespace=="pre"?Wa|Bp:n&-5}class Iu{constructor(t,n,i,s,a,l){this.type=t,this.attrs=n,this.marks=i,this.solid=s,this.options=l,this.content=[],this.activeMarks=It.none,this.match=a||(l&tc?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(J.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(t.type))?(this.match=i,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Wa)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let a=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let n=J.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!PT.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class tx{constructor(t,n,i){this.parser=t,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let s=n.topNode,a,l=Wb(null,n.preserveWhitespace,0)|(i?tc:0);s?a=new Iu(s.type,s.attrs,It.none,!0,n.topMatch||s.type.contentMatch,l):i?a=new Iu(null,null,It.none,!0,null,l):a=new Iu(t.schema.topNodeType,null,It.none,!0,null,l),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let i=t.nodeValue,s=this.top,a=s.options&Bp?"full":this.localPreserveWS||(s.options&Wa)>0;if(a==="full"||s.inlineContext(t)||/[^ \t\r\n\u000c]/.test(i)){if(a)a!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],c=t.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n),this.findInText(t)}else this.findInside(t)}addElement(t,n,i){let s=this.localPreserveWS,a=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let l=t.nodeName.toLowerCase(),c;HT.hasOwnProperty(l)&&this.parser.normalizeLists&&gN(t);let d=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(c=this.parser.matchTag(t,this,i));t:if(d?d.ignore:mN.hasOwnProperty(l))this.findInside(t),this.ignoreFallback(t,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(t=d.skip);let h,p=this.needsBlock;if(PT.hasOwnProperty(l))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),h=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break t}let g=d&&d.skip?n:this.readStyles(t,n);g&&this.addAll(t,g),h&&this.sync(a),this.needsBlock=p}else{let h=this.readStyles(t,n);h&&this.addElementByRule(t,d,h,d.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(t,n){let i=t.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],l=i.getPropertyValue(a);if(l)for(let c=void 0;;){let d=this.parser.matchStyle(a,l,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(h=>!d.clearMark(h)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return n}addElementByRule(t,n,i,s){let a,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),i)||this.leafFallback(t,i);else{let d=this.enter(l,n.attrs||null,i,n.preserveWhitespace);d&&(a=!0,i=d)}else{let d=this.parser.schema.marks[n.mark];i=i.concat(d.create(n.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(t);else if(s)this.addElement(t,i,s);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(d=>this.insertNode(d,i));else{let d=t;typeof n.contentElement=="string"?d=t.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(t):n.contentElement&&(d=n.contentElement),this.findAround(t,d,!0),this.addAll(d,i),this.findAround(t,d,!1)}a&&this.sync(c)&&this.open--}addAll(t,n,i,s){let a=i||0;for(let l=i?t.childNodes[i]:t.firstChild,c=s==null?null:t.childNodes[s];l!=c;l=l.nextSibling,++a)this.findAtPoint(t,a),this.addDOM(l,n);this.findAtPoint(t,a)}findPlace(t,n){let i,s;for(let a=this.open;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(t);if(c&&(!i||i.length>c.length)&&(i=c,s=l,!c.length)||l.solid)break}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(t,n){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(t,n);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let a=It.none;for(let l of i.concat(t.marks))(s.type?s.type.allowsMarkType(l.type):nx(l.type,t.type))&&(a=l.addToSet(a));return s.content.push(t.mark(a)),!0}return!1}enter(t,n,i,s){let a=this.findPlace(t.create(n),i);return a&&(a=this.enterInner(t,n,i,!0,s)),a}enterInner(t,n,i,s=!1,a){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(t);let c=Wb(t,a,l.options);l.options&tc&&l.content.length==0&&(c|=tc);let d=It.none;return i=i.filter(h=>(l.type?l.type.allowsMarkType(h.type):nx(h.type,t))?(d=h.addToSet(d),!1):!0),this.nodes.push(new Iu(t,n,d,s,null,c)),this.open++,i}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Wa)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let s=i.length-1;s>=0;s--)t+=i[s].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,i){if(t!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),a=-(i?i.depth+1:0)+(s?0:1),l=(c,d)=>{for(;c>=0;c--){let h=n[c];if(h==""){if(c==n.length-1||c==0)continue;for(;d>=a;d--)if(l(c-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:i&&d>=a?i.node(d-a).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function gN(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let i=t.nodeType==1?t.nodeName.toLowerCase():null;i&&HT.hasOwnProperty(i)&&n?(n.appendChild(t),t=n):i=="li"?n=t:i&&(n=null)}}function yN(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function ex(e){let t={};for(let n in e)t[n]=e[n];return t}function nx(e,t){let n=t.schema.nodes;for(let i in n){let s=n[i];if(!s.allowsMarkType(e))continue;let a=[],l=c=>{a.push(c);for(let d=0;d<c.edgeCount;d++){let{type:h,next:p}=c.edge(d);if(h==t||a.indexOf(p)<0&&l(p))return!0}};if(l(s.contentMatch))return!0}}class us{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},i){i||(i=Lh(n).createDocumentFragment());let s=i,a=[];return t.forEach(l=>{if(a.length||l.marks.length){let c=0,d=0;for(;c<a.length&&d<l.marks.length;){let h=l.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(a[c][0])||h.type.spec.spanning===!1)break;c++,d++}for(;c<a.length;)s=a.pop()[1];for(;d<l.marks.length;){let h=l.marks[d++],p=this.serializeMark(h,l.isInline,n);p&&(a.push([h,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(l,n))}),i}serializeNodeInner(t,n){let{dom:i,contentDOM:s}=ec(Lh(n),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,s)}return i}serializeNode(t,n={}){let i=this.serializeNodeInner(t,n);for(let s=t.marks.length-1;s>=0;s--){let a=this.serializeMark(t.marks[s],t.isInline,n);a&&((a.contentDOM||a.dom).appendChild(i),i=a.dom)}return i}serializeMark(t,n,i={}){let s=this.marks[t.type.name];return s&&ec(Lh(i),s(t,n),null,t.attrs)}static renderSpec(t,n,i=null,s){return ec(t,n,i,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new us(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=ix(t.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(t){return ix(t.marks)}}function ix(e){let t={};for(let n in e){let i=e[n].spec.toDOM;i&&(t[n]=i)}return t}function Lh(e){return e.document||window.document}const rx=new WeakMap;function vN(e){let t=rx.get(e);return t===void 0&&rx.set(e,t=bN(e)),t}function bN(e){let t=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")t||(t=[]),t.push(i);else for(let s=0;s<i.length;s++)n(i[s]);else for(let s in i)n(i[s])}return n(e),t}function ec(e,t,n,i){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(a=vN(i))&&a.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=s.indexOf(" ");l>0&&(n=s.slice(0,l),s=s.slice(l+1));let c,d=n?e.createElementNS(n,s):e.createElement(s),h=t[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let g in h)if(h[g]!=null){let v=g.indexOf(" ");v>0?d.setAttributeNS(g.slice(0,v),g.slice(v+1),h[g]):d.setAttribute(g,h[g])}}for(let g=p;g<t.length;g++){let v=t[g];if(v===0){if(g<t.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:b,contentDOM:x}=ec(e,v,n,i);if(d.appendChild(b),x){if(c)throw new RangeError("Multiple content holes");c=x}}}return{dom:d,contentDOM:c}}const UT=65535,IT=Math.pow(2,16);function xN(e,t){return e+t*IT}function sx(e){return e&UT}function SN(e){return(e-(e&UT))/IT}const FT=1,qT=2,nc=4,$T=8;class Vp{constructor(t,n,i){this.pos=t,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&$T)>0}get deletedBefore(){return(this.delInfo&(FT|nc))>0}get deletedAfter(){return(this.delInfo&(qT|nc))>0}get deletedAcross(){return(this.delInfo&nc)>0}}class fn{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&fn.empty)return fn.empty}recover(t){let n=0,i=sx(t);if(!this.inverted)for(let s=0;s<i;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+n+SN(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,i){let s=0,a=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>t)break;let h=this.ranges[c+a],p=this.ranges[c+l],g=d+h;if(t<=g){let v=h?t==d?-1:t==g?1:n:n,b=d+s+(v<0?0:p);if(i)return b;let x=t==(n<0?d:g)?null:xN(c/3,t-d),E=t==d?qT:t==g?FT:nc;return(n<0?t!=d:t!=g)&&(E|=$T),new Vp(b,E,x)}s+=p-h}return i?t+s:new Vp(t+s,0,null)}touches(t,n){let i=0,s=sx(n),a=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?i:0);if(d>t)break;let h=this.ranges[c+a],p=d+h;if(t<=p&&c==s*3)return!0;i+=this.ranges[c+l]-h}return!1}forEach(t){let n=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let l=this.ranges[s],c=l-(this.inverted?a:0),d=l+(this.inverted?0:a),h=this.ranges[s+n],p=this.ranges[s+i];t(c,c+h,d,d+p),a+=p-h}}invert(){return new fn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?fn.empty:new fn(t<0?[0,-t,0]:[0,0,t])}}fn.empty=new fn([]);class tl{constructor(t,n,i=0,s=t?t.length:0){this.mirror=n,this.from=i,this.to=s,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new tl(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,i=this._maps.length;n<t._maps.length;n++){let s=t.getMirror(n);this.appendMap(t._maps[n],s!=null&&s<n?i+s:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,i=this._maps.length+t._maps.length;n>=0;n--){let s=t.getMirror(n);this.appendMap(t._maps[n].invert(),s!=null&&s>n?i-s-1:void 0)}}invert(){let t=new tl;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let i=this.from;i<this.to;i++)t=this._maps[i].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,i){let s=0;for(let a=this.from;a<this.to;a++){let l=this._maps[a],c=l.mapResult(t,n);if(c.recover!=null){let d=this.getMirror(a);if(d!=null&&d>a&&d<this.to){a=d,t=this._maps[d].recover(c.recover);continue}}s|=c.delInfo,t=c.pos}return i?t:new Vp(t,s,null)}}const Bh=Object.create(null);class Be{getMap(){return fn.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Bh[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(t,n)}static jsonID(t,n){if(t in Bh)throw new RangeError("Duplicate use of step JSON ID "+t);return Bh[t]=n,n.prototype.jsonID=t,n}}class le{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new le(t,null)}static fail(t){return new le(null,t)}static fromReplace(t,n,i,s){try{return le.ok(t.replace(n,i,s))}catch(a){if(a instanceof vc)return le.fail(a.message);throw a}}}function Gm(e,t,n){let i=[];for(let s=0;s<e.childCount;s++){let a=e.child(s);a.content.size&&(a=a.copy(Gm(a.content,t,a))),a.isInline&&(a=t(a,n,s)),i.push(a)}return J.fromArray(i)}class rr extends Be{constructor(t,n,i){super(),this.from=t,this.to=n,this.mark=i}apply(t){let n=t.slice(this.from,this.to),i=t.resolve(this.from),s=i.node(i.sharedDepth(this.to)),a=new nt(Gm(n.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),s),n.openStart,n.openEnd);return le.fromReplace(t,this.from,this.to,a)}invert(){return new Gn(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new rr(n.pos,i.pos,this.mark)}merge(t){return t instanceof rr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new rr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new rr(n.from,n.to,t.markFromJSON(n.mark))}}Be.jsonID("addMark",rr);class Gn extends Be{constructor(t,n,i){super(),this.from=t,this.to=n,this.mark=i}apply(t){let n=t.slice(this.from,this.to),i=new nt(Gm(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),n.openStart,n.openEnd);return le.fromReplace(t,this.from,this.to,i)}invert(){return new rr(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Gn(n.pos,i.pos,this.mark)}merge(t){return t instanceof Gn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Gn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Gn(n.from,n.to,t.markFromJSON(n.mark))}}Be.jsonID("removeMark",Gn);class sr extends Be{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return le.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return le.fromReplace(t,this.pos,this.pos+1,new nt(J.from(i),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(i))return new sr(this.pos,n.marks[s]);return new sr(this.pos,this.mark)}}return new co(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new sr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new sr(n.pos,t.markFromJSON(n.mark))}}Be.jsonID("addNodeMark",sr);class co extends Be{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return le.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return le.fromReplace(t,this.pos,this.pos+1,new nt(J.from(i),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new sr(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new co(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new co(n.pos,t.markFromJSON(n.mark))}}Be.jsonID("removeNodeMark",co);class ge extends Be{constructor(t,n,i,s=!1){super(),this.from=t,this.to=n,this.slice=i,this.structure=s}apply(t){return this.structure&&Pp(t,this.from,this.to)?le.fail("Structure replace would overwrite content"):le.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new fn([this.from,this.to-this.from,this.slice.size])}invert(t){return new ge(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new ge(n.pos,Math.max(n.pos,i.pos),this.slice)}merge(t){if(!(t instanceof ge)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?nt.empty:new nt(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ge(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?nt.empty:new nt(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ge(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ge(n.from,n.to,nt.fromJSON(t,n.slice),!!n.structure)}}Be.jsonID("replace",ge);class ye extends Be{constructor(t,n,i,s,a,l,c=!1){super(),this.from=t,this.to=n,this.gapFrom=i,this.gapTo=s,this.slice=a,this.insert=l,this.structure=c}apply(t){if(this.structure&&(Pp(t,this.from,this.gapFrom)||Pp(t,this.gapTo,this.to)))return le.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return le.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?le.fromReplace(t,this.from,this.to,i):le.fail("Content does not fit in gap")}getMap(){return new fn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new ye(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),a=this.to==this.gapTo?i.pos:t.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||s<n.pos||a>i.pos?null:new ye(n.pos,i.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ye(n.from,n.to,n.gapFrom,n.gapTo,nt.fromJSON(t,n.slice),n.insert,!!n.structure)}}Be.jsonID("replaceAround",ye);function Pp(e,t,n){let i=e.resolve(t),s=n-t,a=i.depth;for(;s>0&&a>0&&i.indexAfter(a)==i.node(a).childCount;)a--,s--;if(s>0){let l=i.node(a).maybeChild(i.indexAfter(a));for(;s>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,s--}}return!1}function TN(e,t,n,i){let s=[],a=[],l,c;e.doc.nodesBetween(t,n,(d,h,p)=>{if(!d.isInline)return;let g=d.marks;if(!i.isInSet(g)&&p.type.allowsMarkType(i.type)){let v=Math.max(h,t),b=Math.min(h+d.nodeSize,n),x=i.addToSet(g);for(let E=0;E<g.length;E++)g[E].isInSet(x)||(l&&l.to==v&&l.mark.eq(g[E])?l.to=b:s.push(l=new Gn(v,b,g[E])));c&&c.to==v?c.to=b:a.push(c=new rr(v,b,i))}}),s.forEach(d=>e.step(d)),a.forEach(d=>e.step(d))}function EN(e,t,n,i){let s=[],a=0;e.doc.nodesBetween(t,n,(l,c)=>{if(!l.isInline)return;a++;let d=null;if(i instanceof Fc){let h=l.marks,p;for(;p=i.isInSet(h);)(d||(d=[])).push(p),h=p.removeFromSet(h)}else i?i.isInSet(l.marks)&&(d=[i]):d=l.marks;if(d&&d.length){let h=Math.min(c+l.nodeSize,n);for(let p=0;p<d.length;p++){let g=d[p],v;for(let b=0;b<s.length;b++){let x=s[b];x.step==a-1&&g.eq(s[b].style)&&(v=x)}v?(v.to=h,v.step=a):s.push({style:g,from:Math.max(c,t),to:h,step:a})}}}),s.forEach(l=>e.step(new Gn(l.from,l.to,l.style)))}function Km(e,t,n,i=n.contentMatch,s=!0){let a=e.doc.nodeAt(t),l=[],c=t+1;for(let d=0;d<a.childCount;d++){let h=a.child(d),p=c+h.nodeSize,g=i.matchType(h.type);if(!g)l.push(new ge(c,p,nt.empty));else{i=g;for(let v=0;v<h.marks.length;v++)n.allowsMarkType(h.marks[v].type)||e.step(new Gn(c,p,h.marks[v]));if(s&&h.isText&&n.whitespace!="pre"){let v,b=/\r?\n|\r/g,x;for(;v=b.exec(h.text);)x||(x=new nt(J.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),l.push(new ge(c+v.index,c+v.index+v[0].length,x))}}c=p}if(!i.validEnd){let d=i.fillBefore(J.empty,!0);e.replace(c,c,new nt(d,0,0))}for(let d=l.length-1;d>=0;d--)e.step(l[d])}function CN(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Eo(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let i=e.depth;;--i){let s=e.$from.node(i),a=e.$from.index(i),l=e.$to.indexAfter(i);if(i<e.depth&&s.canReplace(a,l,n))return i;if(i==0||s.type.spec.isolating||!CN(s,a,l))break}return null}function MN(e,t,n){let{$from:i,$to:s,depth:a}=t,l=i.before(a+1),c=s.after(a+1),d=l,h=c,p=J.empty,g=0;for(let x=a,E=!1;x>n;x--)E||i.index(x)>0?(E=!0,p=J.from(i.node(x).copy(p)),g++):d--;let v=J.empty,b=0;for(let x=a,E=!1;x>n;x--)E||s.after(x+1)<s.end(x)?(E=!0,v=J.from(s.node(x).copy(v)),b++):h++;e.step(new ye(d,h,l,c,new nt(p.append(v),g,b),p.size-g,!0))}function Ym(e,t,n=null,i=e){let s=wN(e,t),a=s&&kN(i,t);return a?s.map(ox).concat({type:t,attrs:n}).concat(a.map(ox)):null}function ox(e){return{type:e,attrs:null}}function wN(e,t){let{parent:n,startIndex:i,endIndex:s}=e,a=n.contentMatchAt(i).findWrapping(t);if(!a)return null;let l=a.length?a[0]:t;return n.canReplaceWith(i,s,l)?a:null}function kN(e,t){let{parent:n,startIndex:i,endIndex:s}=e,a=n.child(i),l=t.contentMatch.findWrapping(a.type);if(!l)return null;let d=(l.length?l[l.length-1]:t).contentMatch;for(let h=i;d&&h<s;h++)d=d.matchType(n.child(h).type);return!d||!d.validEnd?null:l}function AN(e,t,n){let i=J.empty;for(let l=n.length-1;l>=0;l--){if(i.size){let c=n[l].type.contentMatch.matchFragment(i);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=J.from(n[l].type.create(n[l].attrs,i))}let s=t.start,a=t.end;e.step(new ye(s,a,s,a,new nt(i,0,0),n.length,!0))}function ON(e,t,n,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=e.steps.length;e.doc.nodesBetween(t,n,(l,c)=>{let d=typeof s=="function"?s(l):s;if(l.isTextblock&&!l.hasMarkup(i,d)&&DN(e.doc,e.mapping.slice(a).map(c),i)){let h=null;if(i.schema.linebreakReplacement){let b=i.whitespace=="pre",x=!!i.contentMatch.matchType(i.schema.linebreakReplacement);b&&!x?h=!1:!b&&x&&(h=!0)}h===!1&&KT(e,l,c,a),Km(e,e.mapping.slice(a).map(c,1),i,void 0,h===null);let p=e.mapping.slice(a),g=p.map(c,1),v=p.map(c+l.nodeSize,1);return e.step(new ye(g,v,g+1,v-1,new nt(J.from(i.create(d,null,l.marks)),0,0),1,!0)),h===!0&&GT(e,l,c,a),!1}})}function GT(e,t,n,i){t.forEach((s,a)=>{if(s.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(s.text);){let d=e.mapping.slice(i).map(n+1+a+l.index);e.replaceWith(d,d+1,t.type.schema.linebreakReplacement.create())}}})}function KT(e,t,n,i){t.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let l=e.mapping.slice(i).map(n+1+a);e.replaceWith(l,l+1,t.type.schema.text(`
`))}})}function DN(e,t,n){let i=e.resolve(t),s=i.index();return i.parent.canReplaceWith(s,s+1,n)}function NN(e,t,n,i,s){let a=e.doc.nodeAt(t);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let l=n.create(i,null,s||a.marks);if(a.isLeaf)return e.replaceWith(t,t+a.nodeSize,l);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new ye(t,t+a.nodeSize,t+1,t+a.nodeSize-1,new nt(J.from(l),0,0),1,!0))}function Ei(e,t,n=1,i){let s=e.resolve(t),a=s.depth-n,l=i&&i[i.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!l.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,p=n-2;h>a;h--,p--){let g=s.node(h),v=s.index(h);if(g.type.spec.isolating)return!1;let b=g.content.cutByIndex(v,g.childCount),x=i&&i[p+1];x&&(b=b.replaceChild(0,x.type.create(x.attrs)));let E=i&&i[p]||g;if(!g.canReplace(v+1,g.childCount)||!E.type.validContent(b))return!1}let c=s.indexAfter(a),d=i&&i[0];return s.node(a).canReplaceWith(c,c,d?d.type:s.node(a+1).type)}function RN(e,t,n=1,i){let s=e.doc.resolve(t),a=J.empty,l=J.empty;for(let c=s.depth,d=s.depth-n,h=n-1;c>d;c--,h--){a=J.from(s.node(c).copy(a));let p=i&&i[h];l=J.from(p?p.type.create(p.attrs,l):s.node(c).copy(l))}e.step(new ge(t,t,new nt(a.append(l),n,n),!0))}function vr(e,t){let n=e.resolve(t),i=n.index();return YT(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function jN(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:i}=e.type.schema;for(let s=0;s<t.childCount;s++){let a=t.child(s),l=a.type==i?e.type.schema.nodes.text:a.type;if(n=n.matchType(l),!n||!e.type.allowsMarks(a.marks))return!1}return n.validEnd}function YT(e,t){return!!(e&&t&&!e.isLeaf&&jN(e,t))}function qc(e,t,n=-1){let i=e.resolve(t);for(let s=i.depth;;s--){let a,l,c=i.index(s);if(s==i.depth?(a=i.nodeBefore,l=i.nodeAfter):n>0?(a=i.node(s+1),c++,l=i.node(s).maybeChild(c)):(a=i.node(s).maybeChild(c-1),l=i.node(s+1)),a&&!a.isTextblock&&YT(a,l)&&i.node(s).canReplace(c,c+1))return t;if(s==0)break;t=n<0?i.before(s):i.after(s)}}function _N(e,t,n){let i=null,{linebreakReplacement:s}=e.doc.type.schema,a=e.doc.resolve(t-n),l=a.node().type;if(s&&l.inlineContent){let p=l.whitespace=="pre",g=!!l.contentMatch.matchType(s);p&&!g?i=!1:!p&&g&&(i=!0)}let c=e.steps.length;if(i===!1){let p=e.doc.resolve(t+n);KT(e,p.node(),p.before(),c)}l.inlineContent&&Km(e,t+n-1,l,a.node().contentMatchAt(a.index()),i==null);let d=e.mapping.slice(c),h=d.map(t-n);if(e.step(new ge(h,d.map(t+n,-1),nt.empty,!0)),i===!0){let p=e.doc.resolve(h);GT(e,p.node(),p.before(),e.steps.length)}return e}function zN(e,t,n){let i=e.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),n))return t;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let a=i.index(s);if(i.node(s).canReplaceWith(a,a,n))return i.before(s+1);if(a>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let a=i.indexAfter(s);if(i.node(s).canReplaceWith(a,a,n))return i.after(s+1);if(a<i.node(s).childCount)return null}return null}function XT(e,t,n){let i=e.resolve(t);if(!n.content.size)return t;let s=n.content;for(let a=0;a<n.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let l=i.depth;l>=0;l--){let c=l==i.depth?0:i.pos<=(i.start(l+1)+i.end(l+1))/2?-1:1,d=i.index(l)+(c>0?1:0),h=i.node(l),p=!1;if(a==1)p=h.canReplace(d,d,s);else{let g=h.contentMatchAt(d).findWrapping(s.firstChild.type);p=g&&h.canReplaceWith(d,d,g[0])}if(p)return c==0?i.pos:c<0?i.before(l+1):i.after(l+1)}return null}function $c(e,t,n=t,i=nt.empty){if(t==n&&!i.size)return null;let s=e.resolve(t),a=e.resolve(n);return JT(s,a,i)?new ge(t,n,i):new LN(s,a,i).fit()}function JT(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class LN{constructor(t,n,i){this.$from=t,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=J.empty;for(let s=0;s<=t.depth;s++){let a=t.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=J.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(t<0?this.$to:i.doc.resolve(t));if(!s)return null;let a=this.placed,l=i.depth,c=s.depth;for(;l&&c&&a.childCount==1;)a=a.firstChild.content,l--,c--;let d=new nt(a,l,c);return t>-1?new ye(i.pos,t,this.$to.pos,this.$to.end(),d,n):d.size||i.pos!=this.$to.pos?new ge(i.pos,s.pos,d):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<t;i++){let a=n.firstChild;if(n.childCount>1&&(s=0),a.type.spec.isolating&&s<=i){t=i;break}n=a.content}for(let n=1;n<=2;n++)for(let i=n==1?t:this.unplaced.openStart;i>=0;i--){let s,a=null;i?(a=Vh(this.unplaced.content,i-1).firstChild,s=a.content):s=this.unplaced.content;let l=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:h}=this.frontier[c],p,g=null;if(n==1&&(l?h.matchType(l.type)||(g=h.fillBefore(J.from(l),!1)):a&&d.compatibleContent(a.type)))return{sliceDepth:i,frontierDepth:c,parent:a,inject:g};if(n==2&&l&&(p=h.findWrapping(l.type)))return{sliceDepth:i,frontierDepth:c,parent:a,wrap:p};if(a&&h.matchType(a.type))break}}}openMore(){let{content:t,openStart:n,openEnd:i}=this.unplaced,s=Vh(t,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new nt(t,n+1,Math.max(i,s.size+n>=t.size-i?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:i}=this.unplaced,s=Vh(t,n);if(s.childCount<=1&&n>0){let a=t.size-n<=n+s.size;this.unplaced=new nt(Oa(t,n-1,1),n-1,a?n-1:i)}else this.unplaced=new nt(Oa(t,n,1),n,i)}placeNodes({sliceDepth:t,frontierDepth:n,parent:i,inject:s,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let E=0;E<a.length;E++)this.openFrontierNode(a[E]);let l=this.unplaced,c=i?i.content:l.content,d=l.openStart-t,h=0,p=[],{match:g,type:v}=this.frontier[n];if(s){for(let E=0;E<s.childCount;E++)p.push(s.child(E));g=g.matchFragment(s)}let b=c.size+t-(l.content.size-l.openEnd);for(;h<c.childCount;){let E=c.child(h),C=g.matchType(E.type);if(!C)break;h++,(h>1||d==0||E.content.size)&&(g=C,p.push(ZT(E.mark(v.allowedMarks(E.marks)),h==1?d:0,h==c.childCount?b:-1)))}let x=h==c.childCount;x||(b=-1),this.placed=Da(this.placed,n,J.from(p)),this.frontier[n].match=g,x&&b<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,C=c;E<b;E++){let w=C.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),C=w.content}this.unplaced=x?t==0?nt.empty:new nt(Oa(l.content,t-1,1),t-1,b<0?l.openEnd:t-1):new nt(Oa(l.content,t,h),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Ph(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(t){t:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:i,type:s}=this.frontier[n],a=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),l=Ph(t,n,s,i,a);if(l){for(let c=n-1;c>=0;c--){let{match:d,type:h}=this.frontier[c],p=Ph(t,c,h,d,!0);if(!p||p.childCount)continue t}return{depth:n,fit:l,move:a?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Da(this.placed,n.depth,n.fit)),t=n.move;for(let i=n.depth+1;i<=t.depth;i++){let s=t.node(i),a=s.type.contentMatch.fillBefore(s.content,!0,t.index(i));this.openFrontierNode(s.type,s.attrs,a)}return t}openFrontierNode(t,n=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=Da(this.placed,this.depth,J.from(t.create(n,i))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(J.empty,!0);n.childCount&&(this.placed=Da(this.placed,this.frontier.length,n))}}function Oa(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Oa(e.firstChild.content,t-1,n)))}function Da(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Da(e.lastChild.content,t-1,n)))}function Vh(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function ZT(e,t,n){if(t<=0)return e;let i=e.content;return t>1&&(i=i.replaceChild(0,ZT(i.firstChild,t-1,i.childCount==1?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(J.empty,!0)))),e.copy(i)}function Ph(e,t,n,i,s){let a=e.node(t),l=s?e.indexAfter(t):e.index(t);if(l==a.childCount&&!n.compatibleContent(a.type))return null;let c=i.fillBefore(a.content,!0,l);return c&&!BN(n,a.content,l)?c:null}function BN(e,t,n){for(let i=n;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!0;return!1}function VN(e){return e.spec.defining||e.spec.definingForContent}function PN(e,t,n,i){if(!i.size)return e.deleteRange(t,n);let s=e.doc.resolve(t),a=e.doc.resolve(n);if(JT(s,a,i))return e.step(new ge(t,n,i));let l=WT(s,e.doc.resolve(n));l[l.length-1]==0&&l.pop();let c=-(s.depth+1);l.unshift(c);for(let v=s.depth,b=s.pos-1;v>0;v--,b--){let x=s.node(v).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;l.indexOf(v)>-1?c=v:s.before(v)==b&&l.splice(1,0,-v)}let d=l.indexOf(c),h=[],p=i.openStart;for(let v=i.content,b=0;;b++){let x=v.firstChild;if(h.push(x),b==i.openStart)break;v=x.content}for(let v=p-1;v>=0;v--){let b=h[v],x=VN(b.type);if(x&&!b.sameMarkup(s.node(Math.abs(c)-1)))p=v;else if(x||!b.type.isTextblock)break}for(let v=i.openStart;v>=0;v--){let b=(v+p+1)%(i.openStart+1),x=h[b];if(x)for(let E=0;E<l.length;E++){let C=l[(E+d)%l.length],w=!0;C<0&&(w=!1,C=-C);let O=s.node(C-1),A=s.index(C-1);if(O.canReplaceWith(A,A,x.type,x.marks))return e.replace(s.before(C),w?a.after(C):n,new nt(QT(i.content,0,i.openStart,b),b,i.openEnd))}}let g=e.steps.length;for(let v=l.length-1;v>=0&&(e.replace(t,n,i),!(e.steps.length>g));v--){let b=l[v];b<0||(t=s.before(b),n=a.after(b))}}function QT(e,t,n,i,s){if(t<n){let a=e.firstChild;e=e.replaceChild(0,a.copy(QT(a.content,t+1,n,i,a)))}if(t>i){let a=s.contentMatchAt(0),l=a.fillBefore(e).append(e);e=l.append(a.matchFragment(l).fillBefore(J.empty,!0))}return e}function HN(e,t,n,i){if(!i.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let s=zN(e.doc,t,i.type);s!=null&&(t=n=s)}e.replaceRange(t,n,new nt(J.from(i),0,0))}function UN(e,t,n){let i=e.doc.resolve(t),s=e.doc.resolve(n),a=WT(i,s);for(let l=0;l<a.length;l++){let c=a[l],d=l==a.length-1;if(d&&c==0||i.node(c).type.contentMatch.validEnd)return e.delete(i.start(c),s.end(c));if(c>0&&(d||i.node(c-1).canReplace(i.index(c-1),s.indexAfter(c-1))))return e.delete(i.before(c),s.after(c))}for(let l=1;l<=i.depth&&l<=s.depth;l++)if(t-i.start(l)==i.depth-l&&n>i.end(l)&&s.end(l)-n!=s.depth-l&&i.start(l-1)==s.start(l-1)&&i.node(l-1).canReplace(i.index(l-1),s.index(l-1)))return e.delete(i.before(l),n);e.delete(t,n)}function WT(e,t){let n=[],i=Math.min(e.depth,t.depth);for(let s=i;s>=0;s--){let a=e.start(s);if(a<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(a==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==a-1)&&n.push(s)}return n}class oo extends Be{constructor(t,n,i){super(),this.pos=t,this.attr=n,this.value=i}apply(t){let n=t.nodeAt(this.pos);if(!n)return le.fail("No node at attribute step's position");let i=Object.create(null);for(let a in n.attrs)i[a]=n.attrs[a];i[this.attr]=this.value;let s=n.type.create(i,null,n.marks);return le.fromReplace(t,this.pos,this.pos+1,new nt(J.from(s),0,n.isLeaf?0:1))}getMap(){return fn.empty}invert(t){return new oo(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new oo(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new oo(n.pos,n.attr,n.value)}}Be.jsonID("attr",oo);class el extends Be{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let i=t.type.create(n,t.content,t.marks);return le.ok(i)}getMap(){return fn.empty}invert(t){return new el(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new el(n.attr,n.value)}}Be.jsonID("docAttr",el);let fo=class extends Error{};fo=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};fo.prototype=Object.create(Error.prototype);fo.prototype.constructor=fo;fo.prototype.name="TransformError";class IN{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new tl}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new fo(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,i=nt.empty){let s=$c(this.doc,t,n,i);return s&&this.step(s),this}replaceWith(t,n,i){return this.replace(t,n,new nt(J.from(i),0,0))}delete(t,n){return this.replace(t,n,nt.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,i){return PN(this,t,n,i),this}replaceRangeWith(t,n,i){return HN(this,t,n,i),this}deleteRange(t,n){return UN(this,t,n),this}lift(t,n){return MN(this,t,n),this}join(t,n=1){return _N(this,t,n),this}wrap(t,n){return AN(this,t,n),this}setBlockType(t,n=t,i,s=null){return ON(this,t,n,i,s),this}setNodeMarkup(t,n,i=null,s){return NN(this,t,n,i,s),this}setNodeAttribute(t,n,i){return this.step(new oo(t,n,i)),this}setDocAttribute(t,n){return this.step(new el(t,n)),this}addNodeMark(t,n){return this.step(new sr(t,n)),this}removeNodeMark(t,n){if(!(n instanceof It)){let i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at position "+t);if(n=n.isInSet(i.marks),!n)return this}return this.step(new co(t,n)),this}split(t,n=1,i){return RN(this,t,n,i),this}addMark(t,n,i){return TN(this,t,n,i),this}removeMark(t,n,i){return EN(this,t,n,i),this}clearIncompatible(t,n,i){return Km(this,t,n,i),this}}const Hh=Object.create(null);class xt{constructor(t,n,i){this.$anchor=t,this.$head=n,this.ranges=i||[new FN(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=nt.empty){let i=n.content.lastChild,s=null;for(let c=0;c<n.openEnd;c++)s=i,i=i.lastChild;let a=t.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:d,$to:h}=l[c],p=t.mapping.slice(a);t.replaceRange(p.map(d.pos),p.map(h.pos),c?nt.empty:n),c==0&&ux(t,a,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,n){let i=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],d=t.mapping.slice(i),h=d.map(l.pos),p=d.map(c.pos);a?t.deleteRange(h,p):(t.replaceRangeWith(h,p,n),ux(t,i,n.isInline?-1:1))}}static findFrom(t,n,i=!1){let s=t.parent.inlineContent?new vt(t):Zs(t.node(0),t.parent,t.pos,t.index(),n,i);if(s)return s;for(let a=t.depth-1;a>=0;a--){let l=n<0?Zs(t.node(0),t.node(a),t.before(a+1),t.index(a),n,i):Zs(t.node(0),t.node(a),t.after(a+1),t.index(a)+1,n,i);if(l)return l}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new hn(t.node(0))}static atStart(t){return Zs(t,t,0,0,1)||new hn(t)}static atEnd(t){return Zs(t,t,t.content.size,t.childCount,-1)||new hn(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Hh[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(t,n)}static jsonID(t,n){if(t in Hh)throw new RangeError("Duplicate use of selection JSON ID "+t);return Hh[t]=n,n.prototype.jsonID=t,n}getBookmark(){return vt.between(this.$anchor,this.$head).getBookmark()}}xt.prototype.visible=!0;class FN{constructor(t,n){this.$from=t,this.$to=n}}let ax=!1;function lx(e){!ax&&!e.parent.inlineContent&&(ax=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class vt extends xt{constructor(t,n=t){lx(t),lx(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let i=t.resolve(n.map(this.head));if(!i.parent.inlineContent)return xt.near(i);let s=t.resolve(n.map(this.anchor));return new vt(s.parent.inlineContent?s:i,i)}replace(t,n=nt.empty){if(super.replace(t,n),n==nt.empty){let i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}}eq(t){return t instanceof vt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Gc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new vt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,i=n){let s=t.resolve(n);return new this(s,i==n?s:t.resolve(i))}static between(t,n,i){let s=t.pos-n.pos;if((!i||s)&&(i=s>=0?1:-1),!n.parent.inlineContent){let a=xt.findFrom(n,i,!0)||xt.findFrom(n,-i,!0);if(a)n=a.$head;else return xt.near(n,i)}return t.parent.inlineContent||(s==0?t=n:(t=(xt.findFrom(t,-i,!0)||xt.findFrom(t,i,!0)).$anchor,t.pos<n.pos!=s<0&&(t=n))),new vt(t,n)}}xt.jsonID("text",vt);class Gc{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Gc(t.map(this.anchor),t.map(this.head))}resolve(t){return vt.between(t.resolve(this.anchor),t.resolve(this.head))}}class ft extends xt{constructor(t){let n=t.nodeAfter,i=t.node(0).resolve(t.pos+n.nodeSize);super(t,i),this.node=n}map(t,n){let{deleted:i,pos:s}=n.mapResult(this.anchor),a=t.resolve(s);return i?xt.near(a):new ft(a)}content(){return new nt(J.from(this.node),0,0)}eq(t){return t instanceof ft&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Xm(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ft(t.resolve(n.anchor))}static create(t,n){return new ft(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ft.prototype.visible=!1;xt.jsonID("node",ft);class Xm{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:i}=t.mapResult(this.anchor);return n?new Gc(i,i):new Xm(i)}resolve(t){let n=t.resolve(this.anchor),i=n.nodeAfter;return i&&ft.isSelectable(i)?new ft(n):xt.near(n)}}class hn extends xt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=nt.empty){if(n==nt.empty){t.delete(0,t.doc.content.size);let i=xt.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new hn(t)}map(t){return new hn(t)}eq(t){return t instanceof hn}getBookmark(){return qN}}xt.jsonID("all",hn);const qN={map(){return this},resolve(e){return new hn(e)}};function Zs(e,t,n,i,s,a=!1){if(t.inlineContent)return vt.create(e,n);for(let l=i-(s>0?0:1);s>0?l<t.childCount:l>=0;l+=s){let c=t.child(l);if(c.isAtom){if(!a&&ft.isSelectable(c))return ft.create(e,n-(s<0?c.nodeSize:0))}else{let d=Zs(e,c,n+s,s<0?c.childCount:0,s,a);if(d)return d}n+=c.nodeSize*s}return null}function ux(e,t,n){let i=e.steps.length-1;if(i<t)return;let s=e.steps[i];if(!(s instanceof ge||s instanceof ye))return;let a=e.mapping.maps[i],l;a.forEach((c,d,h,p)=>{l==null&&(l=p)}),e.setSelection(xt.near(e.doc.resolve(l),n))}const cx=1,fx=2,dx=4;class $N extends IN{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|cx)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&cx)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=fx,this}ensureMarks(t){return It.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&fx)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let i=this.selection;return n&&(t=t.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||It.none))),i.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,i){let s=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!t)return this.deleteRange(n,i);let a=this.storedMarks;if(!a){let l=this.doc.resolve(n);a=i==n?l.marks():l.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,s.text(t,a)),this.selection.empty||this.setSelection(xt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=dx,this}get scrolledIntoView(){return(this.updated&dx)>0}}function hx(e,t){return!t||!e?e:e.bind(t)}class Na{constructor(t,n,i){this.name=t,this.init=hx(n.init,i),this.apply=hx(n.apply,i)}}const GN=[new Na("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Na("selection",{init(e,t){return e.selection||xt.atStart(t.doc)},apply(e){return e.selection}}),new Na("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,i){return i.selection.$cursor?e.storedMarks:null}}),new Na("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Uh{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=GN.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Na(i.key,i.spec.state,i))})}}class ro{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],i=this.applyInner(t),s=null;for(;;){let a=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let d=s?s[l].n:0,h=s?s[l].state:this,p=d<n.length&&c.spec.appendTransaction.call(c,d?n.slice(d):n,h,i);if(p&&i.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",t),!s){s=[];for(let g=0;g<this.config.plugins.length;g++)s.push(g<l?{state:i,n:n.length}:{state:this,n:0})}n.push(p),i=i.applyInner(p),a=!0}s&&(s[l]={state:i,n:n.length})}}if(!a)return{state:i,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ro(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let a=i[s];n[a.name]=a.apply(t,this[a.name],this,n)}return n}get tr(){return new $N(this)}static create(t){let n=new Uh(t.doc?t.doc.type.schema:t.schema,t.plugins),i=new ro(n);for(let s=0;s<n.fields.length;s++)i[n.fields[s].name]=n.fields[s].init(t,i);return i}reconfigure(t){let n=new Uh(this.schema,t.plugins),i=n.fields,s=new ro(n);for(let a=0;a<i.length;a++){let l=i[a].name;s[l]=this.hasOwnProperty(l)?this[l]:i[a].init(t,s)}return s}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),t&&typeof t=="object")for(let i in t){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[i],a=s.spec.state;a&&a.toJSON&&(n[i]=a.toJSON.call(s,this[s.key]))}return n}static fromJSON(t,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new Uh(t.schema,t.plugins),a=new ro(s);return s.fields.forEach(l=>{if(l.name=="doc")a.doc=ar.fromJSON(t.schema,n.doc);else if(l.name=="selection")a.selection=xt.fromJSON(a.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(i)for(let c in i){let d=i[c],h=d.spec.state;if(d.key==l.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){a[l.name]=h.fromJSON.call(d,t,n[c],a);return}}a[l.name]=l.init(t,a)}}),a}}function tE(e,t,n){for(let i in e){let s=e[i];s instanceof Function?s=s.bind(t):i=="handleDOMEvents"&&(s=tE(s,t,{})),n[i]=s}return n}class $e{constructor(t){this.spec=t,this.props={},t.props&&tE(t.props,this,this.props),this.key=t.key?t.key.key:eE("plugin")}getState(t){return t[this.key]}}const Ih=Object.create(null);function eE(e){return e in Ih?e+"$"+ ++Ih[e]:(Ih[e]=0,e+"$")}class Pn{constructor(t="key"){this.key=eE(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const we=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},ho=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Hp=null;const xi=function(e,t,n){let i=Hp||(Hp=document.createRange());return i.setEnd(e,n??e.nodeValue.length),i.setStart(e,t||0),i},KN=function(){Hp=null},rs=function(e,t,n,i){return n&&(px(e,t,n,i,-1)||px(e,t,n,i,1))},YN=/^(img|br|input|textarea|hr)$/i;function px(e,t,n,i,s){for(;;){if(e==n&&t==i)return!0;if(t==(s<0?0:On(e))){let a=e.parentNode;if(!a||a.nodeType!=1||yl(e)||YN.test(e.nodeName)||e.contentEditable=="false")return!1;t=we(e)+(s<0?0:1),e=a}else if(e.nodeType==1){if(e=e.childNodes[t+(s<0?-1:0)],e.contentEditable=="false")return!1;t=s<0?On(e):0}else return!1}}function On(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function XN(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=On(e)}else if(e.parentNode&&!yl(e))t=we(e),e=e.parentNode;else return null}}function JN(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!yl(e))t=we(e)+1,e=e.parentNode;else return null}}function ZN(e,t,n){for(let i=t==0,s=t==On(e);i||s;){if(e==n)return!0;let a=we(e);if(e=e.parentNode,!e)return!1;i=i&&a==0,s=s&&a==On(e)}}function yl(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Kc=function(e){return e.focusNode&&rs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Ir(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function QN(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function WN(e,t,n){if(e.caretPositionFromPoint)try{let i=e.caretPositionFromPoint(t,n);if(i)return{node:i.offsetNode,offset:Math.min(On(i.offsetNode),i.offset)}}catch{}if(e.caretRangeFromPoint){let i=e.caretRangeFromPoint(t,n);if(i)return{node:i.startContainer,offset:Math.min(On(i.startContainer),i.startOffset)}}}const Qn=typeof navigator<"u"?navigator:null,mx=typeof document<"u"?document:null,br=Qn&&Qn.userAgent||"",Up=/Edge\/(\d+)/.exec(br),nE=/MSIE \d/.exec(br),Ip=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(br),Qe=!!(nE||Ip||Up),ur=nE?document.documentMode:Ip?+Ip[1]:Up?+Up[1]:0,Vn=!Qe&&/gecko\/(\d+)/i.test(br);Vn&&+(/Firefox\/(\d+)/.exec(br)||[0,0])[1];const Fp=!Qe&&/Chrome\/(\d+)/.exec(br),ze=!!Fp,iE=Fp?+Fp[1]:0,Ue=!Qe&&!!Qn&&/Apple Computer/.test(Qn.vendor),po=Ue&&(/Mobile\/\w+/.test(br)||!!Qn&&Qn.maxTouchPoints>2),An=po||(Qn?/Mac/.test(Qn.platform):!1),tR=Qn?/Win/.test(Qn.platform):!1,Si=/Android \d/.test(br),vl=!!mx&&"webkitFontSmoothing"in mx.documentElement.style,eR=vl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function nR(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function yi(e,t){return typeof e=="number"?e:e[t]}function iR(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*i}}function gx(e,t,n){let i=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,a=e.dom.ownerDocument;for(let l=n||e.dom;l;){if(l.nodeType!=1){l=ho(l);continue}let c=l,d=c==a.body,h=d?nR(a):iR(c),p=0,g=0;if(t.top<h.top+yi(i,"top")?g=-(h.top-t.top+yi(s,"top")):t.bottom>h.bottom-yi(i,"bottom")&&(g=t.bottom-t.top>h.bottom-h.top?t.top+yi(s,"top")-h.top:t.bottom-h.bottom+yi(s,"bottom")),t.left<h.left+yi(i,"left")?p=-(h.left-t.left+yi(s,"left")):t.right>h.right-yi(i,"right")&&(p=t.right-h.right+yi(s,"right")),p||g)if(d)a.defaultView.scrollBy(p,g);else{let b=c.scrollLeft,x=c.scrollTop;g&&(c.scrollTop+=g),p&&(c.scrollLeft+=p);let E=c.scrollLeft-b,C=c.scrollTop-x;t={left:t.left-E,top:t.top-C,right:t.right-E,bottom:t.bottom-C}}let v=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(v))break;l=v=="absolute"?l.offsetParent:ho(l)}}function rR(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),i,s;for(let a=(t.left+t.right)/2,l=n+1;l<Math.min(innerHeight,t.bottom);l+=5){let c=e.root.elementFromPoint(a,l);if(!c||c==e.dom||!e.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=n-20){i=c,s=d.top;break}}return{refDOM:i,refTop:s,stack:rE(e.dom)}}function rE(e){let t=[],n=e.ownerDocument;for(let i=e;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),e!=n);i=ho(i));return t}function sR({refDOM:e,refTop:t,stack:n}){let i=e?e.getBoundingClientRect().top:0;sE(n,i==0?0:i-t)}function sE(e,t){for(let n=0;n<e.length;n++){let{dom:i,top:s,left:a}=e[n];i.scrollTop!=s+t&&(i.scrollTop=s+t),i.scrollLeft!=a&&(i.scrollLeft=a)}}let Xs=null;function oR(e){if(e.setActive)return e.setActive();if(Xs)return e.focus(Xs);let t=rE(e);e.focus(Xs==null?{get preventScroll(){return Xs={preventScroll:!0},!0}}:void 0),Xs||(Xs=!1,sE(t,0))}function oE(e,t){let n,i=2e8,s,a=0,l=t.top,c=t.top,d,h;for(let p=e.firstChild,g=0;p;p=p.nextSibling,g++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=xi(p).getClientRects();else continue;for(let b=0;b<v.length;b++){let x=v[b];if(x.top<=l&&x.bottom>=c){l=Math.max(x.bottom,l),c=Math.min(x.top,c);let E=x.left>t.left?x.left-t.left:x.right<t.left?t.left-x.right:0;if(E<i){n=p,i=E,s=E&&n.nodeType==3?{left:x.right<t.left?x.right:x.left,top:t.top}:t,p.nodeType==1&&E&&(a=g+(t.left>=(x.left+x.right)/2?1:0));continue}}else x.top>t.top&&!d&&x.left<=t.left&&x.right>=t.left&&(d=p,h={left:Math.max(x.left,Math.min(x.right,t.left)),top:x.top});!n&&(t.left>=x.right&&t.top>=x.top||t.left>=x.left&&t.top>=x.bottom)&&(a=g+1)}}return!n&&d&&(n=d,s=h,i=0),n&&n.nodeType==3?aR(n,s):!n||i&&n.nodeType==1?{node:e,offset:a}:oE(n,s)}function aR(e,t){let n=e.nodeValue.length,i=document.createRange();for(let s=0;s<n;s++){i.setEnd(e,s+1),i.setStart(e,s);let a=tr(i,1);if(a.top!=a.bottom&&Jm(t,a))return{node:e,offset:s+(t.left>=(a.left+a.right)/2?1:0)}}return{node:e,offset:0}}function Jm(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function lR(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function uR(e,t,n){let{node:i,offset:s}=oE(t,n),a=-1;if(i.nodeType==1&&!i.firstChild){let l=i.getBoundingClientRect();a=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return e.docView.posFromDOM(i,s,a)}function cR(e,t,n,i){let s=-1;for(let a=t,l=!1;a!=e.dom;){let c=e.docView.nearestDesc(a,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&(!l&&d.left>i.left||d.top>i.top?s=c.posBefore:(!l&&d.right<i.left||d.bottom<i.top)&&(s=c.posAfter),l=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?i.top<(d.top+d.bottom)/2:i.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;a=c.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,n,-1)}function aE(e,t,n){let i=e.childNodes.length;if(i&&n.top<n.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-n.top)/(n.bottom-n.top))-2)),a=s;;){let l=e.childNodes[a];if(l.nodeType==1){let c=l.getClientRects();for(let d=0;d<c.length;d++){let h=c[d];if(Jm(t,h))return aE(l,t,h)}}if((a=(a+1)%i)==s)break}return e}function fR(e,t){let n=e.dom.ownerDocument,i,s=0,a=WN(n,t.left,t.top);a&&({node:i,offset:s}=a);let l=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),c;if(!l||!e.dom.contains(l.nodeType!=1?l.parentNode:l)){let h=e.dom.getBoundingClientRect();if(!Jm(t,h)||(l=aE(e.dom,t,h),!l))return null}if(Ue)for(let h=l;i&&h;h=ho(h))h.draggable&&(i=void 0);if(l=lR(l,t),i){if(Vn&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let p=i.childNodes[s],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=t.left&&g.bottom>t.top&&s++}let h;vl&&s&&i.nodeType==1&&(h=i.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=t.top&&s--,i==e.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&t.top>i.lastChild.getBoundingClientRect().bottom?c=e.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(c=cR(e,i,s,t))}c==null&&(c=uR(e,l,t));let d=e.docView.nearestDesc(l,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function yx(e){return e.top<e.bottom||e.left<e.right}function tr(e,t){let n=e.getClientRects();if(n.length){let i=n[t<0?0:n.length-1];if(yx(i))return i}return Array.prototype.find.call(n,yx)||e.getBoundingClientRect()}const dR=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function lE(e,t,n){let{node:i,offset:s,atom:a}=e.docView.domFromPos(t,n<0?-1:1),l=vl||Vn;if(i.nodeType==3)if(l&&(dR.test(i.nodeValue)||(n<0?!s:s==i.nodeValue.length))){let d=tr(xi(i,s,s),n);if(Vn&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let h=tr(xi(i,s-1,s-1),-1);if(h.top==d.top){let p=tr(xi(i,s,s+1),-1);if(p.top!=d.top)return wa(p,p.left<h.left)}}return d}else{let d=s,h=s,p=n<0?1:-1;return n<0&&!s?(h++,p=-1):n>=0&&s==i.nodeValue.length?(d--,p=1):n<0?d--:h++,wa(tr(xi(i,d,h),p),p<0)}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(a==null&&s&&(n<0||s==On(i))){let d=i.childNodes[s-1];if(d.nodeType==1)return Fh(d.getBoundingClientRect(),!1)}if(a==null&&s<On(i)){let d=i.childNodes[s];if(d.nodeType==1)return Fh(d.getBoundingClientRect(),!0)}return Fh(i.getBoundingClientRect(),n>=0)}if(a==null&&s&&(n<0||s==On(i))){let d=i.childNodes[s-1],h=d.nodeType==3?xi(d,On(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return wa(tr(h,1),!1)}if(a==null&&s<On(i)){let d=i.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?xi(d,0,l?0:1):d.nodeType==1?d:null:null;if(h)return wa(tr(h,-1),!0)}return wa(tr(i.nodeType==3?xi(i):i,-n),n>=0)}function wa(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Fh(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function uE(e,t,n){let i=e.state,s=e.root.activeElement;i!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),s!=e.dom&&s&&s.focus()}}function hR(e,t,n){let i=t.selection,s=n=="up"?i.$from:i.$to;return uE(e,t,()=>{let{node:a}=e.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let c=e.docView.nearestDesc(a,!0);if(!c)break;if(c.node.isBlock){a=c.contentDOM||c.dom;break}a=c.dom.parentNode}let l=lE(e,s.pos,1);for(let c=a.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=xi(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.bottom>p.top+1&&(n=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const pR=/[\u0590-\u08ac]/;function mR(e,t,n){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,a=!s,l=s==i.parent.content.size,c=e.domSelection();return c?!pR.test(i.parent.textContent)||!c.modify?n=="left"||n=="backward"?a:l:uE(e,t,()=>{let{focusNode:d,focusOffset:h,anchorNode:p,anchorOffset:g}=e.domSelectionRange(),v=c.caretBidiLevel;c.modify("move",n,"character");let b=i.depth?e.docView.domAfterPos(i.before()):e.dom,{focusNode:x,focusOffset:E}=e.domSelectionRange(),C=x&&!b.contains(x.nodeType==1?x:x.parentNode)||d==x&&h==E;try{c.collapse(p,g),d&&(d!=p||h!=g)&&c.extend&&c.extend(d,h)}catch{}return v!=null&&(c.caretBidiLevel=v),C}):i.pos==i.start()||i.pos==i.end()}let vx=null,bx=null,xx=!1;function gR(e,t,n){return vx==t&&bx==n?xx:(vx=t,bx=n,xx=n=="up"||n=="down"?hR(e,t,n):mR(e,t,n))}const Rn=0,Sx=1,Gr=2,Wn=3;class bl{constructor(t,n,i,s){this.parent=t,this.children=n,this.dom=i,this.contentDOM=s,this.dirty=Rn,i.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,i){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,i=this.posAtStart;;n++){let s=this.children[n];if(s==t)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,i){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(i<0){let a,l;if(t==this.contentDOM)a=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.previousSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(l)+l.size:this.posAtStart}else{let a,l;if(t==this.contentDOM)a=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.nextSibling}for(;a&&!((l=a.pmViewDesc)&&l.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(l):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=n>we(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=t;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&n==t.childNodes.length)for(let a=t;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let i=!0,s=t;s;s=s.parentNode){let a=this.getDesc(s),l;if(a&&(!n||a.node))if(i&&(l=a.nodeDOM)&&!(l.nodeType==1?l.contains(t.nodeType==1?t:t.parentNode):l==t))i=!1;else return a}}getDesc(t){let n=t.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(t,n,i){for(let s=t;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(t,n,i)}return-1}descAt(t){for(let n=0,i=0;n<this.children.length;n++){let s=this.children[n],a=i+s.size;if(i==t&&a!=i){for(;!s.border&&s.children.length;)for(let l=0;l<s.children.length;l++){let c=s.children[l];if(c.size){s=c;break}}return s}if(t<a)return s.descAt(t-i-s.border);i=a}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,s=0;for(let a=0;i<this.children.length;i++){let l=this.children[i],c=a+l.size;if(c>t||l instanceof fE){s=t-a;break}a=c}if(s)return this.children[i].domFromPos(s-this.children[i].border,n);for(let a;i&&!(a=this.children[i-1]).size&&a instanceof cE&&a.side>=0;i--);if(n<=0){let a,l=!0;for(;a=i?this.children[i-1]:null,!(!a||a.dom.parentNode==this.contentDOM);i--,l=!1);return a&&n&&l&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?we(a.dom)+1:0}}else{let a,l=!0;for(;a=i<this.children.length?this.children[i]:null,!(!a||a.dom.parentNode==this.contentDOM);i++,l=!1);return a&&l&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?we(a.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let l=i,c=0;;c++){let d=this.children[c],h=l+d.size;if(s==-1&&t<=h){let p=l+d.border;if(t>=p&&n<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(t,n,p);t=l;for(let g=c;g>0;g--){let v=this.children[g-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){s=we(v.dom)+1;break}t-=v.size}s==-1&&(s=0)}if(s>-1&&(h>n||c==this.children.length-1)){n=h;for(let p=c+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){a=we(g.dom);break}n+=g.size}a==-1&&(a=this.contentDOM.childNodes.length);break}l=h}return{node:this.contentDOM,from:t,to:n,fromOffset:s,toOffset:a}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:i}=this.domFromPos(t,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[i]}setSelection(t,n,i,s=!1){let a=Math.min(t,n),l=Math.max(t,n);for(let b=0,x=0;b<this.children.length;b++){let E=this.children[b],C=x+E.size;if(a>x&&l<C)return E.setSelection(t-x-E.border,n-x-E.border,i,s);x=C}let c=this.domFromPos(t,t?-1:1),d=n==t?c:this.domFromPos(n,n?-1:1),h=i.root.getSelection(),p=i.domSelectionRange(),g=!1;if((Vn||Ue)&&t==n){let{node:b,offset:x}=c;if(b.nodeType==3){if(g=!!(x&&b.nodeValue[x-1]==`
`),g&&x==b.nodeValue.length)for(let E=b,C;E;E=E.parentNode){if(C=E.nextSibling){C.nodeName=="BR"&&(c=d={node:C.parentNode,offset:we(C)+1});break}let w=E.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let E=b.childNodes[x-1];g=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(Vn&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let b=p.focusNode.childNodes[p.focusOffset];b&&b.contentEditable=="false"&&(s=!0)}if(!(s||g&&Ue)&&rs(c.node,c.offset,p.anchorNode,p.anchorOffset)&&rs(d.node,d.offset,p.focusNode,p.focusOffset))return;let v=!1;if((h.extend||t==n)&&!g){h.collapse(c.node,c.offset);try{t!=n&&h.extend(d.node,d.offset),v=!0}catch{}}if(!v){if(t>n){let x=c;c=d,d=x}let b=document.createRange();b.setEnd(d.node,d.offset),b.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(b)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let i=0,s=0;s<this.children.length;s++){let a=this.children[s],l=i+a.size;if(i==l?t<=l&&n>=i:t<l&&n>i){let c=i+a.border,d=l-a.border;if(t>=c&&n<=d){this.dirty=t==i||n==l?Gr:Sx,t==c&&n==d&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Wn:a.markDirty(t-c,n-c);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Gr:Wn}i=l}this.dirty=Gr}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let i=t==1?Gr:Sx;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class cE extends bl{constructor(t,n,i,s){let a,l=n.type.toDOM;if(typeof l=="function"&&(l=l(i,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(t,[],l,null),this.widget=n,this.widget=n,a=this}matchesWidget(t){return this.dirty==Rn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class yR extends bl{constructor(t,n,i,s){super(t,[],n,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class ss extends bl{constructor(t,n,i,s,a){super(t,[],i,s),this.mark=n,this.spec=a}static create(t,n,i,s){let a=s.nodeViews[n.type.name],l=a&&a(n,s,i);return(!l||!l.dom)&&(l=us.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new ss(t,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Wn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Wn&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Rn){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Rn}}slice(t,n,i){let s=ss.create(this.parent,this.mark,!0,i),a=this.children,l=this.size;n<l&&(a=$p(a,n,l,i)),t>0&&(a=$p(a,0,t,i));for(let c=0;c<a.length;c++)a[c].parent=s;return s.children=a,s}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class cr extends bl{constructor(t,n,i,s,a,l,c,d,h){super(t,[],a,l),this.node=n,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=c}static create(t,n,i,s,a,l){let c=a.nodeViews[n.type.name],d,h=c&&c(n,a,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},i,s),p=h&&h.dom,g=h&&h.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=us.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let v=p;return p=pE(p,i,n),h?d=new vR(t,n,i,s,p,g||null,v,h,a,l+1):n.isText?new Yc(t,n,i,s,p,v,a):new cr(t,n,i,s,p,g||null,v,a,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){t.contentElement=i.dom.parentNode;break}}t.contentElement||(t.getContent=()=>J.empty)}return t}matchesNode(t,n,i){return this.dirty==Rn&&t.eq(this.node)&&Tc(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let i=this.node.inlineContent,s=n,a=t.composing?this.localCompositionInfo(t,n):null,l=a&&a.pos>-1?a:null,c=a&&a.pos<0,d=new xR(this,l&&l.node,t);ER(this.node,this.innerDeco,(h,p,g)=>{h.spec.marks?d.syncToMarks(h.spec.marks,i,t):h.type.side>=0&&!g&&d.syncToMarks(p==this.node.childCount?It.none:this.node.child(p).marks,i,t),d.placeWidget(h,t,s)},(h,p,g,v)=>{d.syncToMarks(h.marks,i,t);let b;d.findNodeMatch(h,p,g,v)||c&&t.state.selection.from>s&&t.state.selection.to<s+h.nodeSize&&(b=d.findIndexWithChild(a.node))>-1&&d.updateNodeAt(h,p,g,b,t)||d.updateNextNode(h,p,g,t,v,s)||d.addNode(h,p,g,t,s),s+=h.nodeSize}),d.syncToMarks([],i,t),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Gr)&&(l&&this.protectLocalComposition(t,l),dE(this.contentDOM,this.children,t),po&&CR(this.dom))}localCompositionInfo(t,n){let{from:i,to:s}=t.state.selection;if(!(t.state.selection instanceof vt)||i<n||s>n+this.node.content.size)return null;let a=t.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let l=a.nodeValue,c=MR(this.node.content,l,i-n,s-n);return c<0?null:{node:a,pos:c,text:l}}else return{node:a,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:i,text:s}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let l=new yR(this,a,n,s);t.input.compositionNodes.push(l),this.children=$p(this.children,i,i+s.length,t,l)}update(t,n,i,s){return this.dirty==Wn||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,i,s),!0)}updateInner(t,n,i,s){this.updateOuterDeco(n),this.node=t,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Rn}updateOuterDeco(t){if(Tc(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=hE(this.dom,this.nodeDOM,qp(this.outerDeco,this.node,n),qp(t,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Tx(e,t,n,i,s){pE(i,t,e);let a=new cr(void 0,e,t,n,i,i,i,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class Yc extends cr{constructor(t,n,i,s,a,l,c){super(t,n,i,s,a,null,l,c,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,i,s){return this.dirty==Wn||this.dirty!=Rn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Rn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=Rn,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,i){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,i)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,i){let s=this.node.cut(t,n),a=document.createTextNode(s.text);return new Yc(this.parent,s,this.outerDeco,this.innerDeco,a,a,i)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Wn)}get domAtom(){return!1}isText(t){return this.node.text==t}}class fE extends bl{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Rn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class vR extends cr{constructor(t,n,i,s,a,l,c,d,h,p){super(t,n,i,s,a,l,c,h,p),this.spec=d}update(t,n,i,s){if(this.dirty==Wn)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let a=this.spec.update(t,n,i);return a&&this.updateInner(t,n,i,s),a}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,i,s){this.spec.setSelection?this.spec.setSelection(t,n,i.root):super.setSelection(t,n,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function dE(e,t,n){let i=e.firstChild,s=!1;for(let a=0;a<t.length;a++){let l=t[a],c=l.dom;if(c.parentNode==e){for(;c!=i;)i=Ex(i),s=!0;i=i.nextSibling}else s=!0,e.insertBefore(c,i);if(l instanceof ss){let d=i?i.previousSibling:e.lastChild;dE(l.contentDOM,l.children,n),i=d?d.nextSibling:e.firstChild}}for(;i;)i=Ex(i),s=!0;s&&n.trackWrites==e&&(n.trackWrites=null)}const Ba=function(e){e&&(this.nodeName=e)};Ba.prototype=Object.create(null);const Kr=[new Ba];function qp(e,t,n){if(e.length==0)return Kr;let i=n?Kr[0]:new Ba,s=[i];for(let a=0;a<e.length;a++){let l=e[a].type.attrs;if(l){l.nodeName&&s.push(i=new Ba(l.nodeName));for(let c in l){let d=l[c];d!=null&&(n&&s.length==1&&s.push(i=new Ba(t.isInline?"span":"div")),c=="class"?i.class=(i.class?i.class+" ":"")+d:c=="style"?i.style=(i.style?i.style+";":"")+d:c!="nodeName"&&(i[c]=d))}}}return s}function hE(e,t,n,i){if(n==Kr&&i==Kr)return t;let s=t;for(let a=0;a<i.length;a++){let l=i[a],c=n[a];if(a){let d;c&&c.nodeName==l.nodeName&&s!=e&&(d=s.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(s),c=Kr[0]),s=d}bR(s,c||Kr[0],l)}return s}function bR(e,t,n){for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&e.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=t[i]&&e.setAttribute(i,n[i]);if(t.class!=n.class){let i=t.class?t.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<i.length;a++)s.indexOf(i[a])==-1&&e.classList.remove(i[a]);for(let a=0;a<s.length;a++)i.indexOf(s[a])==-1&&e.classList.add(s[a]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(t.style);)e.style.removeProperty(s[1])}n.style&&(e.style.cssText+=n.style)}}function pE(e,t,n){return hE(e,e,Kr,qp(t,n,e.nodeType!=1))}function Tc(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Ex(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class xR{constructor(t,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=SR(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let i=t;i<n;i++)this.top.children[i].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,i){let s=0,a=this.stack.length>>1,l=Math.min(a,t.length);for(;s<l&&(s==a-1?this.top:this.stack[s+1<<1]).matchesMark(t[s])&&t[s].type.spec.spanning!==!1;)s++;for(;s<a;)this.destroyRest(),this.top.dirty=Rn,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<t.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(t[a])&&!this.isLocked(h.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=ss.create(this.top,t[a],n,i);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,a++}}findNodeMatch(t,n,i,s){let a=-1,l;if(s>=this.preMatch.index&&(l=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&l.matchesNode(t,n,i))a=this.top.children.indexOf(l,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let h=this.top.children[c];if(h.matchesNode(t,n,i)&&!this.preMatch.matched.has(h)){a=c;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(t,n,i,s,a){let l=this.top.children[s];return l.dirty==Wn&&l.dom==l.contentDOM&&(l.dirty=Gr),l.update(t,n,i,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=t.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}t=n}}updateNextNode(t,n,i,s,a,l){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof cr){let h=this.preMatch.matched.get(d);if(h!=null&&h!=a)return!1;let p=d.dom,g,v=this.isLocked(p)&&!(t.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==t.text&&d.dirty!=Wn&&Tc(n,d.outerDeco));if(!v&&d.update(t,n,i,s))return this.destroyBetween(this.index,c),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(g=this.recreateWrapper(d,t,n,i,s,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=Gr,g.updateChildren(s,l+1),g.dirty=Rn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,i,s,a,l){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Tc(i,t.outerDeco)||!s.eq(t.innerDeco))return null;let c=cr.create(this.top,n,i,s,a,l);if(c.contentDOM){c.children=t.children,t.children=[];for(let d of c.children)d.parent=c}return t.destroy(),c}addNode(t,n,i,s,a){let l=cr.create(this.top,t,n,i,s,a);l.contentDOM&&l.updateChildren(s,a+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(t,n,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new cE(this.top,t,n,i);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof ss;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Yc)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Ue||ze)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let i=document.createElement(t);t=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),t=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new fE(this.top,[],i,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function SR(e,t){let n=t,i=n.children.length,s=e.childCount,a=new Map,l=[];t:for(;s>0;){let c;for(;;)if(i){let h=n.children[i-1];if(h instanceof ss)n=h,i=h.children.length;else{c=h,i--;break}}else{if(n==t)break t;i=n.parent.children.indexOf(n),n=n.parent}let d=c.node;if(d){if(d!=e.child(s-1))break;--s,a.set(c,s),l.push(c)}}return{index:s,matched:a,matches:l.reverse()}}function TR(e,t){return e.type.side-t.type.side}function ER(e,t,n,i){let s=t.locals(e),a=0;if(s.length==0){for(let h=0;h<e.childCount;h++){let p=e.child(h);i(p,s,t.forChild(a,p),h),a+=p.nodeSize}return}let l=0,c=[],d=null;for(let h=0;;){let p,g;for(;l<s.length&&s[l].to==a;){let C=s[l++];C.widget&&(p?(g||(g=[p])).push(C):p=C)}if(p)if(g){g.sort(TR);for(let C=0;C<g.length;C++)n(g[C],h,!!d)}else n(p,h,!!d);let v,b;if(d)b=-1,v=d,d=null;else if(h<e.childCount)b=h,v=e.child(h++);else break;for(let C=0;C<c.length;C++)c[C].to<=a&&c.splice(C--,1);for(;l<s.length&&s[l].from<=a&&s[l].to>a;)c.push(s[l++]);let x=a+v.nodeSize;if(v.isText){let C=x;l<s.length&&s[l].from<C&&(C=s[l].from);for(let w=0;w<c.length;w++)c[w].to<C&&(C=c[w].to);C<x&&(d=v.cut(C-a),v=v.cut(0,C-a),x=C,b=-1)}else for(;l<s.length&&s[l].to<x;)l++;let E=v.isInline&&!v.isLeaf?c.filter(C=>!C.inline):c.slice();i(v,E,t.forChild(a,v),b),a=x}}function CR(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function MR(e,t,n,i){for(let s=0,a=0;s<e.childCount&&a<=i;){let l=e.child(s++),c=a;if(a+=l.nodeSize,!l.isText)continue;let d=l.text;for(;s<e.childCount;){let h=e.child(s++);if(a+=h.nodeSize,!h.isText)break;d+=h.text}if(a>=n){if(a>=i&&d.slice(i-t.length-c,i-c)==t)return i-t.length;let h=c<i?d.lastIndexOf(t,i-c-1):-1;if(h>=0&&h+t.length+c>=n)return c+h;if(n==i&&d.length>=i+t.length-c&&d.slice(i-c,i-c+t.length)==t)return i}}return-1}function $p(e,t,n,i,s){let a=[];for(let l=0,c=0;l<e.length;l++){let d=e[l],h=c,p=c+=d.size;h>=n||p<=t?a.push(d):(h<t&&a.push(d.slice(0,t-h,i)),s&&(a.push(s),s=void 0),p>n&&a.push(d.slice(n-h,d.size,i)))}return a}function Zm(e,t=null){let n=e.domSelectionRange(),i=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),a=s&&s.size==0,l=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let c=i.resolve(l),d,h;if(Kc(n)){for(d=l;s&&!s.node;)s=s.parent;let g=s.node;if(s&&g.isAtom&&ft.isSelectable(g)&&s.parent&&!(g.isInline&&ZN(n.focusNode,n.focusOffset,s.dom))){let v=s.posBefore;h=new ft(l==v?c:i.resolve(v))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=l,v=l;for(let b=0;b<n.rangeCount;b++){let x=n.getRangeAt(b);g=Math.min(g,e.docView.posFromDOM(x.startContainer,x.startOffset,1)),v=Math.max(v,e.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(g<0)return null;[d,l]=v==e.state.selection.anchor?[v,g]:[g,v],c=i.resolve(l)}else d=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=i.resolve(d);if(!h){let g=t=="pointer"||e.state.selection.head<c.pos&&!a?1:-1;h=Qm(e,p,c,g)}return h}function mE(e){return e.editable?e.hasFocus():yE(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ci(e,t=!1){let n=e.state.selection;if(gE(e,n),!!mE(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ze){let i=e.domSelectionRange(),s=e.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&rs(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)kR(e);else{let{anchor:i,head:s}=n,a,l;Cx&&!(n instanceof vt)&&(n.$from.parent.inlineContent||(a=Mx(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=Mx(e,n.to))),e.docView.setSelection(i,s,e,t),Cx&&(a&&wx(a),l&&wx(l)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&wR(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Cx=Ue||ze&&iE<63;function Mx(e,t){let{node:n,offset:i}=e.docView.domFromPos(t,0),s=i<n.childNodes.length?n.childNodes[i]:null,a=i?n.childNodes[i-1]:null;if(Ue&&s&&s.contentEditable=="false")return qh(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return qh(s);if(a)return qh(a)}}function qh(e){return e.contentEditable="true",Ue&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function wx(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function wR(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),i=n.anchorNode,s=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!mE(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function kR(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let i=e.cursorWrapper.dom,s=i.nodeName=="IMG";s?n.setStart(i.parentNode,we(i)+1):n.setStart(i,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!s&&!e.state.selection.visible&&Qe&&ur<=11&&(i.disabled=!0,i.disabled=!1)}function gE(e,t){if(t instanceof ft){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(kx(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else kx(e)}function kx(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Qm(e,t,n,i){return e.someProp("createSelectionBetween",s=>s(e,t,n))||vt.between(t,n,i)}function Ax(e){return e.editable&&!e.hasFocus()?!1:yE(e)}function yE(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function AR(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return rs(t.node,t.offset,n.anchorNode,n.anchorOffset)}function Gp(e,t){let{$anchor:n,$head:i}=e.selection,s=t>0?n.max(i):n.min(i),a=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return a&&xt.findFrom(a,t)}function er(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Ox(e,t,n){let i=e.state.selection;if(i instanceof vt)if(n.indexOf("s")>-1){let{$head:s}=i,a=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let l=e.state.doc.resolve(s.pos+a.nodeSize*(t<0?-1:1));return er(e,new vt(i.$anchor,l))}else if(i.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=Gp(e.state,t);return s&&s instanceof ft?er(e,s):!1}else if(!(An&&n.indexOf("m")>-1)){let s=i.$head,a=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,l;if(!a||a.isText)return!1;let c=t<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(l=e.docView.descAt(c))&&!l.contentDOM?ft.isSelectable(a)?er(e,new ft(t<0?e.state.doc.resolve(s.pos-a.nodeSize):s)):vl?er(e,new vt(e.state.doc.resolve(t<0?c:c+a.nodeSize))):!1:!1}}else return!1;else{if(i instanceof ft&&i.node.isInline)return er(e,new vt(t>0?i.$to:i.$from));{let s=Gp(e.state,t);return s?er(e,s):!1}}}function Ec(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Va(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Js(e,t){return t<0?OR(e):DR(e)}function OR(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let s,a,l=!1;for(Vn&&n.nodeType==1&&i<Ec(n)&&Va(n.childNodes[i],-1)&&(l=!0);;)if(i>0){if(n.nodeType!=1)break;{let c=n.childNodes[i-1];if(Va(c,-1))s=n,a=--i;else if(c.nodeType==3)n=c,i=n.nodeValue.length;else break}}else{if(vE(n))break;{let c=n.previousSibling;for(;c&&Va(c,-1);)s=n.parentNode,a=we(c),c=c.previousSibling;if(c)n=c,i=Ec(n);else{if(n=n.parentNode,n==e.dom)break;i=0}}}l?Kp(e,n,i):s&&Kp(e,s,a)}function DR(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let s=Ec(n),a,l;for(;;)if(i<s){if(n.nodeType!=1)break;let c=n.childNodes[i];if(Va(c,1))a=n,l=++i;else break}else{if(vE(n))break;{let c=n.nextSibling;for(;c&&Va(c,1);)a=c.parentNode,l=we(c)+1,c=c.nextSibling;if(c)n=c,i=0,s=Ec(n);else{if(n=n.parentNode,n==e.dom)break;i=s=0}}}a&&Kp(e,a,l)}function vE(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function NR(e,t){for(;e&&t==e.childNodes.length&&!yl(e);)t=we(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function RR(e,t){for(;e&&!t&&!yl(e);)t=we(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function Kp(e,t,n){if(t.nodeType!=3){let a,l;(l=NR(t,n))?(t=l,n=0):(a=RR(t,n))&&(t=a,n=a.nodeValue.length)}let i=e.domSelection();if(!i)return;if(Kc(i)){let a=document.createRange();a.setEnd(t,n),a.setStart(t,n),i.removeAllRanges(),i.addRange(a)}else i.extend&&i.extend(t,n);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&Ci(e)},50)}function Dx(e,t){let n=e.state.doc.resolve(t);if(!(ze||tR)&&n.parent.inlineContent){let s=e.coordsAtPos(t);if(t>n.start()){let a=e.coordsAtPos(t-1),l=(a.top+a.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(t<n.end()){let a=e.coordsAtPos(t+1),l=(a.top+a.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Nx(e,t,n){let i=e.state.selection;if(i instanceof vt&&!i.empty||n.indexOf("s")>-1||An&&n.indexOf("m")>-1)return!1;let{$from:s,$to:a}=i;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let l=Gp(e.state,t);if(l&&l instanceof ft)return er(e,l)}if(!s.parent.inlineContent){let l=t<0?s:a,c=i instanceof hn?xt.near(l,t):xt.findFrom(l,t);return c?er(e,c):!1}return!1}function Rx(e,t){if(!(e.state.selection instanceof vt))return!0;let{$head:n,$anchor:i,empty:s}=e.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let a=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let l=e.state.tr;return t<0?l.delete(n.pos-a.nodeSize,n.pos):l.delete(n.pos,n.pos+a.nodeSize),e.dispatch(l),!0}return!1}function jx(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function jR(e){if(!Ue||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let i=t.firstChild;jx(e,i,"true"),setTimeout(()=>jx(e,i,"false"),20)}return!1}function _R(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function zR(e,t){let n=t.keyCode,i=_R(t);if(n==8||An&&n==72&&i=="c")return Rx(e,-1)||Js(e,-1);if(n==46&&!t.shiftKey||An&&n==68&&i=="c")return Rx(e,1)||Js(e,1);if(n==13||n==27)return!0;if(n==37||An&&n==66&&i=="c"){let s=n==37?Dx(e,e.state.selection.from)=="ltr"?-1:1:-1;return Ox(e,s,i)||Js(e,s)}else if(n==39||An&&n==70&&i=="c"){let s=n==39?Dx(e,e.state.selection.from)=="ltr"?1:-1:1;return Ox(e,s,i)||Js(e,s)}else{if(n==38||An&&n==80&&i=="c")return Nx(e,-1,i)||Js(e,-1);if(n==40||An&&n==78&&i=="c")return jR(e)||Nx(e,1,i)||Js(e,1);if(i==(An?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Wm(e,t){e.someProp("transformCopied",b=>{t=b(t,e)});let n=[],{content:i,openStart:s,openEnd:a}=t;for(;s>1&&a>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,a--;let b=i.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),i=b.content}let l=e.someProp("clipboardSerializer")||us.fromSchema(e.state.schema),c=CE(),d=c.createElement("div");d.appendChild(l.serializeFragment(i,{document:c}));let h=d.firstChild,p,g=0;for(;h&&h.nodeType==1&&(p=EE[h.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let x=c.createElement(p[b]);for(;d.firstChild;)x.appendChild(d.firstChild);d.appendChild(x),g++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${a}${g?` -${g}`:""} ${JSON.stringify(n)}`);let v=e.someProp("clipboardTextSerializer",b=>b(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:d,text:v,slice:t}}function bE(e,t,n,i,s){let a=s.parent.type.spec.code,l,c;if(!n&&!t)return null;let d=t&&(i||a||!n);if(d){if(e.someProp("transformPastedText",v=>{t=v(t,a||i,e)}),a)return t?new nt(J.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):nt.empty;let g=e.someProp("clipboardTextParser",v=>v(t,s,i,e));if(g)c=g;else{let v=s.marks(),{schema:b}=e.state,x=us.fromSchema(b);l=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(E=>{let C=l.appendChild(document.createElement("p"));E&&C.appendChild(x.serializeNode(b.text(E,v)))})}}else e.someProp("transformPastedHTML",g=>{n=g(n,e)}),l=PR(n),vl&&HR(l);let h=l&&l.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let v=l.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;l=v}if(c||(c=(e.someProp("clipboardParser")||e.someProp("domParser")||lr.fromSchema(e.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||p),context:s,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!LR.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)c=UR(_x(c,+p[1],+p[2]),p[4]);else if(c=nt.maxOpen(BR(c.content,s),!0),c.openStart||c.openEnd){let g=0,v=0;for(let b=c.content.firstChild;g<c.openStart&&!b.type.spec.isolating;g++,b=b.firstChild);for(let b=c.content.lastChild;v<c.openEnd&&!b.type.spec.isolating;v++,b=b.lastChild);c=_x(c,g,v)}return e.someProp("transformPasted",g=>{c=g(c,e)}),c}const LR=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function BR(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let s=t.node(n).contentMatchAt(t.index(n)),a,l=[];if(e.forEach(c=>{if(!l)return;let d=s.findWrapping(c.type),h;if(!d)return l=null;if(h=l.length&&a.length&&SE(d,a,c,l[l.length-1],0))l[l.length-1]=h;else{l.length&&(l[l.length-1]=TE(l[l.length-1],a.length));let p=xE(c,d);l.push(p),s=s.matchType(p.type),a=d}}),l)return J.from(l)}return e}function xE(e,t,n=0){for(let i=t.length-1;i>=n;i--)e=t[i].create(null,J.from(e));return e}function SE(e,t,n,i,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let a=SE(e,t,n,i.lastChild,s+1);if(a)return i.copy(i.content.replaceChild(i.childCount-1,a));if(i.contentMatchAt(i.childCount).matchType(s==e.length-1?n.type:e[s+1]))return i.copy(i.content.append(J.from(xE(n,e,s+1))))}}function TE(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,TE(e.lastChild,t-1)),i=e.contentMatchAt(e.childCount).fillBefore(J.empty,!0);return e.copy(n.append(i))}function Yp(e,t,n,i,s,a){let l=t<0?e.firstChild:e.lastChild,c=l.content;return e.childCount>1&&(a=0),s<i-1&&(c=Yp(c,t,n,i,s+1,a)),s>=n&&(c=t<0?l.contentMatchAt(0).fillBefore(c,a<=s).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(J.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,l.copy(c))}function _x(e,t,n){return t<e.openStart&&(e=new nt(Yp(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new nt(Yp(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const EE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let zx=null;function CE(){return zx||(zx=document.implementation.createHTMLDocument("title"))}let $h=null;function VR(e){let t=window.trustedTypes;return t?($h||($h=t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),$h.createHTML(e)):e}function PR(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=CE().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e),s;if((s=i&&EE[i[1].toLowerCase()])&&(e=s.map(a=>"<"+a+">").join("")+e+s.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=VR(e),s)for(let a=0;a<s.length;a++)n=n.querySelector(s[a])||n;return n}function HR(e){let t=e.querySelectorAll(ze?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let i=t[n];i.childNodes.length==1&&i.textContent==" "&&i.parentNode&&i.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),i)}}function UR(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,i;try{i=JSON.parse(t)}catch{return e}let{content:s,openStart:a,openEnd:l}=e;for(let c=i.length-2;c>=0;c-=2){let d=n.nodes[i[c]];if(!d||d.hasRequiredAttrs())break;s=J.from(d.create(i[c+1],s)),a++,l++}return new nt(s,a,l)}const Ie={},Fe={},IR={touchstart:!0,touchmove:!0};class FR{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function qR(e){for(let t in Ie){let n=Ie[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=i=>{GR(e,i)&&!tg(e,i)&&(e.editable||!(i.type in Fe))&&n(e,i)},IR[t]?{passive:!0}:void 0)}Ue&&e.dom.addEventListener("input",()=>null),Xp(e)}function or(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function $R(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Xp(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=i=>tg(e,i))})}function tg(e,t){return e.someProp("handleDOMEvents",n=>{let i=n[t.type];return i?i(e,t)||t.defaultPrevented:!1})}function GR(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function KR(e,t){!tg(e,t)&&Ie[t.type]&&(e.editable||!(t.type in Fe))&&Ie[t.type](e,t)}Fe.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!wE(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Si&&ze&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),po&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();e.input.lastIOSEnter=i,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==i&&(e.someProp("handleKeyDown",s=>s(e,Ir(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",i=>i(e,n))||zR(e,n)?n.preventDefault():or(e,"key")};Fe.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Fe.keypress=(e,t)=>{let n=t;if(wE(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||An&&n.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,n))){n.preventDefault();return}let i=e.state.selection;if(!(i instanceof vt)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",a=>a(e,i.$from.pos,i.$to.pos,s))&&e.dispatch(e.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function Xc(e){return{left:e.clientX,top:e.clientY}}function YR(e,t){let n=t.x-e.clientX,i=t.y-e.clientY;return n*n+i*i<100}function eg(e,t,n,i,s){if(i==-1)return!1;let a=e.state.doc.resolve(i);for(let l=a.depth+1;l>0;l--)if(e.someProp(t,c=>l>a.depth?c(e,n,a.nodeAfter,a.before(l),s,!0):c(e,n,a.node(l),a.before(l),s,!1)))return!0;return!1}function ao(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let i=e.state.tr.setSelection(t);i.setMeta("pointer",!0),e.dispatch(i)}function XR(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),i=n.nodeAfter;return i&&i.isAtom&&ft.isSelectable(i)?(ao(e,new ft(n)),!0):!1}function JR(e,t){if(t==-1)return!1;let n=e.state.selection,i,s;n instanceof ft&&(i=n.node);let a=e.state.doc.resolve(t);for(let l=a.depth+1;l>0;l--){let c=l>a.depth?a.nodeAfter:a.node(l);if(ft.isSelectable(c)){i&&n.$from.depth>0&&l>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?s=a.before(n.$from.depth):s=a.before(l);break}}return s!=null?(ao(e,ft.create(e.state.doc,s)),!0):!1}function ZR(e,t,n,i,s){return eg(e,"handleClickOn",t,n,i)||e.someProp("handleClick",a=>a(e,t,i))||(s?JR(e,n):XR(e,n))}function QR(e,t,n,i){return eg(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",s=>s(e,t,i))}function WR(e,t,n,i){return eg(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",s=>s(e,t,i))||t6(e,n,i)}function t6(e,t,n){if(n.button!=0)return!1;let i=e.state.doc;if(t==-1)return i.inlineContent?(ao(e,vt.create(i,0,i.content.size)),!0):!1;let s=i.resolve(t);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a),c=s.before(a);if(l.inlineContent)ao(e,vt.create(i,c+1,c+1+l.content.size));else if(ft.isSelectable(l))ao(e,ft.create(i,c));else continue;return!0}}function ng(e){return Cc(e)}const ME=An?"metaKey":"ctrlKey";Ie.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let i=ng(e),s=Date.now(),a="singleClick";s-e.input.lastClick.time<500&&YR(n,e.input.lastClick)&&!n[ME]&&(e.input.lastClick.type=="singleClick"?a="doubleClick":e.input.lastClick.type=="doubleClick"&&(a="tripleClick")),e.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:a};let l=e.posAtCoords(Xc(n));l&&(a=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new e6(e,l,n,!!i)):(a=="doubleClick"?QR:WR)(e,l.pos,l.inside,n)?n.preventDefault():or(e,"pointer"))};class e6{constructor(t,n,i,s){this.view=t,this.pos=n,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!i[ME],this.allowDefault=i.shiftKey;let a,l;if(n.inside>-1)a=t.state.doc.nodeAt(n.inside),l=n.inside;else{let p=t.state.doc.resolve(n.pos);a=p.parent,l=p.depth?p.before():0}const c=s?null:i.target,d=c?t.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=t.state;(i.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||h instanceof ft&&h.from<=l&&h.to>l)&&(this.mightDrag={node:a,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Vn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),or(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ci(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Xc(t))),this.updateAllowDefault(t),this.allowDefault||!n?or(this.view,"pointer"):ZR(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Ue&&this.mightDrag&&!this.mightDrag.node.isAtom||ze&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ao(this.view,xt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):or(this.view,"pointer")}move(t){this.updateAllowDefault(t),or(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Ie.touchstart=e=>{e.input.lastTouch=Date.now(),ng(e),or(e,"pointer")};Ie.touchmove=e=>{e.input.lastTouch=Date.now(),or(e,"pointer")};Ie.contextmenu=e=>ng(e);function wE(e,t){return e.composing?!0:Ue&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const n6=Si?5e3:-1;Fe.compositionstart=Fe.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof vt&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Cc(e,!0),e.markCursor=null;else if(Cc(e,!t.selection.empty),Vn&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=e.domSelectionRange();for(let s=i.focusNode,a=i.focusOffset;s&&s.nodeType==1&&a!=0;){let l=a<0?s.lastChild:s.childNodes[a-1];if(!l)break;if(l.nodeType==3){let c=e.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else s=l,a=-1}}e.input.composing=!0}kE(e,n6)};Fe.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,kE(e,20))};function kE(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Cc(e),t))}function AE(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=r6());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function i6(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=XN(t.focusNode,t.focusOffset),i=JN(t.focusNode,t.focusOffset);if(n&&i&&n!=i){let s=i.pmViewDesc,a=e.domObserver.lastChangedTextNode;if(n==a||i==a)return a;if(!s||!s.isText(i.nodeValue))return i;if(e.input.compositionNode==i){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return i}}return n||i}function r6(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Cc(e,t=!1){if(!(Si&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),AE(e),t||e.docView&&e.docView.dirty){let n=Zm(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!e.state.selection.empty?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function s6(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const nl=Qe&&ur<15||po&&eR<604;Ie.copy=Fe.cut=(e,t)=>{let n=t,i=e.state.selection,s=n.type=="cut";if(i.empty)return;let a=nl?null:n.clipboardData,l=i.content(),{dom:c,text:d}=Wm(e,l);a?(n.preventDefault(),a.clearData(),a.setData("text/html",c.innerHTML),a.setData("text/plain",d)):s6(e,c),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function o6(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function a6(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?il(e,i.value,null,s,t):il(e,i.textContent,i.innerHTML,s,t)},50)}function il(e,t,n,i,s){let a=bE(e,t,n,i,e.state.selection.$from);if(e.someProp("handlePaste",d=>d(e,s,a||nt.empty)))return!0;if(!a)return!1;let l=o6(a),c=l?e.state.tr.replaceSelectionWith(l,i):e.state.tr.replaceSelection(a);return e.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function OE(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Fe.paste=(e,t)=>{let n=t;if(e.composing&&!Si)return;let i=nl?null:n.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;i&&il(e,OE(i),i.getData("text/html"),s,n)?n.preventDefault():a6(e,n)};class DE{constructor(t,n,i){this.slice=t,this.move=n,this.node=i}}const l6=An?"altKey":"ctrlKey";function NE(e,t){let n=e.someProp("dragCopies",i=>!i(t));return n??!t[l6]}Ie.dragstart=(e,t)=>{let n=t,i=e.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let s=e.state.selection,a=s.empty?null:e.posAtCoords(Xc(n)),l;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof ft?s.to-1:s.to))){if(i&&i.mightDrag)l=ft.create(e.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=e.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=e.docView&&(l=ft.create(e.state.doc,g.posBefore))}}let c=(l||e.state.selection).content(),{dom:d,text:h,slice:p}=Wm(e,c);(!n.dataTransfer.files.length||!ze||iE>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(nl?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",nl||n.dataTransfer.setData("text/plain",h),e.dragging=new DE(p,NE(e,n),l)};Ie.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Fe.dragover=Fe.dragenter=(e,t)=>t.preventDefault();Fe.drop=(e,t)=>{let n=t,i=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let s=e.posAtCoords(Xc(n));if(!s)return;let a=e.state.doc.resolve(s.pos),l=i&&i.slice;l?e.someProp("transformPasted",x=>{l=x(l,e)}):l=bE(e,OE(n.dataTransfer),nl?null:n.dataTransfer.getData("text/html"),!1,a);let c=!!(i&&NE(e,n));if(e.someProp("handleDrop",x=>x(e,n,l||nt.empty,c))){n.preventDefault();return}if(!l)return;n.preventDefault();let d=l?XT(e.state.doc,a.pos,l):a.pos;d==null&&(d=a.pos);let h=e.state.tr;if(c){let{node:x}=i;x?x.replace(h):h.deleteSelection()}let p=h.mapping.map(d),g=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,v=h.doc;if(g?h.replaceRangeWith(p,p,l.content.firstChild):h.replaceRange(p,p,l),h.doc.eq(v))return;let b=h.doc.resolve(p);if(g&&ft.isSelectable(l.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(l.content.firstChild))h.setSelection(new ft(b));else{let x=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((E,C,w,O)=>x=O),h.setSelection(Qm(e,b,h.doc.resolve(x)))}e.focus(),e.dispatch(h.setMeta("uiEvent","drop"))};Ie.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ci(e)},20))};Ie.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Ie.beforeinput=(e,t)=>{if(ze&&Si&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:i}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=i||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",a=>a(e,Ir(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in Fe)Ie[e]=Fe[e];function rl(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Mc{constructor(t,n){this.toDOM=t,this.spec=n||Wr,this.side=this.spec.side||0}map(t,n,i,s){let{pos:a,deleted:l}=t.mapResult(n.from+s,this.side<0?-1:1);return l?null:new dn(a-i,a-i,this)}valid(){return!0}eq(t){return this==t||t instanceof Mc&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&rl(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class fr{constructor(t,n){this.attrs=t,this.spec=n||Wr}map(t,n,i,s){let a=t.map(n.from+s,this.spec.inclusiveStart?-1:1)-i,l=t.map(n.to+s,this.spec.inclusiveEnd?1:-1)-i;return a>=l?null:new dn(a,l,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof fr&&rl(this.attrs,t.attrs)&&rl(this.spec,t.spec)}static is(t){return t.type instanceof fr}destroy(){}}class ig{constructor(t,n){this.attrs=t,this.spec=n||Wr}map(t,n,i,s){let a=t.mapResult(n.from+s,1);if(a.deleted)return null;let l=t.mapResult(n.to+s,-1);return l.deleted||l.pos<=a.pos?null:new dn(a.pos-i,l.pos-i,this)}valid(t,n){let{index:i,offset:s}=t.content.findIndex(n.from),a;return s==n.from&&!(a=t.child(i)).isText&&s+a.nodeSize==n.to}eq(t){return this==t||t instanceof ig&&rl(this.attrs,t.attrs)&&rl(this.spec,t.spec)}destroy(){}}class dn{constructor(t,n,i){this.from=t,this.to=n,this.type=i}copy(t,n){return new dn(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,i){return this.type.map(t,this,n,i)}static widget(t,n,i){return new dn(t,t,new Mc(n,i))}static inline(t,n,i,s){return new dn(t,n,new fr(i,s))}static node(t,n,i,s){return new dn(t,n,new ig(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof fr}get widget(){return this.type instanceof Mc}}const Qs=[],Wr={};class ae{constructor(t,n){this.local=t.length?t:Qs,this.children=n.length?n:Qs}static create(t,n){return n.length?wc(n,t,0,Wr):je}find(t,n,i){let s=[];return this.findInner(t??0,n??1e9,s,0,i),s}findInner(t,n,i,s,a){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=n&&c.to>=t&&(!a||a(c.spec))&&i.push(c.copy(c.from+s,c.to+s))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>t){let c=this.children[l]+1;this.children[l+2].findInner(t-c,n-c,i,s+c,a)}}map(t,n,i){return this==je||t.maps.length==0?this:this.mapInner(t,n,0,0,i||Wr)}mapInner(t,n,i,s,a){let l;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(t,i,s);d&&d.type.valid(n,d)?(l||(l=[])).push(d):a.onRemove&&a.onRemove(this.local[c].spec)}return this.children.length?u6(this.children,l||[],t,n,i,s,a):l?new ae(l.sort(ts),Qs):je}add(t,n){return n.length?this==je?ae.create(t,n):this.addInner(t,n,0):this}addInner(t,n,i){let s,a=0;t.forEach((c,d)=>{let h=d+i,p;if(p=jE(n,c,h)){for(s||(s=this.children.slice());a<s.length&&s[a]<d;)a+=3;s[a]==d?s[a+2]=s[a+2].addInner(c,p,h+1):s.splice(a,0,d,d+c.nodeSize,wc(p,c,h+1,Wr)),a+=3}});let l=RE(a?_E(n):n,-i);for(let c=0;c<l.length;c++)l[c].type.valid(t,l[c])||l.splice(c--,1);return new ae(l.length?this.local.concat(l).sort(ts):this.local,s||this.children)}remove(t){return t.length==0||this==je?this:this.removeInner(t,0)}removeInner(t,n){let i=this.children,s=this.local;for(let a=0;a<i.length;a+=3){let l,c=i[a]+n,d=i[a+1]+n;for(let p=0,g;p<t.length;p++)(g=t[p])&&g.from>c&&g.to<d&&(t[p]=null,(l||(l=[])).push(g));if(!l)continue;i==this.children&&(i=this.children.slice());let h=i[a+2].removeInner(l,c+1);h!=je?i[a+2]=h:(i.splice(a,3),a-=3)}if(s.length){for(let a=0,l;a<t.length;a++)if(l=t[a])for(let c=0;c<s.length;c++)s[c].eq(l,n)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new ae(s,i):je}forChild(t,n){if(this==je)return this;if(n.isLeaf)return ae.empty;let i,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=t){this.children[c]==t&&(i=this.children[c+2]);break}let a=t+1,l=a+n.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<l&&d.to>a&&d.type instanceof fr){let h=Math.max(a,d.from)-a,p=Math.min(l,d.to)-a;h<p&&(s||(s=[])).push(d.copy(h,p))}}if(s){let c=new ae(s.sort(ts),Qs);return i?new ir([c,i]):c}return i||je}eq(t){if(this==t)return!0;if(!(t instanceof ae)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return rg(this.localsInner(t))}localsInner(t){if(this==je)return Qs;if(t.inlineContent||!this.local.some(fr.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof fr||n.push(this.local[i]);return n}forEachSet(t){t(this)}}ae.empty=new ae([],[]);ae.removeOverlap=rg;const je=ae.empty;class ir{constructor(t){this.members=t}map(t,n){const i=this.members.map(s=>s.map(t,n,Wr));return ir.from(i)}forChild(t,n){if(n.isLeaf)return ae.empty;let i=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(t,n);a!=je&&(a instanceof ir?i=i.concat(a.members):i.push(a))}return ir.from(i)}eq(t){if(!(t instanceof ir)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,i=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(t);if(a.length)if(!n)n=a;else{i&&(n=n.slice(),i=!1);for(let l=0;l<a.length;l++)n.push(a[l])}}return n?rg(i?n:n.sort(ts)):Qs}static from(t){switch(t.length){case 0:return je;case 1:return t[0];default:return new ir(t.every(n=>n instanceof ae)?t:t.reduce((n,i)=>n.concat(i instanceof ae?i:i.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function u6(e,t,n,i,s,a,l){let c=e.slice();for(let h=0,p=a;h<n.maps.length;h++){let g=0;n.maps[h].forEach((v,b,x,E)=>{let C=E-x-(b-v);for(let w=0;w<c.length;w+=3){let O=c[w+1];if(O<0||v>O+p-g)continue;let A=c[w]+p-g;b>=A?c[w+1]=v<=A?-2:-1:v>=p&&C&&(c[w]+=C,c[w+1]+=C)}g+=C}),p=n.maps[h].map(p,-1)}let d=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){d=!0,c[h+1]=-1;continue}let p=n.map(e[h]+a),g=p-s;if(g<0||g>=i.content.size){d=!0;continue}let v=n.map(e[h+1]+a,-1),b=v-s,{index:x,offset:E}=i.content.findIndex(g),C=i.maybeChild(x);if(C&&E==g&&E+C.nodeSize==b){let w=c[h+2].mapInner(n,C,p+1,e[h]+a+1,l);w!=je?(c[h]=g,c[h+1]=b,c[h+2]=w):(c[h+1]=-2,d=!0)}else d=!0}if(d){let h=c6(c,e,t,n,s,a,l),p=wc(h,i,0,l);t=p.local;for(let g=0;g<c.length;g+=3)c[g+1]<0&&(c.splice(g,3),g-=3);for(let g=0,v=0;g<p.children.length;g+=3){let b=p.children[g];for(;v<c.length&&c[v]<b;)v+=3;c.splice(v,0,p.children[g],p.children[g+1],p.children[g+2])}}return new ae(t.sort(ts),c)}function RE(e,t){if(!t||!e.length)return e;let n=[];for(let i=0;i<e.length;i++){let s=e[i];n.push(new dn(s.from+t,s.to+t,s.type))}return n}function c6(e,t,n,i,s,a,l){function c(d,h){for(let p=0;p<d.local.length;p++){let g=d.local[p].map(i,s,h);g?n.push(g):l.onRemove&&l.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)c(d.children[p+2],d.children[p]+h+1)}for(let d=0;d<e.length;d+=3)e[d+1]==-1&&c(e[d+2],t[d]+a+1);return n}function jE(e,t,n){if(t.isLeaf)return null;let i=n+t.nodeSize,s=null;for(let a=0,l;a<e.length;a++)(l=e[a])&&l.from>n&&l.to<i&&((s||(s=[])).push(l),e[a]=null);return s}function _E(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function wc(e,t,n,i){let s=[],a=!1;t.forEach((c,d)=>{let h=jE(e,c,d+n);if(h){a=!0;let p=wc(h,c,n+d+1,i);p!=je&&s.push(d,d+c.nodeSize,p)}});let l=RE(a?_E(e):e,-n).sort(ts);for(let c=0;c<l.length;c++)l[c].type.valid(t,l[c])||(i.onRemove&&i.onRemove(l[c].spec),l.splice(c--,1));return l.length||s.length?new ae(l,s):je}function ts(e,t){return e.from-t.from||e.to-t.to}function rg(e){let t=e;for(let n=0;n<t.length-1;n++){let i=t[n];if(i.from!=i.to)for(let s=n+1;s<t.length;s++){let a=t[s];if(a.from==i.from){a.to!=i.to&&(t==e&&(t=e.slice()),t[s]=a.copy(a.from,i.to),Lx(t,s+1,a.copy(i.to,a.to)));continue}else{a.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,a.from),Lx(t,s,i.copy(a.from,i.to)));break}}}return t}function Lx(e,t,n){for(;t<e.length&&ts(n,e[t])>0;)t++;e.splice(t,0,n)}function Gh(e){let t=[];return e.someProp("decorations",n=>{let i=n(e.state);i&&i!=je&&t.push(i)}),e.cursorWrapper&&t.push(ae.create(e.state.doc,[e.cursorWrapper.deco])),ir.from(t)}const f6={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},d6=Qe&&ur<=11;class h6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class p6{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new h6,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);Qe&&ur<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),d6&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,f6)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ax(this.view)){if(this.suppressingSelectionUpdates)return Ci(this.view);if(Qe&&ur<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&rs(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,i;for(let a=t.focusNode;a;a=ho(a))n.add(a);for(let a=t.anchorNode;a;a=ho(a))if(n.has(a)){i=a;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=t.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&Ax(t)&&!this.ignoreSelectionChange(i),a=-1,l=-1,c=!1,d=[];if(t.editable)for(let p=0;p<n.length;p++){let g=this.registerMutation(n[p],d);g&&(a=a<0?g.from:Math.min(g.from,a),l=l<0?g.to:Math.max(g.to,l),g.typeOver&&(c=!0))}if(Vn&&d.length){let p=d.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,v]=p;g.parentNode&&g.parentNode.parentNode==v.parentNode?v.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let v of p){let b=v.parentNode;b&&b.nodeName=="LI"&&(!g||y6(t,g)!=b)&&v.remove()}}}let h=null;a<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Kc(i)&&(h=Zm(t))&&h.eq(xt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ci(t),this.currentSelection.set(i),t.scrollToSelection()):(a>-1||s)&&(a>-1&&(t.docView.markDirty(a,l),m6(t)),this.handleDOMChange(a,l,c,d),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(i)||Ci(t),this.currentSelection.set(i))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let i=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(i==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!i||i.ignoreMutation(t))return null;if(t.type=="childList"){for(let p=0;p<t.addedNodes.length;p++){let g=t.addedNodes[p];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(t.target))return{from:i.posBefore,to:i.posAfter};let s=t.previousSibling,a=t.nextSibling;if(Qe&&ur<=11&&t.addedNodes.length)for(let p=0;p<t.addedNodes.length;p++){let{previousSibling:g,nextSibling:v}=t.addedNodes[p];(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(s=g),(!v||Array.prototype.indexOf.call(t.addedNodes,v)<0)&&(a=v)}let l=s&&s.parentNode==t.target?we(s)+1:0,c=i.localPosFromDOM(t.target,l,-1),d=a&&a.parentNode==t.target?we(a):t.target.childNodes.length,h=i.localPosFromDOM(t.target,d,1);return{from:c,to:h}}else return t.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=t.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Bx=new WeakMap,Vx=!1;function m6(e){if(!Bx.has(e)&&(Bx.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Vn,Vx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Vx=!0}}function Px(e,t){let n=t.startContainer,i=t.startOffset,s=t.endContainer,a=t.endOffset,l=e.domAtPos(e.state.selection.anchor);return rs(l.node,l.offset,s,a)&&([n,i,s,a]=[s,a,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}}function g6(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return Px(e,s)}let n;function i(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",i,!0),n?Px(e,n):null}function y6(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let i=e.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function v6(e,t,n){let{node:i,fromOffset:s,toOffset:a,from:l,to:c}=e.docView.parseRange(t,n),d=e.domSelectionRange(),h,p=d.anchorNode;if(p&&e.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:d.anchorOffset}],Kc(d)||h.push({node:d.focusNode,offset:d.focusOffset})),ze&&e.input.lastKeyCode===8)for(let C=a;C>s;C--){let w=i.childNodes[C-1],O=w.pmViewDesc;if(w.nodeName=="BR"&&!O){a=C;break}if(!O||O.size)break}let g=e.state.doc,v=e.someProp("domParser")||lr.fromSchema(e.state.schema),b=g.resolve(l),x=null,E=v.parse(i,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:a,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:b6,context:b});if(h&&h[0].pos!=null){let C=h[0].pos,w=h[1]&&h[1].pos;w==null&&(w=C),x={anchor:C+l,head:w+l}}return{doc:E,sel:x,from:l,to:c}}function b6(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Ue&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Ue&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const x6=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function S6(e,t,n,i,s){let a=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let K=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,tt=Zm(e,K);if(tt&&!e.state.selection.eq(tt)){if(ze&&Si&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",Ot=>Ot(e,Ir(13,"Enter"))))return;let at=e.state.tr.setSelection(tt);K=="pointer"?at.setMeta("pointer",!0):K=="key"&&at.scrollIntoView(),a&&at.setMeta("composition",a),e.dispatch(at)}return}let l=e.state.doc.resolve(t),c=l.sharedDepth(n);t=l.before(c+1),n=e.state.doc.resolve(n).after(c+1);let d=e.state.selection,h=v6(e,t,n),p=e.state.doc,g=p.slice(h.from,h.to),v,b;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(v=e.state.selection.to,b="end"):(v=e.state.selection.from,b="start"),e.input.lastKeyCode=null;let x=C6(g.content,h.doc.content,h.from,v,b);if(x&&e.input.domChangeCount++,(po&&e.input.lastIOSEnter>Date.now()-225||Si)&&s.some(K=>K.nodeType==1&&!x6.test(K.nodeName))&&(!x||x.endA>=x.endB)&&e.someProp("handleKeyDown",K=>K(e,Ir(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!x)if(i&&d instanceof vt&&!d.empty&&d.$head.sameParent(d.$anchor)&&!e.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))x={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let K=Hx(e,e.state.doc,h.sel);if(K&&!K.eq(e.state.selection)){let tt=e.state.tr.setSelection(K);a&&tt.setMeta("composition",a),e.dispatch(tt)}}return}e.state.selection.from<e.state.selection.to&&x.start==x.endB&&e.state.selection instanceof vt&&(x.start>e.state.selection.from&&x.start<=e.state.selection.from+2&&e.state.selection.from>=h.from?x.start=e.state.selection.from:x.endA<e.state.selection.to&&x.endA>=e.state.selection.to-2&&e.state.selection.to<=h.to&&(x.endB+=e.state.selection.to-x.endA,x.endA=e.state.selection.to)),Qe&&ur<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>h.from&&h.doc.textBetween(x.start-h.from-1,x.start-h.from+1)=="  "&&(x.start--,x.endA--,x.endB--);let E=h.doc.resolveNoCache(x.start-h.from),C=h.doc.resolveNoCache(x.endB-h.from),w=p.resolve(x.start),O=E.sameParent(C)&&E.parent.inlineContent&&w.end()>=x.endA,A;if((po&&e.input.lastIOSEnter>Date.now()-225&&(!O||s.some(K=>K.nodeName=="DIV"||K.nodeName=="P"))||!O&&E.pos<h.doc.content.size&&(!E.sameParent(C)||!E.parent.inlineContent)&&(A=xt.findFrom(h.doc.resolve(E.pos+1),1,!0))&&A.head>E.pos)&&e.someProp("handleKeyDown",K=>K(e,Ir(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>x.start&&E6(p,x.start,x.endA,E,C)&&e.someProp("handleKeyDown",K=>K(e,Ir(8,"Backspace")))){Si&&ze&&e.domObserver.suppressSelectionUpdates();return}ze&&x.endB==x.start&&(e.input.lastChromeDelete=Date.now()),Si&&!O&&E.start()!=C.start()&&C.parentOffset==0&&E.depth==C.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==x.endA&&(x.endB-=2,C=h.doc.resolveNoCache(x.endB-h.from),setTimeout(()=>{e.someProp("handleKeyDown",function(K){return K(e,Ir(13,"Enter"))})},20));let B=x.start,_=x.endA,U,G,q;if(O){if(E.pos==C.pos)Qe&&ur<=11&&E.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ci(e),20)),U=e.state.tr.delete(B,_),G=p.resolve(x.start).marksAcross(p.resolve(x.endA));else if(x.endA==x.endB&&(q=T6(E.parent.content.cut(E.parentOffset,C.parentOffset),w.parent.content.cut(w.parentOffset,x.endA-w.start()))))U=e.state.tr,q.type=="add"?U.addMark(B,_,q.mark):U.removeMark(B,_,q.mark);else if(E.parent.child(E.index()).isText&&E.index()==C.index()-(C.textOffset?0:1)){let K=E.parent.textBetween(E.parentOffset,C.parentOffset);if(e.someProp("handleTextInput",tt=>tt(e,B,_,K)))return;U=e.state.tr.insertText(K,B,_)}}if(U||(U=e.state.tr.replace(B,_,h.doc.slice(x.start-h.from,x.endB-h.from))),h.sel){let K=Hx(e,U.doc,h.sel);K&&!(ze&&e.composing&&K.empty&&(x.start!=x.endB||e.input.lastChromeDelete<Date.now()-100)&&(K.head==B||K.head==U.mapping.map(_)-1)||Qe&&K.empty&&K.head==B)&&U.setSelection(K)}G&&U.ensureMarks(G),a&&U.setMeta("composition",a),e.dispatch(U.scrollIntoView())}function Hx(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Qm(e,t.resolve(n.anchor),t.resolve(n.head))}function T6(e,t){let n=e.firstChild.marks,i=t.firstChild.marks,s=n,a=i,l,c,d;for(let p=0;p<i.length;p++)s=i[p].removeFromSet(s);for(let p=0;p<n.length;p++)a=n[p].removeFromSet(a);if(s.length==1&&a.length==0)c=s[0],l="add",d=p=>p.mark(c.addToSet(p.marks));else if(s.length==0&&a.length==1)c=a[0],l="remove",d=p=>p.mark(c.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<t.childCount;p++)h.push(d(t.child(p)));if(J.from(h).eq(e))return{mark:c,type:l}}function E6(e,t,n,i,s){if(n-t<=s.pos-i.pos||Kh(i,!0,!1)<s.pos)return!1;let a=e.resolve(t);if(!i.parent.isTextblock){let c=a.nodeAfter;return c!=null&&n==t+c.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let l=e.resolve(Kh(a,!0,!0));return!l.parent.isTextblock||l.pos>n||Kh(l,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(l.parent.content)}function Kh(e,t,n){let i=e.depth,s=t?e.end():e.pos;for(;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,s++,t=!1;if(n){let a=e.node(i).maybeChild(e.indexAfter(i));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function C6(e,t,n,i,s){let a=e.findDiffStart(t,n);if(a==null)return null;let{a:l,b:c}=e.findDiffEnd(t,n+e.size,n+t.size);if(s=="end"){let d=Math.max(0,a-Math.min(l,c));i-=l+d-a}if(l<a&&e.size<t.size){let d=i<=a&&i>=l?a-i:0;a-=d,a&&a<t.size&&Ux(t.textBetween(a-1,a+1))&&(a+=d?1:-1),c=a+(c-l),l=a}else if(c<a){let d=i<=a&&i>=c?a-i:0;a-=d,a&&a<e.size&&Ux(e.textBetween(a-1,a+1))&&(a+=d?1:-1),l=a+(l-c),c=a}return{start:a,endA:l,endB:c}}function Ux(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class M6{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new FR,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Gx),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=qx(this),Fx(this),this.nodeViews=$x(this),this.docView=Tx(this.state.doc,Ix(this),Gh(this),this.dom,this),this.domObserver=new p6(this,(i,s,a,l)=>S6(this,i,s,a,l)),this.domObserver.start(),qR(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Xp(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Gx),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in t)n[i]=t[i];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var i;let s=this.state,a=!1,l=!1;t.storedMarks&&this.composing&&(AE(this),l=!0),this.state=t;let c=s.plugins!=t.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let b=$x(this);k6(b,this.nodeViews)&&(this.nodeViews=b,a=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&Xp(this),this.editable=qx(this),Fx(this);let d=Gh(this),h=Ix(this),p=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",g=a||!this.docView.matchesNode(t.doc,h,d);(g||!t.selection.eq(s.selection))&&(l=!0);let v=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&rR(this);if(l){this.domObserver.stop();let b=g&&(Qe||ze)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&w6(s.selection,t.selection);if(g){let x=ze?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=i6(this)),(a||!this.docView.update(t.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=Tx(t.doc,h,d,this.dom,this)),x&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&AR(this))?Ci(this,b):(gE(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&sR(v)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ft){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&gx(this,n.getBoundingClientRect(),t)}else gx(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,t)}}updateDraggedNode(t,n){let i=t.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let a=i.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==i.node&&(s=a)}this.dragging=new DE(t.slice,t.move,s<0?void 0:ft.create(this.state.doc,s))}someProp(t,n){let i=this._props&&this._props[t],s;if(i!=null&&(s=n?n(i):i))return s;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[t];if(c!=null&&(s=n?n(c):c))return s}let a=this.state.plugins;if(a)for(let l=0;l<a.length;l++){let c=a[l].props[t];if(c!=null&&(s=n?n(c):c))return s}}hasFocus(){if(Qe){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&oR(this.dom),Ci(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return fR(this,t)}coordsAtPos(t,n=1){return lE(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,i=-1){let s=this.docView.posFromDOM(t,n,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,n){return gR(this,n||this.state,t)}pasteHTML(t,n){return il(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return il(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return Wm(this,t)}destroy(){this.docView&&($R(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Gh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,KN())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return KR(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?Ue&&this.root.nodeType===11&&QN(this.dom.ownerDocument)==this.dom&&g6(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Ix(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let i in n)i=="class"?t.class+=" "+n[i]:i=="style"?t.style=(t.style?t.style+";":"")+n[i]:!t[i]&&i!="contenteditable"&&i!="nodeName"&&(t[i]=String(n[i]))}),t.translate||(t.translate="no"),[dn.node(0,e.state.doc.content.size,t)]}function Fx(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:dn.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function qx(e){return!e.someProp("editable",t=>t(e.state)===!1)}function w6(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function $x(e){let t=Object.create(null);function n(i){for(let s in i)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=i[s])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function k6(e,t){let n=0,i=0;for(let s in e){if(e[s]!=t[s])return!0;n++}for(let s in t)i++;return n!=i}function Gx(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var pr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},A6=typeof navigator<"u"&&/Mac/.test(navigator.platform),O6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ke=0;ke<10;ke++)pr[48+ke]=pr[96+ke]=String(ke);for(var ke=1;ke<=24;ke++)pr[ke+111]="F"+ke;for(var ke=65;ke<=90;ke++)pr[ke]=String.fromCharCode(ke+32),kc[ke]=String.fromCharCode(ke);for(var Yh in pr)kc.hasOwnProperty(Yh)||(kc[Yh]=pr[Yh]);function D6(e){var t=A6&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||O6&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?kc:pr)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const N6=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function R6(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let i,s,a,l;for(let c=0;c<t.length-1;c++){let d=t[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))N6?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),l&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function j6(e){let t=Object.create(null);for(let n in e)t[R6(n)]=e[n];return t}function Xh(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function _6(e){return new $e({props:{handleKeyDown:zE(e)}})}function zE(e){let t=j6(e);return function(n,i){let s=D6(i),a,l=t[Xh(s,i)];if(l&&l(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let c=t[Xh(s,i,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((i.shiftKey||i.altKey||i.metaKey||s.charCodeAt(0)>127)&&(a=pr[i.keyCode])&&a!=s){let c=t[Xh(a,i)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}const sg=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function LE(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const BE=(e,t,n)=>{let i=LE(e,n);if(!i)return!1;let s=og(i);if(!s){let l=i.blockRange(),c=l&&Eo(l);return c==null?!1:(t&&t(e.tr.lift(l,c).scrollIntoView()),!0)}let a=s.nodeBefore;if(GE(e,s,t,-1))return!0;if(i.parent.content.size==0&&(mo(a,"end")||ft.isSelectable(a)))for(let l=i.depth;;l--){let c=$c(e.doc,i.before(l),i.after(l),nt.empty);if(c&&c.slice.size<c.to-c.from){if(t){let d=e.tr.step(c);d.setSelection(mo(a,"end")?xt.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):ft.create(d.doc,s.pos-a.nodeSize)),t(d.scrollIntoView())}return!0}if(l==1||i.node(l-1).childCount>1)break}return a.isAtom&&s.depth==i.depth-1?(t&&t(e.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},z6=(e,t,n)=>{let i=LE(e,n);if(!i)return!1;let s=og(i);return s?VE(e,s,t):!1},L6=(e,t,n)=>{let i=HE(e,n);if(!i)return!1;let s=ag(i);return s?VE(e,s,t):!1};function VE(e,t,n){let i=t.nodeBefore,s=i,a=t.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let l=t.nodeAfter,c=l,d=t.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let h=$c(e.doc,a,d,nt.empty);if(!h||h.from!=a||h instanceof ge&&h.slice.size>=d-a)return!1;if(n){let p=e.tr.step(h);p.setSelection(vt.create(p.doc,a)),n(p.scrollIntoView())}return!0}function mo(e,t,n=!1){for(let i=e;i;i=t=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const PE=(e,t,n)=>{let{$head:i,empty:s}=e.selection,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):i.parentOffset>0)return!1;a=og(i)}let l=a&&a.nodeBefore;return!l||!ft.isSelectable(l)?!1:(t&&t(e.tr.setSelection(ft.create(e.doc,a.pos-l.nodeSize)).scrollIntoView()),!0)};function og(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function HE(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const UE=(e,t,n)=>{let i=HE(e,n);if(!i)return!1;let s=ag(i);if(!s)return!1;let a=s.nodeAfter;if(GE(e,s,t,1))return!0;if(i.parent.content.size==0&&(mo(a,"start")||ft.isSelectable(a))){let l=$c(e.doc,i.before(),i.after(),nt.empty);if(l&&l.slice.size<l.to-l.from){if(t){let c=e.tr.step(l);c.setSelection(mo(a,"start")?xt.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):ft.create(c.doc,c.mapping.map(s.pos))),t(c.scrollIntoView())}return!0}}return a.isAtom&&s.depth==i.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},IE=(e,t,n)=>{let{$head:i,empty:s}=e.selection,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)return!1;a=ag(i)}let l=a&&a.nodeAfter;return!l||!ft.isSelectable(l)?!1:(t&&t(e.tr.setSelection(ft.create(e.doc,a.pos)).scrollIntoView()),!0)};function ag(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const B6=(e,t)=>{let n=e.selection,i=n instanceof ft,s;if(i){if(n.node.isTextblock||!vr(e.doc,n.from))return!1;s=n.from}else if(s=qc(e.doc,n.from,-1),s==null)return!1;if(t){let a=e.tr.join(s);i&&a.setSelection(ft.create(a.doc,s-e.doc.resolve(s).nodeBefore.nodeSize)),t(a.scrollIntoView())}return!0},V6=(e,t)=>{let n=e.selection,i;if(n instanceof ft){if(n.node.isTextblock||!vr(e.doc,n.to))return!1;i=n.to}else if(i=qc(e.doc,n.to,1),i==null)return!1;return t&&t(e.tr.join(i).scrollIntoView()),!0},P6=(e,t)=>{let{$from:n,$to:i}=e.selection,s=n.blockRange(i),a=s&&Eo(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)},FE=(e,t)=>{let{$head:n,$anchor:i}=e.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function lg(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const H6=(e,t)=>{let{$head:n,$anchor:i}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let s=n.node(-1),a=n.indexAfter(-1),l=lg(s.contentMatchAt(a));if(!l||!s.canReplaceWith(a,a,l))return!1;if(t){let c=n.after(),d=e.tr.replaceWith(c,c,l.createAndFill());d.setSelection(xt.near(d.doc.resolve(c),1)),t(d.scrollIntoView())}return!0},qE=(e,t)=>{let n=e.selection,{$from:i,$to:s}=n;if(n instanceof hn||i.parent.inlineContent||s.parent.inlineContent)return!1;let a=lg(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){let l=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,c=e.tr.insert(l,a.createAndFill());c.setSelection(vt.create(c.doc,l+1)),t(c.scrollIntoView())}return!0},$E=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(Ei(e.doc,a))return t&&t(e.tr.split(a).scrollIntoView()),!0}let i=n.blockRange(),s=i&&Eo(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)};function U6(e){return(t,n)=>{let{$from:i,$to:s}=t.selection;if(t.selection instanceof ft&&t.selection.node.isBlock)return!i.parentOffset||!Ei(t.doc,i.pos)?!1:(n&&n(t.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let a=[],l,c,d=!1,h=!1;for(let b=i.depth;;b--)if(i.node(b).isBlock){d=i.end(b)==i.pos+(i.depth-b),h=i.start(b)==i.pos-(i.depth-b),c=lg(i.node(b-1).contentMatchAt(i.indexAfter(b-1))),a.unshift(d&&c?{type:c}:null),l=b;break}else{if(b==1)return!1;a.unshift(null)}let p=t.tr;(t.selection instanceof vt||t.selection instanceof hn)&&p.deleteSelection();let g=p.mapping.map(i.pos),v=Ei(p.doc,g,a.length,a);if(v||(a[0]=c?{type:c}:null,v=Ei(p.doc,g,a.length,a)),!v)return!1;if(p.split(g,a.length,a),!d&&h&&i.node(l).type!=c){let b=p.mapping.map(i.before(l)),x=p.doc.resolve(b);c&&i.node(l-1).canReplaceWith(x.index(),x.index()+1,c)&&p.setNodeMarkup(p.mapping.map(i.before(l)),c)}return n&&n(p.scrollIntoView()),!0}}const I6=U6(),F6=(e,t)=>{let{$from:n,to:i}=e.selection,s,a=n.sharedDepth(i);return a==0?!1:(s=n.before(a),t&&t(e.tr.setSelection(ft.create(e.doc,s))),!0)};function q6(e,t,n){let i=t.nodeBefore,s=t.nodeAfter,a=t.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(a,a+1)||!(s.isTextblock||vr(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function GE(e,t,n,i){let s=t.nodeBefore,a=t.nodeAfter,l,c,d=s.type.spec.isolating||a.type.spec.isolating;if(!d&&q6(e,t,n))return!0;let h=!d&&t.parent.canReplace(t.index(),t.index()+1);if(h&&(l=(c=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&c.matchType(l[0]||a.type).validEnd){if(n){let b=t.pos+a.nodeSize,x=J.empty;for(let w=l.length-1;w>=0;w--)x=J.from(l[w].create(null,x));x=J.from(s.copy(x));let E=e.tr.step(new ye(t.pos-1,b,t.pos,b,new nt(x,1,0),l.length,!0)),C=E.doc.resolve(b+2*l.length);C.nodeAfter&&C.nodeAfter.type==s.type&&vr(E.doc,C.pos)&&E.join(C.pos),n(E.scrollIntoView())}return!0}let p=a.type.spec.isolating||i>0&&d?null:xt.findFrom(t,1),g=p&&p.$from.blockRange(p.$to),v=g&&Eo(g);if(v!=null&&v>=t.depth)return n&&n(e.tr.lift(g,v).scrollIntoView()),!0;if(h&&mo(a,"start",!0)&&mo(s,"end")){let b=s,x=[];for(;x.push(b),!b.isTextblock;)b=b.lastChild;let E=a,C=1;for(;!E.isTextblock;E=E.firstChild)C++;if(b.canReplace(b.childCount,b.childCount,E.content)){if(n){let w=J.empty;for(let A=x.length-1;A>=0;A--)w=J.from(x[A].copy(w));let O=e.tr.step(new ye(t.pos-x.length,t.pos+a.nodeSize,t.pos+C,t.pos+a.nodeSize-C,new nt(w,x.length,0),0,!0));n(O.scrollIntoView())}return!0}}return!1}function KE(e){return function(t,n){let i=t.selection,s=e<0?i.$from:i.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(n&&n(t.tr.setSelection(vt.create(t.doc,e<0?s.start(a):s.end(a)))),!0):!1}}const $6=KE(-1),G6=KE(1);function K6(e,t=null){return function(n,i){let{$from:s,$to:a}=n.selection,l=s.blockRange(a),c=l&&Ym(l,e,t);return c?(i&&i(n.tr.wrap(l,c).scrollIntoView()),!0):!1}}function Kx(e,t=null){return function(n,i){let s=!1;for(let a=0;a<n.selection.ranges.length&&!s;a++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[a];n.doc.nodesBetween(l,c,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(e,t)))if(d.type==e)s=!0;else{let p=n.doc.resolve(h),g=p.index();s=p.parent.canReplaceWith(g,g+1,e)}})}if(!s)return!1;if(i){let a=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[l];a.setBlockType(c,d,e,t)}i(a.scrollIntoView())}return!0}}function ug(...e){return function(t,n,i){for(let s=0;s<e.length;s++)if(e[s](t,n,i))return!0;return!1}}ug(sg,BE,PE);ug(sg,UE,IE);ug(FE,qE,$E,I6);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Y6(e,t=null){return function(n,i){let{$from:s,$to:a}=n.selection,l=s.blockRange(a);if(!l)return!1;let c=i?n.tr:null;return X6(c,l,e,t)?(i&&i(c.scrollIntoView()),!0):!1}}function X6(e,t,n,i=null){let s=!1,a=t,l=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let d=l.resolve(t.start-2);a=new xc(d,d,t.depth),t.endIndex<t.parent.childCount&&(t=new xc(t.$from,l.resolve(t.$to.end(t.depth)),t.depth)),s=!0}let c=Ym(a,n,i,t);return c?(e&&J6(e,t,c,s,n),!0):!1}function J6(e,t,n,i,s){let a=J.empty;for(let p=n.length-1;p>=0;p--)a=J.from(n[p].type.create(n[p].attrs,a));e.step(new ye(t.start-(i?2:0),t.end,t.start,t.end,new nt(a,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==s&&(l=p+1);let c=n.length-l,d=t.start+n.length-(i?2:0),h=t.parent;for(let p=t.startIndex,g=t.endIndex,v=!0;p<g;p++,v=!1)!v&&Ei(e.doc,d,c)&&(e.split(d,c),d+=2*c),d+=h.child(p).nodeSize;return e}function Z6(e){return function(t,n){let{$from:i,$to:s}=t.selection,a=i.blockRange(s,l=>l.childCount>0&&l.firstChild.type==e);return a?n?i.node(a.depth-1).type==e?Q6(t,n,e,a):W6(t,n,a):!0:!1}}function Q6(e,t,n,i){let s=e.tr,a=i.end,l=i.$to.end(i.depth);a<l&&(s.step(new ye(a-1,l,a,l,new nt(J.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new xc(s.doc.resolve(i.$from.pos),s.doc.resolve(l),i.depth));const c=Eo(i);if(c==null)return!1;s.lift(i,c);let d=s.doc.resolve(s.mapping.map(a,-1)-1);return vr(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),t(s.scrollIntoView()),!0}function W6(e,t,n){let i=e.tr,s=n.parent;for(let b=n.end,x=n.endIndex-1,E=n.startIndex;x>E;x--)b-=s.child(x).nodeSize,i.delete(b-1,b+1);let a=i.doc.resolve(n.start),l=a.nodeAfter;if(i.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,d=n.endIndex==s.childCount,h=a.node(-1),p=a.index(-1);if(!h.canReplace(p+(c?0:1),p+1,l.content.append(d?J.empty:J.from(s))))return!1;let g=a.pos,v=g+l.nodeSize;return i.step(new ye(g-(c?1:0),v+(d?1:0),g+1,v-1,new nt((c?J.empty:J.from(s.copy(J.empty))).append(d?J.empty:J.from(s.copy(J.empty))),c?0:1,d?0:1),c?0:1)),t(i.scrollIntoView()),!0}function t8(e){return function(t,n){let{$from:i,$to:s}=t.selection,a=i.blockRange(s,h=>h.childCount>0&&h.firstChild.type==e);if(!a)return!1;let l=a.startIndex;if(l==0)return!1;let c=a.parent,d=c.child(l-1);if(d.type!=e)return!1;if(n){let h=d.lastChild&&d.lastChild.type==c.type,p=J.from(h?e.create():null),g=new nt(J.from(e.create(null,J.from(c.type.create(null,p)))),h?3:1,0),v=a.start,b=a.end;n(t.tr.step(new ye(v-(h?3:1),b,v,b,g,1,!0)).scrollIntoView())}return!0}}function Jc(e){const{state:t,transaction:n}=e;let{selection:i}=n,{doc:s}=n,{storedMarks:a}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return a},get selection(){return i},get doc(){return s},get tr(){return i=n.selection,s=n.doc,a=n.storedMarks,n}}}class Zc{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:i}=this,{view:s}=n,{tr:a}=i,l=this.buildProps(a);return Object.fromEntries(Object.entries(t).map(([c,d])=>[c,(...p)=>{const g=d(...p)(l);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(a),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:i,editor:s,state:a}=this,{view:l}=s,c=[],d=!!t,h=t||a.tr,p=()=>(!d&&n&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(h),c.every(v=>v===!0)),g={...Object.fromEntries(Object.entries(i).map(([v,b])=>[v,(...E)=>{const C=this.buildProps(h,n),w=b(...E)(C);return c.push(w),g}])),run:p};return g}createCan(t){const{rawCommands:n,state:i}=this,s=!1,a=t||i.tr,l=this.buildProps(a,s);return{...Object.fromEntries(Object.entries(n).map(([d,h])=>[d,(...p)=>h(...p)({...l,dispatch:void 0})])),chain:()=>this.createChain(a,s)}}buildProps(t,n=!0){const{rawCommands:i,editor:s,state:a}=this,{view:l}=s,c={tr:t,editor:s,view:l,state:Jc({state:a,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(i).map(([d,h])=>[d,(...p)=>h(...p)(c)]))}};return c}}class e8{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const i=this.callbacks[t];return i&&i.forEach(s=>s.apply(this,n)),this}off(t,n){const i=this.callbacks[t];return i&&(n?this.callbacks[t]=i.filter(s=>s!==n):delete this.callbacks[t]),this}once(t,n){const i=(...s)=>{this.off(t,i),n.apply(this,s)};return this.on(t,i)}removeAllListeners(){this.callbacks={}}}function ot(e,t,n){return e.config[t]===void 0&&e.parent?ot(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?ot(e.parent,t,n):null}):e.config[t]}function Qc(e){const t=e.filter(s=>s.type==="extension"),n=e.filter(s=>s.type==="node"),i=e.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:i}}function YE(e){const t=[],{nodeExtensions:n,markExtensions:i}=Qc(e),s=[...n,...i],a={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:s},d=ot(l,"addGlobalAttributes",c);if(!d)return;d().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([v,b])=>{t.push({type:g,name:v,attribute:{...a,...b}})})})})}),s.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},d=ot(l,"addAttributes",c);if(!d)return;const h=d();Object.entries(h).forEach(([p,g])=>{const v={...a,...g};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,t.push({type:l.name,name:p,attribute:v})})}),t}function be(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function qe(...e){return e.filter(t=>!!t).reduce((t,n)=>{const i={...t};return Object.entries(n).forEach(([s,a])=>{if(!i[s]){i[s]=a;return}if(s==="class"){const c=a?String(a).split(" "):[],d=i[s]?i[s].split(" "):[],h=c.filter(p=>!d.includes(p));i[s]=[...d,...h].join(" ")}else if(s==="style"){const c=a?a.split(";").map(p=>p.trim()).filter(Boolean):[],d=i[s]?i[s].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;d.forEach(p=>{const[g,v]=p.split(":").map(b=>b.trim());h.set(g,v)}),c.forEach(p=>{const[g,v]=p.split(":").map(b=>b.trim());h.set(g,v)}),i[s]=Array.from(h.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else i[s]=a}),i},{})}function Jp(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,i)=>qe(n,i),{})}function XE(e){return typeof e=="function"}function Ct(e,t=void 0,...n){return XE(e)?t?e.bind(t)(...n):e(...n):e}function n8(e={}){return Object.keys(e).length===0&&e.constructor===Object}function i8(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Yx(e,t){return"style"in e?e:{...e,getAttrs:n=>{const i=e.getAttrs?e.getAttrs(n):e.attrs;if(i===!1)return!1;const s=t.reduce((a,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(n):i8(n.getAttribute(l.name));return c==null?a:{...a,[l.name]:c}},{});return{...i,...s}}}}function Xx(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&n8(n)?!1:n!=null))}function r8(e,t){var n;const i=YE(e),{nodeExtensions:s,markExtensions:a}=Qc(e),l=(n=s.find(h=>ot(h,"topNode")))===null||n===void 0?void 0:n.name,c=Object.fromEntries(s.map(h=>{const p=i.filter(w=>w.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:t},v=e.reduce((w,O)=>{const A=ot(O,"extendNodeSchema",g);return{...w,...A?A(h):{}}},{}),b=Xx({...v,content:Ct(ot(h,"content",g)),marks:Ct(ot(h,"marks",g)),group:Ct(ot(h,"group",g)),inline:Ct(ot(h,"inline",g)),atom:Ct(ot(h,"atom",g)),selectable:Ct(ot(h,"selectable",g)),draggable:Ct(ot(h,"draggable",g)),code:Ct(ot(h,"code",g)),whitespace:Ct(ot(h,"whitespace",g)),linebreakReplacement:Ct(ot(h,"linebreakReplacement",g)),defining:Ct(ot(h,"defining",g)),isolating:Ct(ot(h,"isolating",g)),attrs:Object.fromEntries(p.map(w=>{var O;return[w.name,{default:(O=w==null?void 0:w.attribute)===null||O===void 0?void 0:O.default}]}))}),x=Ct(ot(h,"parseHTML",g));x&&(b.parseDOM=x.map(w=>Yx(w,p)));const E=ot(h,"renderHTML",g);E&&(b.toDOM=w=>E({node:w,HTMLAttributes:Jp(w,p)}));const C=ot(h,"renderText",g);return C&&(b.toText=C),[h.name,b]})),d=Object.fromEntries(a.map(h=>{const p=i.filter(C=>C.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:t},v=e.reduce((C,w)=>{const O=ot(w,"extendMarkSchema",g);return{...C,...O?O(h):{}}},{}),b=Xx({...v,inclusive:Ct(ot(h,"inclusive",g)),excludes:Ct(ot(h,"excludes",g)),group:Ct(ot(h,"group",g)),spanning:Ct(ot(h,"spanning",g)),code:Ct(ot(h,"code",g)),attrs:Object.fromEntries(p.map(C=>{var w;return[C.name,{default:(w=C==null?void 0:C.attribute)===null||w===void 0?void 0:w.default}]}))}),x=Ct(ot(h,"parseHTML",g));x&&(b.parseDOM=x.map(C=>Yx(C,p)));const E=ot(h,"renderHTML",g);return E&&(b.toDOM=C=>E({mark:C,HTMLAttributes:Jp(C,p)})),[h.name,b]}));return new VT({topNode:l,nodes:c,marks:d})}function Jh(e,t){return t.nodes[e]||t.marks[e]||null}function Jx(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function cg(e,t){const n=us.fromSchema(t).serializeFragment(e),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}const s8=(e,t=500)=>{let n="";const i=e.parentOffset;return e.parent.nodesBetween(Math.max(0,i-t),i,(s,a,l,c)=>{var d,h;const p=((h=(d=s.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:s,pos:a,parent:l,index:c}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,i-a))}),n};function fg(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class Wc{constructor(t){this.find=t.find,this.handler=t.handler}}const o8=(e,t)=>{if(fg(t))return t.exec(e);const n=t(e);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=e,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function Fu(e){var t;const{editor:n,from:i,to:s,text:a,rules:l,plugin:c}=e,{view:d}=n;if(d.composing)return!1;const h=d.state.doc.resolve(i);if(h.parent.type.spec.code||!((t=h.nodeBefore||h.nodeAfter)===null||t===void 0)&&t.marks.find(v=>v.type.spec.code))return!1;let p=!1;const g=s8(h)+a;return l.forEach(v=>{if(p)return;const b=o8(g,v.find);if(!b)return;const x=d.state.tr,E=Jc({state:d.state,transaction:x}),C={from:i-(b[0].length-a.length),to:s},{commands:w,chain:O,can:A}=new Zc({editor:n,state:E});v.handler({state:E,range:C,match:b,commands:w,chain:O,can:A})===null||!x.steps.length||(x.setMeta(c,{transform:x,from:i,to:s,text:a}),d.dispatch(x),p=!0)}),p}function a8(e){const{editor:t,rules:n}=e,i=new $e({state:{init(){return null},apply(s,a,l){const c=s.getMeta(i);if(c)return c;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=cg(J.from(p),l.schema);const{from:g}=d,v=g+p.length;Fu({editor:t,from:g,to:v,text:p,rules:n,plugin:i})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,l,c){return Fu({editor:t,from:a,to:l,text:c,rules:n,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&Fu({editor:t,from:a.pos,to:a.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:l}=s.state.selection;return l?Fu({editor:t,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function l8(e){return Object.prototype.toString.call(e).slice(8,-1)}function qu(e){return l8(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function tf(e,t){const n={...e};return qu(e)&&qu(t)&&Object.keys(t).forEach(i=>{qu(t[i])&&qu(e[i])?n[i]=tf(e[i],t[i]):n[i]=t[i]}),n}class mr{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(ot(this,"addOptions",{name:this.name}))),this.storage=Ct(ot(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new mr(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>tf(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new mr(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ct(ot(n,"addOptions",{name:n.name})),n.storage=Ct(ot(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:i}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){const l=s.marks();if(!!!l.find(h=>(h==null?void 0:h.type.name)===n.name))return!1;const d=l.find(h=>(h==null?void 0:h.type.name)===n.name);return d&&i.removeStoredMark(d),i.insertText(" ",s.pos),t.view.dispatch(i),!0}return!1}}function u8(e){return typeof e=="number"}class c8{constructor(t){this.find=t.find,this.handler=t.handler}}const f8=(e,t,n)=>{if(fg(t))return[...e.matchAll(t)];const i=t(e,n);return i?i.map(s=>{const a=[s.text];return a.index=s.index,a.input=e,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function d8(e){const{editor:t,state:n,from:i,to:s,rule:a,pasteEvent:l,dropEvent:c}=e,{commands:d,chain:h,can:p}=new Zc({editor:t,state:n}),g=[];return n.doc.nodesBetween(i,s,(b,x)=>{if(!b.isTextblock||b.type.spec.code)return;const E=Math.max(i,x),C=Math.min(s,x+b.content.size),w=b.textBetween(E-x,C-x,void 0,"￼");f8(w,a.find,l).forEach(A=>{if(A.index===void 0)return;const B=E+A.index+1,_=B+A[0].length,U={from:n.tr.mapping.map(B),to:n.tr.mapping.map(_)},G=a.handler({state:n,range:U,match:A,commands:d,chain:h,can:p,pasteEvent:l,dropEvent:c});g.push(G)})}),g.every(b=>b!==null)}let $u=null;const h8=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)===null||t===void 0||t.setData("text/html",e),n};function p8(e){const{editor:t,rules:n}=e;let i=null,s=!1,a=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:p,from:g,to:v,rule:b,pasteEvt:x})=>{const E=p.tr,C=Jc({state:p,transaction:E});if(!(!d8({editor:t,state:C,from:Math.max(g-1,0),to:v.b-1,rule:b,pasteEvent:x,dropEvent:c})||!E.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(p=>new $e({view(g){const v=x=>{var E;i=!((E=g.dom.parentElement)===null||E===void 0)&&E.contains(x.target)?g.dom.parentElement:null,i&&($u=t)},b=()=>{$u&&($u=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(g,v)=>{if(a=i===g.dom.parentElement,c=v,!a){const b=$u;b&&setTimeout(()=>{const x=b.state.selection;x&&b.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(g,v)=>{var b;const x=(b=v.clipboardData)===null||b===void 0?void 0:b.getData("text/html");return l=v,s=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(g,v,b)=>{const x=g[0],E=x.getMeta("uiEvent")==="paste"&&!s,C=x.getMeta("uiEvent")==="drop"&&!a,w=x.getMeta("applyPasteRules"),O=!!w;if(!E&&!C&&!O)return;if(O){let{text:_}=w;typeof _=="string"?_=_:_=cg(J.from(_),b.schema);const{from:U}=w,G=U+_.length,q=h8(_);return d({rule:p,state:b,from:U,to:{b:G},pasteEvt:q})}const A=v.doc.content.findDiffStart(b.doc.content),B=v.doc.content.findDiffEnd(b.doc.content);if(!(!u8(A)||!B||A===B.b))return d({rule:p,state:b,from:A,to:B,pasteEvt:l})}}))}function m8(e){const t=e.filter((n,i)=>e.indexOf(n)!==i);return Array.from(new Set(t))}class so{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=so.resolve(t),this.schema=r8(this.extensions,n),this.setupExtensions()}static resolve(t){const n=so.sort(so.flatten(t)),i=m8(n.map(s=>s.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const i={name:n.name,options:n.options,storage:n.storage},s=ot(n,"addExtensions",i);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(t){return t.sort((i,s)=>{const a=ot(i,"priority")||100,l=ot(s,"priority")||100;return a>l?-1:a<l?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Jh(n.name,this.schema)},s=ot(n,"addCommands",i);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this,n=so.sort([...this.extensions].reverse()),i=[],s=[],a=n.map(l=>{const c={name:l.name,options:l.options,storage:l.storage,editor:t,type:Jh(l.name,this.schema)},d=[],h=ot(l,"addKeyboardShortcuts",c);let p={};if(l.type==="mark"&&ot(l,"exitable",c)&&(p.ArrowRight=()=>mr.handleExit({editor:t,mark:l})),h){const E=Object.fromEntries(Object.entries(h()).map(([C,w])=>[C,()=>w({editor:t})]));p={...p,...E}}const g=_6(p);d.push(g);const v=ot(l,"addInputRules",c);Jx(l,t.options.enableInputRules)&&v&&i.push(...v());const b=ot(l,"addPasteRules",c);Jx(l,t.options.enablePasteRules)&&b&&s.push(...b());const x=ot(l,"addProseMirrorPlugins",c);if(x){const E=x();d.push(...E)}return d}).flat();return[a8({editor:t,rules:i}),...p8({editor:t,rules:s}),...a]}get attributes(){return YE(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=Qc(this.extensions);return Object.fromEntries(n.filter(i=>!!ot(i,"addNodeView")).map(i=>{const s=this.attributes.filter(d=>d.type===i.name),a={name:i.name,options:i.options,storage:i.storage,editor:t,type:be(i.name,this.schema)},l=ot(i,"addNodeView",a);if(!l)return[];const c=(d,h,p,g,v)=>{const b=Jp(d,s);return l()({node:d,view:h,getPos:p,decorations:g,innerDecorations:v,editor:t,extension:i,HTMLAttributes:b})};return[i.name,c]}))}setupExtensions(){this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;const i={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Jh(t.name,this.schema)};t.type==="mark"&&(!((n=Ct(ot(t,"keepOnSplit",i)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(t.name);const s=ot(t,"onBeforeCreate",i),a=ot(t,"onCreate",i),l=ot(t,"onUpdate",i),c=ot(t,"onSelectionUpdate",i),d=ot(t,"onTransaction",i),h=ot(t,"onFocus",i),p=ot(t,"onBlur",i),g=ot(t,"onDestroy",i);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}}class Le{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(ot(this,"addOptions",{name:this.name}))),this.storage=Ct(ot(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Le(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>tf(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Le({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ct(ot(n,"addOptions",{name:n.name})),n.storage=Ct(ot(n,"addStorage",{name:n.name,options:n.options})),n}}function JE(e,t,n){const{from:i,to:s}=t,{blockSeparator:a=`

`,textSerializers:l={}}=n||{};let c="";return e.nodesBetween(i,s,(d,h,p,g)=>{var v;d.isBlock&&h>i&&(c+=a);const b=l==null?void 0:l[d.type.name];if(b)return p&&(c+=b({node:d,pos:h,parent:p,index:g,range:t})),!1;d.isText&&(c+=(v=d==null?void 0:d.text)===null||v===void 0?void 0:v.slice(Math.max(i,h)-h,s-h))}),c}function ZE(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const g8=Le.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new $e({key:new Pn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:i,selection:s}=t,{ranges:a}=s,l=Math.min(...a.map(p=>p.$from.pos)),c=Math.max(...a.map(p=>p.$to.pos)),d=ZE(n);return JE(i,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),y8=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),v8=(e=!1)=>({commands:t})=>t.setContent("",e),b8=()=>({state:e,tr:t,dispatch:n})=>{const{selection:i}=t,{ranges:s}=i;return n&&s.forEach(({$from:a,$to:l})=>{e.doc.nodesBetween(a.pos,l.pos,(c,d)=>{if(c.type.isText)return;const{doc:h,mapping:p}=t,g=h.resolve(p.map(d)),v=h.resolve(p.map(d+c.nodeSize)),b=g.blockRange(v);if(!b)return;const x=Eo(b);if(c.type.isTextblock){const{defaultType:E}=g.parent.contentMatchAt(g.index());t.setNodeMarkup(b.start,E)}(x||x===0)&&t.lift(b,x)})}),!0},x8=e=>t=>e(t),S8=()=>({state:e,dispatch:t})=>qE(e,t),T8=(e,t)=>({editor:n,tr:i})=>{const{state:s}=n,a=s.doc.slice(e.from,e.to);i.deleteRange(e.from,e.to);const l=i.mapping.map(t);return i.insert(l,a.content),i.setSelection(new vt(i.doc.resolve(l-1))),!0},E8=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,i=n.$anchor.node();if(i.content.size>0)return!1;const s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i.type){if(t){const c=s.before(a),d=s.after(a);e.delete(c,d).scrollIntoView()}return!0}return!1},C8=e=>({tr:t,state:n,dispatch:i})=>{const s=be(e,n.schema),a=t.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===s){if(i){const d=a.before(l),h=a.after(l);t.delete(d,h).scrollIntoView()}return!0}return!1},M8=e=>({tr:t,dispatch:n})=>{const{from:i,to:s}=e;return n&&t.delete(i,s),!0},w8=()=>({state:e,dispatch:t})=>sg(e,t),k8=()=>({commands:e})=>e.keyboardShortcut("Enter"),A8=()=>({state:e,dispatch:t})=>H6(e,t);function Ac(e,t,n={strict:!0}){const i=Object.keys(t);return i.length?i.every(s=>n.strict?t[s]===e[s]:fg(t[s])?t[s].test(e[s]):t[s]===e[s]):!0}function QE(e,t,n={}){return e.find(i=>i.type===t&&Ac(Object.fromEntries(Object.keys(n).map(s=>[s,i.attrs[s]])),n))}function Zx(e,t,n={}){return!!QE(e,t,n)}function dg(e,t,n){var i;if(!e||!t)return;let s=e.parent.childAfter(e.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===t))&&(s=e.parent.childBefore(e.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===t)||(n=n||((i=s.node.marks[0])===null||i===void 0?void 0:i.attrs),!QE([...s.node.marks],t,n)))return;let l=s.index,c=e.start()+s.offset,d=l+1,h=c+s.node.nodeSize;for(;l>0&&Zx([...e.parent.child(l-1).marks],t,n);)l-=1,c-=e.parent.child(l).nodeSize;for(;d<e.parent.childCount&&Zx([...e.parent.child(d).marks],t,n);)h+=e.parent.child(d).nodeSize,d+=1;return{from:c,to:h}}function xr(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const O8=(e,t={})=>({tr:n,state:i,dispatch:s})=>{const a=xr(e,i.schema),{doc:l,selection:c}=n,{$from:d,from:h,to:p}=c;if(s){const g=dg(d,a,t);if(g&&g.from<=h&&g.to>=p){const v=vt.create(l,g.from,g.to);n.setSelection(v)}}return!0},D8=e=>t=>{const n=typeof e=="function"?e(t):e;for(let i=0;i<n.length;i+=1)if(n[i](t))return!0;return!1};function WE(e){return e instanceof vt}function Yr(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function tC(e,t=null){if(!t)return null;const n=xt.atStart(e),i=xt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return i;const s=n.from,a=i.to;return t==="all"?vt.create(e,Yr(0,s,a),Yr(e.content.size,s,a)):vt.create(e,Yr(t,s,a),Yr(t,s,a))}function N8(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function hg(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const R8=(e=null,t={})=>({editor:n,view:i,tr:s,dispatch:a})=>{t={scrollIntoView:!0,...t};const l=()=>{(hg()||N8())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&e===null||e===!1)return!0;if(a&&e===null&&!WE(n.state.selection))return l(),!0;const c=tC(s.doc,e)||n.state.selection,d=n.state.selection.eq(c);return a&&(d||s.setSelection(c),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0},j8=(e,t)=>n=>e.every((i,s)=>t(i,{...n,index:s})),_8=(e,t)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),eC=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const i=t[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?e.removeChild(i):i.nodeType===1&&eC(i)}return e};function Gu(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return eC(n)}function Oc(e,t,n){if(e instanceof ar||e instanceof J)return e;n={slice:!0,parseOptions:{},...n};const i=typeof e=="object"&&e!==null,s=typeof e=="string";if(i)try{if(Array.isArray(e)&&e.length>0)return J.fromArray(e.map(c=>t.nodeFromJSON(c)));const l=t.nodeFromJSON(e);return n.errorOnInvalidContent&&l.check(),l}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",a),Oc("",t,n)}if(s){if(n.errorOnInvalidContent){let l=!1,c="";const d=new VT({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(l=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?lr.fromSchema(d).parseSlice(Gu(e),n.parseOptions):lr.fromSchema(d).parse(Gu(e),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const a=lr.fromSchema(t);return n.slice?a.parseSlice(Gu(e),n.parseOptions).content:a.parse(Gu(e),n.parseOptions)}return Oc("",t,n)}function z8(e,t,n){const i=e.steps.length-1;if(i<t)return;const s=e.steps[i];if(!(s instanceof ge||s instanceof ye))return;const a=e.mapping.maps[i];let l=0;a.forEach((c,d,h,p)=>{l===0&&(l=p)}),e.setSelection(xt.near(e.doc.resolve(l),n))}const L8=e=>!("type"in e),B8=(e,t,n)=>({tr:i,dispatch:s,editor:a})=>{var l;if(s){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;try{c=Oc(t,a.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:a.options.enableContentCheck})}catch(x){return a.emit("contentError",{editor:a,error:x,disableCollaboration:()=>{a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:h}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},p=!0,g=!0;if((L8(c)?c:[c]).forEach(x=>{x.check(),p=p?x.isText&&x.marks.length===0:!1,g=g?x.isBlock:!1}),d===h&&g){const{parent:x}=i.doc.resolve(d);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(d-=1,h+=1)}let b;if(p){if(Array.isArray(t))b=t.map(x=>x.text||"").join("");else if(t instanceof J){let x="";t.forEach(E=>{E.text&&(x+=E.text)}),b=x}else typeof t=="object"&&t&&t.text?b=t.text:b=t;i.insertText(b,d,h)}else b=c,i.replaceWith(d,h,b);n.updateSelection&&z8(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:d,text:b}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:d,text:b})}return!0},V8=()=>({state:e,dispatch:t})=>B6(e,t),P8=()=>({state:e,dispatch:t})=>V6(e,t),H8=()=>({state:e,dispatch:t})=>BE(e,t),U8=()=>({state:e,dispatch:t})=>UE(e,t),I8=()=>({state:e,dispatch:t,tr:n})=>{try{const i=qc(e.doc,e.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),t&&t(n),!0)}catch{return!1}},F8=()=>({state:e,dispatch:t,tr:n})=>{try{const i=qc(e.doc,e.selection.$from.pos,1);return i==null?!1:(n.join(i,2),t&&t(n),!0)}catch{return!1}},q8=()=>({state:e,dispatch:t})=>z6(e,t),$8=()=>({state:e,dispatch:t})=>L6(e,t);function nC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function G8(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let i,s,a,l;for(let c=0;c<t.length-1;c+=1){const d=t[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))hg()||nC()?l=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return i&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}const K8=e=>({editor:t,view:n,tr:i,dispatch:s})=>{const a=G8(e).split(/-(?!$)/),l=a.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),d=t.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,c))});return d==null||d.steps.forEach(h=>{const p=h.map(i.mapping);p&&s&&i.maybeStep(p)}),!0};function sl(e,t,n={}){const{from:i,to:s,empty:a}=e.selection,l=t?be(t,e.schema):null,c=[];e.doc.nodesBetween(i,s,(g,v)=>{if(g.isText)return;const b=Math.max(i,v),x=Math.min(s,v+g.nodeSize);c.push({node:g,from:b,to:x})});const d=s-i,h=c.filter(g=>l?l.name===g.node.type.name:!0).filter(g=>Ac(g.node.attrs,n,{strict:!1}));return a?!!h.length:h.reduce((g,v)=>g+v.to-v.from,0)>=d}const Y8=(e,t={})=>({state:n,dispatch:i})=>{const s=be(e,n.schema);return sl(n,s,t)?P6(n,i):!1},X8=()=>({state:e,dispatch:t})=>$E(e,t),J8=e=>({state:t,dispatch:n})=>{const i=be(e,t.schema);return Z6(i)(t,n)},Z8=()=>({state:e,dispatch:t})=>FE(e,t);function ef(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Qx(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((i,s)=>(n.includes(s)||(i[s]=e[s]),i),{})}const Q8=(e,t)=>({tr:n,state:i,dispatch:s})=>{let a=null,l=null;const c=ef(typeof e=="string"?e:e.name,i.schema);return c?(c==="node"&&(a=be(e,i.schema)),c==="mark"&&(l=xr(e,i.schema)),s&&n.selection.ranges.forEach(d=>{i.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,p)=>{a&&a===h.type&&n.setNodeMarkup(p,void 0,Qx(h.attrs,t)),l&&h.marks.length&&h.marks.forEach(g=>{l===g.type&&n.addMark(p,p+h.nodeSize,l.create(Qx(g.attrs,t)))})})}),!0):!1},W8=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),tj=()=>({tr:e,dispatch:t})=>{if(t){const n=new hn(e.doc);e.setSelection(n)}return!0},ej=()=>({state:e,dispatch:t})=>PE(e,t),nj=()=>({state:e,dispatch:t})=>IE(e,t),ij=()=>({state:e,dispatch:t})=>F6(e,t),rj=()=>({state:e,dispatch:t})=>G6(e,t),sj=()=>({state:e,dispatch:t})=>$6(e,t);function Zp(e,t,n={},i={}){return Oc(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}const oj=(e,t=!1,n={},i={})=>({editor:s,tr:a,dispatch:l,commands:c})=>{var d,h;const{doc:p}=a;if(n.preserveWhitespace!=="full"){const g=Zp(e,s.schema,n,{errorOnInvalidContent:(d=i.errorOnInvalidContent)!==null&&d!==void 0?d:s.options.enableContentCheck});return l&&a.replaceWith(0,p.content.size,g).setMeta("preventUpdate",!t),!0}return l&&a.setMeta("preventUpdate",!t),c.insertContentAt({from:0,to:p.content.size},e,{parseOptions:n,errorOnInvalidContent:(h=i.errorOnInvalidContent)!==null&&h!==void 0?h:s.options.enableContentCheck})};function iC(e,t){const n=xr(t,e.schema),{from:i,to:s,empty:a}=e.selection,l=[];a?(e.storedMarks&&l.push(...e.storedMarks),l.push(...e.selection.$head.marks())):e.doc.nodesBetween(i,s,d=>{l.push(...d.marks)});const c=l.find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function aj(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function lj(e,t){for(let n=e.depth;n>0;n-=1){const i=e.node(n);if(t(i))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:i}}}function pg(e){return t=>lj(t.$from,e)}function uj(e,t){const n={from:0,to:e.content.size};return JE(e,n,t)}function cj(e,t){const n=be(t,e.schema),{from:i,to:s}=e.selection,a=[];e.doc.nodesBetween(i,s,c=>{a.push(c)});const l=a.reverse().find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function fj(e,t){const n=ef(typeof t=="string"?t:t.name,e.schema);return n==="node"?cj(e,t):n==="mark"?iC(e,t):{}}function rC(e,t,n){const i=[];return e===t?n.resolve(e).marks().forEach(s=>{const a=n.resolve(e),l=dg(a,s.type);l&&i.push({mark:s,...l})}):n.nodesBetween(e,t,(s,a)=>{!s||(s==null?void 0:s.nodeSize)===void 0||i.push(...s.marks.map(l=>({from:a,to:a+s.nodeSize,mark:l})))}),i}function ic(e,t,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const s=e.find(a=>a.type===t&&a.name===i);return s?s.attribute.keepOnSplit:!1}))}function Qp(e,t,n={}){const{empty:i,ranges:s}=e.selection,a=t?xr(t,e.schema):null;if(i)return!!(e.storedMarks||e.selection.$from.marks()).filter(g=>a?a.name===g.type.name:!0).find(g=>Ac(g.attrs,n,{strict:!1}));let l=0;const c=[];if(s.forEach(({$from:g,$to:v})=>{const b=g.pos,x=v.pos;e.doc.nodesBetween(b,x,(E,C)=>{if(!E.isText&&!E.marks.length)return;const w=Math.max(b,C),O=Math.min(x,C+E.nodeSize),A=O-w;l+=A,c.push(...E.marks.map(B=>({mark:B,from:w,to:O})))})}),l===0)return!1;const d=c.filter(g=>a?a.name===g.mark.type.name:!0).filter(g=>Ac(g.mark.attrs,n,{strict:!1})).reduce((g,v)=>g+v.to-v.from,0),h=c.filter(g=>a?g.mark.type!==a&&g.mark.type.excludes(a):!0).reduce((g,v)=>g+v.to-v.from,0);return(d>0?d+h:d)>=l}function dj(e,t,n={}){if(!t)return sl(e,null,n)||Qp(e,null,n);const i=ef(t,e.schema);return i==="node"?sl(e,t,n):i==="mark"?Qp(e,t,n):!1}function Wx(e,t){const{nodeExtensions:n}=Qc(t),i=n.find(l=>l.name===e);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},a=Ct(ot(i,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function nf(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((i=e.text)!==null&&i!==void 0?i:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let s=!0;return e.content.forEach(a=>{s!==!1&&(nf(a,{ignoreWhitespace:n,checkChildren:t})||(s=!1))}),s}return!1}function hj(e){return e instanceof ft}function pj(e,t,n){var i;const{selection:s}=t;let a=null;if(WE(s)&&(a=s.$cursor),a){const c=(i=e.storedMarks)!==null&&i!==void 0?i:a.marks();return!!n.isInSet(c)||!c.some(d=>d.type.excludes(n))}const{ranges:l}=s;return l.some(({$from:c,$to:d})=>{let h=c.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(c.pos,d.pos,(p,g,v)=>{if(h)return!1;if(p.isInline){const b=!v||v.type.allowsMarkType(n),x=!!n.isInSet(p.marks)||!p.marks.some(E=>E.type.excludes(n));h=b&&x}return!h}),h})}const mj=(e,t={})=>({tr:n,state:i,dispatch:s})=>{const{selection:a}=n,{empty:l,ranges:c}=a,d=xr(e,i.schema);if(s)if(l){const h=iC(i,d);n.addStoredMark(d.create({...h,...t}))}else c.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;i.doc.nodesBetween(p,g,(v,b)=>{const x=Math.max(b,p),E=Math.min(b+v.nodeSize,g);v.marks.find(w=>w.type===d)?v.marks.forEach(w=>{d===w.type&&n.addMark(x,E,d.create({...w.attrs,...t}))}):n.addMark(x,E,d.create(t))})});return pj(i,n,d)},gj=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),yj=(e,t={})=>({state:n,dispatch:i,chain:s})=>{const a=be(e,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:c})=>Kx(a,{...l,...t})(n)?!0:c.clearNodes()).command(({state:c})=>Kx(a,{...l,...t})(c,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},vj=e=>({tr:t,dispatch:n})=>{if(n){const{doc:i}=t,s=Yr(e,0,i.content.size),a=ft.create(i,s);t.setSelection(a)}return!0},bj=e=>({tr:t,dispatch:n})=>{if(n){const{doc:i}=t,{from:s,to:a}=typeof e=="number"?{from:e,to:e}:e,l=vt.atStart(i).from,c=vt.atEnd(i).to,d=Yr(s,l,c),h=Yr(a,l,c),p=vt.create(i,d,h);t.setSelection(p)}return!0},xj=e=>({state:t,dispatch:n})=>{const i=be(e,t.schema);return t8(i)(t,n)};function tS(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const i=n.filter(s=>t==null?void 0:t.includes(s.type.name));e.tr.ensureMarks(i)}}const Sj=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:i,editor:s})=>{const{selection:a,doc:l}=t,{$from:c,$to:d}=a,h=s.extensionManager.attributes,p=ic(h,c.node().type.name,c.node().attrs);if(a instanceof ft&&a.node.isBlock)return!c.parentOffset||!Ei(l,c.pos)?!1:(i&&(e&&tS(n,s.extensionManager.splittableMarks),t.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,v=c.depth===0?void 0:aj(c.node(-1).contentMatchAt(c.indexAfter(-1)));let b=g&&v?[{type:v,attrs:p}]:void 0,x=Ei(t.doc,t.mapping.map(c.pos),1,b);if(!b&&!x&&Ei(t.doc,t.mapping.map(c.pos),1,v?[{type:v}]:void 0)&&(x=!0,b=v?[{type:v,attrs:p}]:void 0),i){if(x&&(a instanceof vt&&t.deleteSelection(),t.split(t.mapping.map(c.pos),1,b),v&&!g&&!c.parentOffset&&c.parent.type!==v)){const E=t.mapping.map(c.before()),C=t.doc.resolve(E);c.node(-1).canReplaceWith(C.index(),C.index()+1,v)&&t.setNodeMarkup(t.mapping.map(c.before()),v)}e&&tS(n,s.extensionManager.splittableMarks),t.scrollIntoView()}return x},Tj=(e,t={})=>({tr:n,state:i,dispatch:s,editor:a})=>{var l;const c=be(e,i.schema),{$from:d,$to:h}=i.selection,p=i.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(h))return!1;const g=d.node(-1);if(g.type!==c)return!1;const v=a.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let w=J.empty;const O=d.index(-1)?1:d.index(-2)?2:3;for(let q=d.depth-O;q>=d.depth-3;q-=1)w=J.from(d.node(q).copy(w));const A=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,B={...ic(v,d.node().type.name,d.node().attrs),...t},_=((l=c.contentMatch.defaultType)===null||l===void 0?void 0:l.createAndFill(B))||void 0;w=w.append(J.from(c.createAndFill(null,_)||void 0));const U=d.before(d.depth-(O-1));n.replace(U,d.after(-A),new nt(w,4-O,0));let G=-1;n.doc.nodesBetween(U,n.doc.content.size,(q,K)=>{if(G>-1)return!1;q.isTextblock&&q.content.size===0&&(G=K+1)}),G>-1&&n.setSelection(vt.near(n.doc.resolve(G))),n.scrollIntoView()}return!0}const b=h.pos===d.end()?g.contentMatchAt(0).defaultType:null,x={...ic(v,g.type.name,g.attrs),...t},E={...ic(v,d.node().type.name,d.node().attrs),...t};n.delete(d.pos,h.pos);const C=b?[{type:c,attrs:x},{type:b,attrs:E}]:[{type:c,attrs:x}];if(!Ei(n.doc,d.pos,2))return!1;if(s){const{selection:w,storedMarks:O}=i,{splittableMarks:A}=a.extensionManager,B=O||w.$to.parentOffset&&w.$from.marks();if(n.split(d.pos,2,C).scrollIntoView(),!B||!s)return!0;const _=B.filter(U=>A.includes(U.type.name));n.ensureMarks(_)}return!0},Zh=(e,t)=>{const n=pg(l=>l.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const s=e.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&vr(e.doc,n.pos)&&e.join(n.pos),!0},Qh=(e,t)=>{const n=pg(l=>l.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const s=e.doc.nodeAt(i);return n.node.type===(s==null?void 0:s.type)&&vr(e.doc,i)&&e.join(i),!0},Ej=(e,t,n,i={})=>({editor:s,tr:a,state:l,dispatch:c,chain:d,commands:h,can:p})=>{const{extensions:g,splittableMarks:v}=s.extensionManager,b=be(e,l.schema),x=be(t,l.schema),{selection:E,storedMarks:C}=l,{$from:w,$to:O}=E,A=w.blockRange(O),B=C||E.$to.parentOffset&&E.$from.marks();if(!A)return!1;const _=pg(U=>Wx(U.type.name,g))(E);if(A.depth>=1&&_&&A.depth-_.depth<=1){if(_.node.type===b)return h.liftListItem(x);if(Wx(_.node.type.name,g)&&b.validContent(_.node.content)&&c)return d().command(()=>(a.setNodeMarkup(_.pos,b),!0)).command(()=>Zh(a,b)).command(()=>Qh(a,b)).run()}return!n||!B||!c?d().command(()=>p().wrapInList(b,i)?!0:h.clearNodes()).wrapInList(b,i).command(()=>Zh(a,b)).command(()=>Qh(a,b)).run():d().command(()=>{const U=p().wrapInList(b,i),G=B.filter(q=>v.includes(q.type.name));return a.ensureMarks(G),U?!0:h.clearNodes()}).wrapInList(b,i).command(()=>Zh(a,b)).command(()=>Qh(a,b)).run()},Cj=(e,t={},n={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:a=!1}=n,l=xr(e,i.schema);return Qp(i,l,t)?s.unsetMark(l,{extendEmptyMarkRange:a}):s.setMark(l,t)},Mj=(e,t,n={})=>({state:i,commands:s})=>{const a=be(e,i.schema),l=be(t,i.schema),c=sl(i,a,n);let d;return i.selection.$anchor.sameParent(i.selection.$head)&&(d=i.selection.$anchor.parent.attrs),c?s.setNode(l,d):s.setNode(a,{...d,...n})},wj=(e,t={})=>({state:n,commands:i})=>{const s=be(e,n.schema);return sl(n,s,t)?i.lift(s):i.wrapIn(s,t)},kj=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let i=0;i<n.length;i+=1){const s=n[i];let a;if(s.spec.isInputRules&&(a=s.getState(e))){if(t){const l=e.tr,c=a.transform;for(let d=c.steps.length-1;d>=0;d-=1)l.step(c.steps[d].invert(c.docs[d]));if(a.text){const d=l.doc.resolve(a.from).marks();l.replaceWith(a.from,a.to,e.schema.text(a.text,d))}else l.delete(a.from,a.to)}return!0}}return!1},Aj=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:i,ranges:s}=n;return i||t&&s.forEach(a=>{e.removeMark(a.$from.pos,a.$to.pos)}),!0},Oj=(e,t={})=>({tr:n,state:i,dispatch:s})=>{var a;const{extendEmptyMarkRange:l=!1}=t,{selection:c}=n,d=xr(e,i.schema),{$from:h,empty:p,ranges:g}=c;if(!s)return!0;if(p&&l){let{from:v,to:b}=c;const x=(a=h.marks().find(C=>C.type===d))===null||a===void 0?void 0:a.attrs,E=dg(h,d,x);E&&(v=E.from,b=E.to),n.removeMark(v,b,d)}else g.forEach(v=>{n.removeMark(v.$from.pos,v.$to.pos,d)});return n.removeStoredMark(d),!0},Dj=(e,t={})=>({tr:n,state:i,dispatch:s})=>{let a=null,l=null;const c=ef(typeof e=="string"?e:e.name,i.schema);return c?(c==="node"&&(a=be(e,i.schema)),c==="mark"&&(l=xr(e,i.schema)),s&&n.selection.ranges.forEach(d=>{const h=d.$from.pos,p=d.$to.pos;let g,v,b,x;n.selection.empty?i.doc.nodesBetween(h,p,(E,C)=>{a&&a===E.type&&(b=Math.max(C,h),x=Math.min(C+E.nodeSize,p),g=C,v=E)}):i.doc.nodesBetween(h,p,(E,C)=>{C<h&&a&&a===E.type&&(b=Math.max(C,h),x=Math.min(C+E.nodeSize,p),g=C,v=E),C>=h&&C<=p&&(a&&a===E.type&&n.setNodeMarkup(C,void 0,{...E.attrs,...t}),l&&E.marks.length&&E.marks.forEach(w=>{if(l===w.type){const O=Math.max(C,h),A=Math.min(C+E.nodeSize,p);n.addMark(O,A,l.create({...w.attrs,...t}))}}))}),v&&(g!==void 0&&n.setNodeMarkup(g,void 0,{...v.attrs,...t}),l&&v.marks.length&&v.marks.forEach(E=>{l===E.type&&n.addMark(b,x,l.create({...E.attrs,...t}))}))}),!0):!1},Nj=(e,t={})=>({state:n,dispatch:i})=>{const s=be(e,n.schema);return K6(s,t)(n,i)},Rj=(e,t={})=>({state:n,dispatch:i})=>{const s=be(e,n.schema);return Y6(s,t)(n,i)};var jj=Object.freeze({__proto__:null,blur:y8,clearContent:v8,clearNodes:b8,command:x8,createParagraphNear:S8,cut:T8,deleteCurrentNode:E8,deleteNode:C8,deleteRange:M8,deleteSelection:w8,enter:k8,exitCode:A8,extendMarkRange:O8,first:D8,focus:R8,forEach:j8,insertContent:_8,insertContentAt:B8,joinBackward:H8,joinDown:P8,joinForward:U8,joinItemBackward:I8,joinItemForward:F8,joinTextblockBackward:q8,joinTextblockForward:$8,joinUp:V8,keyboardShortcut:K8,lift:Y8,liftEmptyBlock:X8,liftListItem:J8,newlineInCode:Z8,resetAttributes:Q8,scrollIntoView:W8,selectAll:tj,selectNodeBackward:ej,selectNodeForward:nj,selectParentNode:ij,selectTextblockEnd:rj,selectTextblockStart:sj,setContent:oj,setMark:mj,setMeta:gj,setNode:yj,setNodeSelection:vj,setTextSelection:bj,sinkListItem:xj,splitBlock:Sj,splitListItem:Tj,toggleList:Ej,toggleMark:Cj,toggleNode:Mj,toggleWrap:wj,undoInputRule:kj,unsetAllMarks:Aj,unsetMark:Oj,updateAttributes:Dj,wrapIn:Nj,wrapInList:Rj});const _j=Le.create({name:"commands",addCommands(){return{...jj}}}),zj=Le.create({name:"drop",addProseMirrorPlugins(){return[new $e({key:new Pn("tiptapDrop"),props:{handleDrop:(e,t,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:i})}}})]}}),Lj=Le.create({name:"editable",addProseMirrorPlugins(){return[new $e({key:new Pn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Bj=new Pn("focusEvents"),Vj=Le.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new $e({key:Bj,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const i=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1},blur:(t,n)=>{e.isFocused=!1;const i=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1}}}})]}}),Pj=Le.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:d,doc:h}=c,{empty:p,$anchor:g}=d,{pos:v,parent:b}=g,x=g.parent.isTextblock&&v>0?c.doc.resolve(v-1):g,E=x.parent.type.spec.isolating,C=g.pos-g.parentOffset,w=E&&x.parent.childCount===1?C===g.pos:xt.atStart(h).from===v;return!p||!b.type.isTextblock||b.textContent.length||!w||w&&g.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},a={...i,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return hg()||nC()?a:s},addProseMirrorPlugins(){return[new $e({key:new Pn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(E=>E.getMeta("composition")))return;const i=e.some(E=>E.docChanged)&&!t.doc.eq(n.doc),s=e.some(E=>E.getMeta("preventClearDocument"));if(!i||s)return;const{empty:a,from:l,to:c}=t.selection,d=xt.atStart(t.doc).from,h=xt.atEnd(t.doc).to;if(a||!(l===d&&c===h)||!nf(n.doc))return;const v=n.tr,b=Jc({state:n,transaction:v}),{commands:x}=new Zc({editor:this.editor,state:b});if(x.clearNodes(),!!v.steps.length)return v}})]}}),Hj=Le.create({name:"paste",addProseMirrorPlugins(){return[new $e({key:new Pn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Uj=Le.create({name:"tabindex",addProseMirrorPlugins(){return[new $e({key:new Pn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Fr{get name(){return this.node.type.name}constructor(t,n,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=t,this.editor=n,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Fr(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Fr(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Fr(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,i)=>{const s=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,l=this.pos+i+(a?0:1),c=this.resolvedPos.doc.resolve(l);if(!s&&c.depth<=this.depth)return;const d=new Fr(c,this.editor,s,s?n:null);s&&(d.actualDepth=this.depth+1),t.push(new Fr(c,this.editor,s,s?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===t)if(Object.keys(n).length>0){const a=s.node.attrs,l=Object.keys(n);for(let c=0;c<l.length;c+=1){const d=l[c];if(a[d]!==n[d])break}}else i=s;s=s.parent}return i}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(n);return this.children.forEach(l=>{i&&s.length>0||(l.node.type.name===t&&a.every(d=>n[d]===l.node.attrs[d])&&s.push(l),!(i&&s.length>0)&&(s=s.concat(l.querySelectorAll(t,n,i))))}),s}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}}const Ij=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Fj(e,t,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.setAttribute("data-tiptap-style",""),s.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(s),s}class qj extends e8{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:s})=>this.options.onDrop(n,i,s)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Fj(Ij,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const i=XE(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:i});return this.view.updateState(s),s}unregisterPlugin(t){if(this.isDestroyed)return;const n=this.state.plugins;let i=n;if([].concat(t).forEach(a=>{const l=typeof a=="string"?`${a}$`:a.key;i=n.filter(c=>!c.key.startsWith(l))}),n.length===i.length)return;const s=this.state.reconfigure({plugins:i});return this.view.updateState(s),s}createExtensionManager(){var t,n;const s=[...this.options.enableCoreExtensions?[Lj,g8.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),_j,Vj,Pj,Uj,zj,Hj].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new so(s,this)}createCommandManager(){this.commandManager=new Zc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var t;let n;try{n=Zp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(l){if(!(l instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(l.message))throw l;this.emit("contentError",{editor:this,error:l,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),n=Zp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const i=tC(n,this.options.autofocus);this.view=new M6(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)===null||t===void 0?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:ro.create({doc:n,selection:i||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(l=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(l)});return}const n=this.state.apply(t),i=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const s=t.getMeta("focus"),a=t.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:t}),a&&this.emit("blur",{editor:this,event:a.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return fj(this.state,t)}isActive(t,n){const i=typeof t=="string"?t:null,s=typeof t=="string"?n:t;return dj(this.state,i,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return cg(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:i={}}=t||{};return uj(this.state.doc,{blockSeparator:n,textSerializers:{...ZE(this.schema),...i}})}get isEmpty(){return nf(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom;t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(t,n))||null}$nodes(t,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new Fr(n,this)}get $doc(){return this.$pos(0)}}function go(e){return new Wc({find:e.find,handler:({state:t,range:n,match:i})=>{const s=Ct(e.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:a}=t,l=i[i.length-1],c=i[0];if(l){const d=c.search(/\S/),h=n.from+c.indexOf(l),p=h+l.length;if(rC(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(E=>E===e.type&&E!==b.mark.type)).filter(b=>b.to>h).length)return null;p<n.to&&a.delete(p,n.to),h>n.from&&a.delete(n.from+d,h);const v=n.from+d+l.length;a.addMark(n.from+d,v,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}function $j(e){return new Wc({find:e.find,handler:({state:t,range:n,match:i})=>{const s=Ct(e.getAttributes,void 0,i)||{},{tr:a}=t,l=n.from;let c=n.to;const d=e.type.create(s);if(i[1]){const h=i[0].lastIndexOf(i[1]);let p=l+h;p>c?p=c:c=p+i[1].length;const g=i[0][i[0].length-1];a.insertText(g,l+i[0].length-1),a.replaceWith(p,c,d)}else if(i[0]){const h=e.type.isInline?l:l-1;a.insert(h,e.type.create(s)).delete(a.mapping.map(l),a.mapping.map(c))}a.scrollIntoView()}})}function Wp(e){return new Wc({find:e.find,handler:({state:t,range:n,match:i})=>{const s=t.doc.resolve(n.from),a=Ct(e.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,a)}})}function ol(e){return new Wc({find:e.find,handler:({state:t,range:n,match:i,chain:s})=>{const a=Ct(e.getAttributes,void 0,i)||{},l=t.tr.delete(n.from,n.to),d=l.doc.resolve(n.from).blockRange(),h=d&&Ym(d,e.type,a);if(!h)return null;if(l.wrap(d,h),e.keepMarks&&e.editor){const{selection:g,storedMarks:v}=t,{splittableMarks:b}=e.editor.extensionManager,x=v||g.$to.parentOffset&&g.$from.marks();if(x){const E=x.filter(C=>b.includes(C.type.name));l.ensureMarks(E)}}if(e.keepAttributes){const g=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(g,a).run()}const p=l.doc.resolve(n.from-1).nodeBefore;p&&p.type===e.type&&vr(l.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(i,p))&&l.join(n.from-1)}})}class We{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ct(ot(this,"addOptions",{name:this.name}))),this.storage=Ct(ot(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new We(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>tf(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new We(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ct(ot(n,"addOptions",{name:n.name})),n.storage=Ct(ot(n,"addStorage",{name:n.name,options:n.options})),n}}function yo(e){return new c8({find:e.find,handler:({state:t,range:n,match:i,pasteEvent:s})=>{const a=Ct(e.getAttributes,void 0,i,s);if(a===!1||a===null)return null;const{tr:l}=t,c=i[i.length-1],d=i[0];let h=n.to;if(c){const p=d.search(/\S/),g=n.from+d.indexOf(c),v=g+c.length;if(rC(n.from,n.to,t.doc).filter(x=>x.mark.type.excluded.find(C=>C===e.type&&C!==x.mark.type)).filter(x=>x.to>g).length)return null;v<n.to&&l.delete(v,n.to),g>n.from&&l.delete(n.from+p,g),h=n.from+p+c.length,l.addMark(n.from+p,h,e.type.create(a||{})),l.removeStoredMark(e.type)}}})}function Gj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sC={exports:{}},Wh={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function Kj(){if(eS)return Wh;eS=1;var e=Z;function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function c(g,v){var b=v(),x=i({inst:{value:b,getSnapshot:v}}),E=x[0].inst,C=x[1];return a(function(){E.value=b,E.getSnapshot=v,d(E)&&C({inst:E})},[g,b,v]),s(function(){return d(E)&&C({inst:E}),g(function(){d(E)&&C({inst:E})})},[g]),l(b),b}function d(g){var v=g.getSnapshot;g=g.value;try{var b=v();return!n(g,b)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Wh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Wh}sC.exports=Kj();var mg=sC.exports;const Yj=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},Xj=({contentComponent:e})=>{const t=mg.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return Z.createElement(Z.Fragment,null,Object.values(t))};function Jj(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,i){t={...t,[n]:y5.createPortal(i.reactElement,i.element,n)},e.forEach(s=>s())},removeRenderer(n){const i={...t};delete i[n],t=i,e.forEach(s=>s())}}}class Zj extends Z.Component{constructor(t){var n;super(t),this.editorContentRef=Z.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=t.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=Jj(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const t=this.props.editor;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null,!t.options.element.firstChild))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const{editor:t,innerRef:n,...i}=this.props;return Z.createElement(Z.Fragment,null,Z.createElement("div",{ref:Yj(n,this.editorContentRef),...i}),(t==null?void 0:t.contentComponent)&&Z.createElement(Xj,{contentComponent:t.contentComponent}))}}const Qj=k.forwardRef((e,t)=>{const n=Z.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return Z.createElement(Zj,{key:n,innerRef:t,...e})}),oC=Z.memo(Qj);var Wj=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var i,s,a;if(Array.isArray(t)){if(i=t.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(s of t.entries())if(!n.has(s[0]))return!1;for(s of t.entries())if(!e(s[1],n.get(s[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(s of t.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(i=t.length,i!=n.length)return!1;for(s=i;s--!==0;)if(t[s]!==n[s])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),i=a.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[s]))return!1;for(s=i;s--!==0;){var l=a[s];if(!(l==="_owner"&&t.$$typeof)&&!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n},t7=Gj(Wj),aC={exports:{}},tp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function e7(){if(nS)return tp;nS=1;var e=Z,t=mg;function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var i=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return tp.useSyncExternalStoreWithSelector=function(h,p,g,v,b){var x=a(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=c(function(){function w(U){if(!O){if(O=!0,A=U,U=v(U),b!==void 0&&E.hasValue){var G=E.value;if(b(G,U))return B=G}return B=U}if(G=B,i(A,U))return G;var q=v(U);return b!==void 0&&b(G,q)?G:(A=U,B=q)}var O=!1,A,B,_=g===void 0?null:g;return[function(){return w(p())},_===null?void 0:function(){return w(_())}]},[p,g,v,b]);var C=s(h,x[0],x[1]);return l(function(){E.hasValue=!0,E.value=C},[C]),d(C),C},tp}aC.exports=e7();var n7=aC.exports;const i7=typeof window<"u"?k.useLayoutEffect:k.useEffect;class r7{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},i=this.editor;return i.on("transaction",n),()=>{i.off("transaction",n)}}}}function s7(e){var t;const[n]=k.useState(()=>new r7(e.editor)),i=n7.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!==null&&t!==void 0?t:t7);return i7(()=>n.watch(e.editor),[e.editor,n]),k.useDebugValue(i),i}const o7=!1,tm=typeof window>"u",a7=tm||!!(typeof window<"u"&&window.next);class gg{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?tm||a7?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...i)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)===null||a===void 0?void 0:a.call(s,...i)},onBlur:(...i)=>{var s,a;return(a=(s=this.options.current).onBlur)===null||a===void 0?void 0:a.call(s,...i)},onCreate:(...i)=>{var s,a;return(a=(s=this.options.current).onCreate)===null||a===void 0?void 0:a.call(s,...i)},onDestroy:(...i)=>{var s,a;return(a=(s=this.options.current).onDestroy)===null||a===void 0?void 0:a.call(s,...i)},onFocus:(...i)=>{var s,a;return(a=(s=this.options.current).onFocus)===null||a===void 0?void 0:a.call(s,...i)},onSelectionUpdate:(...i)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)===null||a===void 0?void 0:a.call(s,...i)},onTransaction:(...i)=>{var s,a;return(a=(s=this.options.current).onTransaction)===null||a===void 0?void 0:a.call(s,...i)},onUpdate:(...i)=>{var s,a;return(a=(s=this.options.current).onUpdate)===null||a===void 0?void 0:a.call(s,...i)},onContentError:(...i)=>{var s,a;return(a=(s=this.options.current).onContentError)===null||a===void 0?void 0:a.call(s,...i)},onDrop:(...i)=>{var s,a;return(a=(s=this.options.current).onDrop)===null||a===void 0?void 0:a.call(s,...i)},onPaste:(...i)=>{var s,a;return(a=(s=this.options.current).onPaste)===null||a===void 0?void 0:a.call(s,...i)}};return new qj(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((s,a)=>{var l;return s===((l=n.extensions)===null||l===void 0?void 0:l[a])}):t[i]===n[i])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?gg.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((i,s)=>i===t[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}}function lC(e={},t=[]){const n=k.useRef(e);n.current=e;const[i]=k.useState(()=>new gg(n)),s=mg.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return k.useDebugValue(s),k.useEffect(i.onRender(t)),s7({editor:s,selector:({transactionNumber:a})=>e.shouldRerenderOnTransaction===!1?null:e.immediatelyRender&&a===0?0:a+1}),s}const l7=k.createContext({editor:null});l7.Consumer;const u7=k.createContext({onDragStart:void 0}),c7=()=>k.useContext(u7);Z.forwardRef((e,t)=>{const{onDragStart:n}=c7(),i=e.as||"div";return Z.createElement(i,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});const f7=/^\s*>\s$/,d7=We.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",qe(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ol({find:f7,type:this.type})]}}),h7=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,p7=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,m7=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,g7=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,y7=mr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",qe(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[go({find:h7,type:this.type}),go({find:m7,type:this.type})]},addPasteRules(){return[yo({find:p7,type:this.type}),yo({find:g7,type:this.type})]}}),v7="listItem",iS="textStyle",rS=/^\s*([-+*])\s$/,b7=We.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",qe(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(v7,this.editor.getAttributes(iS)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=ol({find:rS,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ol({find:rS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(iS),editor:this.editor})),[e]}}),x7=/(^|[^`])`([^`]+)`(?!`)/,S7=/(^|[^`])`([^`]+)`(?!`)/g,T7=mr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",qe(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[go({find:x7,type:this.type})]},addPasteRules(){return[yo({find:S7,type:this.type})]}}),E7=/^```([a-z]+)?[\s\n]$/,C7=/^~~~([a-z]+)?[\s\n]$/,M7=We.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,a=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",qe(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type)return!1;const a=i.parentOffset===i.parent.nodeSize-2,l=i.parent.textContent.endsWith(`

`);return!a||!l?!1:e.chain().command(({tr:c})=>(c.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:i}=t,{$from:s,empty:a}=n;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:i.nodeAt(c)?e.commands.command(({tr:h})=>(h.setSelection(xt.near(i.resolve(c))),!0)):e.commands.exitCode()}}},addInputRules(){return[Wp({find:E7,type:this.type,getAttributes:e=>({language:e[1]})}),Wp({find:C7,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new $e({key:new Pn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),i=t.clipboardData.getData("vscode-editor-data"),s=i?JSON.parse(i):void 0,a=s==null?void 0:s.mode;if(!n||!a)return!1;const{tr:l,schema:c}=e.state,d=c.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:a},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(vt.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),e.dispatch(l),!0}}})]}}),w7=We.create({name:"doc",topNode:!0,content:"block+"});function k7(e={}){return new $e({view(t){return new A7(t,e)}})}class A7{constructor(t,n){var i;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=l=>{this[s](l)};return t.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,i;if(n){let c=t.nodeBefore,d=t.nodeAfter;if(c||d){let h=this.editorView.nodeDOM(this.cursorPos-(c?c.nodeSize:0));if(h){let p=h.getBoundingClientRect(),g=c?p.bottom:p.top;c&&d&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),i={left:p.left,right:p.right,top:g-this.width/2,bottom:g+this.width/2}}}}if(!i){let c=this.editorView.coordsAtPos(this.cursorPos);i={left:c.left-this.width/2,right:c.left+this.width/2,top:c.top,bottom:c.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let a,l;if(!s||s==document.body&&getComputedStyle(s).position=="static")a=-pageXOffset,l=-pageYOffset;else{let c=s.getBoundingClientRect();a=c.left-s.scrollLeft,l=c.top-s.scrollTop}this.element.style.left=i.left-a+"px",this.element.style.top=i.top-l+"px",this.element.style.width=i.right-i.left+"px",this.element.style.height=i.bottom-i.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=i&&i.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,n,t):s;if(n&&!a){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=XT(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const O7=Le.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[k7(this.options)]}});class te extends xt{constructor(t){super(t,t)}map(t,n){let i=t.resolve(n.map(this.head));return te.valid(i)?new te(i):xt.near(i)}content(){return nt.empty}eq(t){return t instanceof te&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new te(t.resolve(n.pos))}getBookmark(){return new yg(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!D7(t)||!N7(t))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let s=n.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,n,i=!1){t:for(;;){if(!i&&te.valid(t))return t;let s=t.pos,a=null;for(let l=t.depth;;l--){let c=t.node(l);if(n>0?t.indexAfter(l)<c.childCount:t.index(l)>0){a=c.child(n>0?t.indexAfter(l):t.index(l)-1);break}else if(l==0)return null;s+=n;let d=t.doc.resolve(s);if(te.valid(d))return d}for(;;){let l=n>0?a.firstChild:a.lastChild;if(!l){if(a.isAtom&&!a.isText&&!ft.isSelectable(a)){t=t.doc.resolve(s+a.nodeSize*n),i=!1;continue t}break}a=l,s+=n;let c=t.doc.resolve(s);if(te.valid(c))return c}return null}}}te.prototype.visible=!1;te.findFrom=te.findGapCursorFrom;xt.jsonID("gapcursor",te);class yg{constructor(t){this.pos=t}map(t){return new yg(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return te.valid(n)?new te(n):xt.near(n)}}function D7(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),i=e.node(t);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function N7(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),i=e.node(t);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function R7(){return new $e({props:{decorations:L7,createSelectionBetween(e,t,n){return t.pos==n.pos&&te.valid(n)?new te(n):null},handleClick:_7,handleKeyDown:j7,handleDOMEvents:{beforeinput:z7}}})}const j7=zE({ArrowLeft:Ku("horiz",-1),ArrowRight:Ku("horiz",1),ArrowUp:Ku("vert",-1),ArrowDown:Ku("vert",1)});function Ku(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(i,s,a){let l=i.selection,c=t>0?l.$to:l.$from,d=l.empty;if(l instanceof vt){if(!a.endOfTextblock(n)||c.depth==0)return!1;d=!1,c=i.doc.resolve(t>0?c.after():c.before())}let h=te.findGapCursorFrom(c,t,d);return h?(s&&s(i.tr.setSelection(new te(h))),!0):!1}}function _7(e,t,n){if(!e||!e.editable)return!1;let i=e.state.doc.resolve(t);if(!te.valid(i))return!1;let s=e.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&ft.isSelectable(e.state.doc.nodeAt(s.inside))?!1:(e.dispatch(e.state.tr.setSelection(new te(i))),!0)}function z7(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof te))return!1;let{$from:n}=e.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!i)return!1;let s=J.empty;for(let l=i.length-1;l>=0;l--)s=J.from(i[l].createAndFill(null,s));let a=e.state.tr.replace(n.pos,n.pos,new nt(s,0,0));return a.setSelection(vt.near(a.doc.resolve(n.pos+1))),e.dispatch(a),!1}function L7(e){if(!(e.selection instanceof te))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",ae.create(e.doc,[dn.widget(e.selection.head,t,{key:"gapcursor"})])}const B7=Le.create({name:"gapCursor",addProseMirrorPlugins(){return[R7()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Ct(ot(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}}),V7=We.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",qe(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:i})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:s,storedMarks:a}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=i.extensionManager,d=a||s.$to.parentOffset&&s.$from.marks();return t().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&d&&l){const g=d.filter(v=>c.includes(v.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),vg=We.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,qe(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Wp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var Dc=200,ve=function(){};ve.prototype.append=function(t){return t.length?(t=ve.from(t),!this.length&&t||t.length<Dc&&this.leafAppend(t)||this.length<Dc&&t.leafPrepend(this)||this.appendInner(t)):this};ve.prototype.prepend=function(t){return t.length?ve.from(t).append(this):this};ve.prototype.appendInner=function(t){return new P7(this,t)};ve.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?ve.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};ve.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};ve.prototype.forEach=function(t,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(t,n,i,0):this.forEachInvertedInner(t,n,i,0)};ve.prototype.map=function(t,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var s=[];return this.forEach(function(a,l){return s.push(t(a,l))},n,i),s};ve.from=function(t){return t instanceof ve?t:t&&t.length?new uC(t):ve.empty};var uC=function(e){function t(i){e.call(this),this.values=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new t(this.values.slice(s,a))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,a,l,c){for(var d=a;d<l;d++)if(s(this.values[d],c+d)===!1)return!1},t.prototype.forEachInvertedInner=function(s,a,l,c){for(var d=a-1;d>=l;d--)if(s(this.values[d],c+d)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=Dc)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=Dc)return new t(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(ve);ve.empty=new uC([]);var P7=function(e){function t(n,i){e.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},t.prototype.forEachInner=function(i,s,a,l){var c=this.left.length;if(s<c&&this.left.forEachInner(i,s,Math.min(a,c),l)===!1||a>c&&this.right.forEachInner(i,Math.max(s-c,0),Math.min(this.length,a)-c,l+c)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,a,l){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(i,s-c,Math.max(a,c)-c,l+c)===!1||a<c&&this.left.forEachInvertedInner(i,Math.min(s,c),a,l)===!1)return!1},t.prototype.sliceInner=function(i,s){if(i==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(i,s):i>=a?this.right.slice(i-a,s-a):this.left.slice(i,a).append(this.right.slice(0,s-a))},t.prototype.leafAppend=function(i){var s=this.right.leafAppend(i);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(i){var s=this.left.leafPrepend(i);if(s)return new t(s,this.right)},t.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new t(this.left,new t(this.right,i)):new t(this,i)},t}(ve);const H7=500;class Bn{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let s,a;n&&(s=this.remapping(i,this.items.length),a=s.maps.length);let l=t.tr,c,d,h=[],p=[];return this.items.forEach((g,v)=>{if(!g.step){s||(s=this.remapping(i,v+1),a=s.maps.length),a--,p.push(g);return}if(s){p.push(new $n(g.map));let b=g.step.map(s.slice(a)),x;b&&l.maybeStep(b).doc&&(x=l.mapping.maps[l.mapping.maps.length-1],h.push(new $n(x,void 0,void 0,h.length+p.length))),a--,x&&s.appendMap(x,a)}else l.maybeStep(g.step);if(g.selection)return c=s?g.selection.map(s.slice(a)):g.selection,d=new Bn(this.items.slice(0,i).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:c}}addTransform(t,n,i,s){let a=[],l=this.eventCount,c=this.items,d=!s&&c.length?c.get(c.length-1):null;for(let p=0;p<t.steps.length;p++){let g=t.steps[p].invert(t.docs[p]),v=new $n(t.mapping.maps[p],g,n),b;(b=d&&d.merge(v))&&(v=b,p?a.pop():c=c.slice(0,c.length-1)),a.push(v),n&&(l++,n=void 0),s||(d=v)}let h=l-i.depth;return h>I7&&(c=U7(c,h),l-=h),new Bn(c.append(a),l)}remapping(t,n){let i=new tl;return this.items.forEach((s,a)=>{let l=s.mirrorOffset!=null&&a-s.mirrorOffset>=t?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,l)},t,n),i}addMaps(t){return this.eventCount==0?this:new Bn(this.items.append(t.map(n=>new $n(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let i=[],s=Math.max(0,this.items.length-n),a=t.mapping,l=t.steps.length,c=this.eventCount;this.items.forEach(v=>{v.selection&&c--},s);let d=n;this.items.forEach(v=>{let b=a.getMirror(--d);if(b==null)return;l=Math.min(l,b);let x=a.maps[b];if(v.step){let E=t.steps[b].invert(t.docs[b]),C=v.selection&&v.selection.map(a.slice(d+1,b));C&&c++,i.push(new $n(x,E,C))}else i.push(new $n(x))},s);let h=[];for(let v=n;v<l;v++)h.push(new $n(a.maps[v]));let p=this.items.slice(0,s).append(h).append(i),g=new Bn(p,c);return g.emptyItemCount()>H7&&(g=g.compress(this.items.length-i.length)),g}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),i=n.maps.length,s=[],a=0;return this.items.forEach((l,c)=>{if(c>=t)s.push(l),l.selection&&a++;else if(l.step){let d=l.step.map(n.slice(i)),h=d&&d.getMap();if(i--,h&&n.appendMap(h,i),d){let p=l.selection&&l.selection.map(n.slice(i));p&&a++;let g=new $n(h.invert(),d,p),v,b=s.length-1;(v=s.length&&s[b].merge(g))?s[b]=v:s.push(g)}}else l.map&&i--},this.items.length,0),new Bn(ve.from(s.reverse()),a)}}Bn.empty=new Bn(ve.empty,0);function U7(e,t){let n;return e.forEach((i,s)=>{if(i.selection&&t--==0)return n=s,!1}),e.slice(n)}class $n{constructor(t,n,i,s){this.map=t,this.step=n,this.selection=i,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new $n(n.getMap().invert(),n,this.selection)}}}class nr{constructor(t,n,i,s,a){this.done=t,this.undone=n,this.prevRanges=i,this.prevTime=s,this.prevComposition=a}}const I7=20;function F7(e,t,n,i){let s=n.getMeta(es),a;if(s)return s.historyState;n.getMeta(G7)&&(e=new nr(e.done,e.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(l&&l.getMeta(es))return l.getMeta(es).redo?new nr(e.done.addTransform(n,void 0,i,rc(t)),e.undone,sS(n.mapping.maps),e.prevTime,e.prevComposition):new nr(e.done,e.undone.addTransform(n,void 0,i,rc(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),d=e.prevTime==0||!l&&e.prevComposition!=c&&(e.prevTime<(n.time||0)-i.newGroupDelay||!q7(n,e.prevRanges)),h=l?ep(e.prevRanges,n.mapping):sS(n.mapping.maps);return new nr(e.done.addTransform(n,d?t.selection.getBookmark():void 0,i,rc(t)),Bn.empty,h,n.time,c??e.prevComposition)}else return(a=n.getMeta("rebased"))?new nr(e.done.rebased(n,a),e.undone.rebased(n,a),ep(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new nr(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),ep(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function q7(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((i,s)=>{for(let a=0;a<t.length;a+=2)i<=t[a+1]&&s>=t[a]&&(n=!0)}),n}function sS(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((i,s,a,l)=>t.push(a,l));return t}function ep(e,t){if(!e)return null;let n=[];for(let i=0;i<e.length;i+=2){let s=t.map(e[i],1),a=t.map(e[i+1],-1);s<=a&&n.push(s,a)}return n}function $7(e,t,n){let i=rc(t),s=es.get(t).spec.config,a=(n?e.undone:e.done).popEvent(t,i);if(!a)return null;let l=a.selection.resolve(a.transform.doc),c=(n?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),s,i),d=new nr(n?c:a.remaining,n?a.remaining:c,null,0,-1);return a.transform.setSelection(l).setMeta(es,{redo:n,historyState:d})}let np=!1,oS=null;function rc(e){let t=e.plugins;if(oS!=t){np=!1,oS=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){np=!0;break}}return np}const es=new Pn("history"),G7=new Pn("closeHistory");function K7(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new $e({key:es,state:{init(){return new nr(Bn.empty,Bn.empty,null,0,-1)},apply(t,n,i){return F7(n,i,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let i=n.inputType,s=i=="historyUndo"?fC:i=="historyRedo"?dC:null;return s?(n.preventDefault(),s(t.state,t.dispatch)):!1}}}})}function cC(e,t){return(n,i)=>{let s=es.getState(n);if(!s||(e?s.undone:s.done).eventCount==0)return!1;if(i){let a=$7(s,n,e);a&&i(t?a.scrollIntoView():a)}return!0}}const fC=cC(!1,!0),dC=cC(!0,!0),Y7=Le.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>fC(e,t),redo:()=>({state:e,dispatch:t})=>dC(e,t)}},addProseMirrorPlugins(){return[K7(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),X7=We.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",qe(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{const{selection:n}=t,{$from:i,$to:s}=n,a=e();return i.parentOffset===0?a.insertContentAt({from:Math.max(i.pos-1,0),to:s.pos},{type:this.name}):hj(n)?a.insertContentAt(s.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({tr:l,dispatch:c})=>{var d;if(c){const{$to:h}=l.selection,p=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?l.setSelection(vt.create(l.doc,h.pos+1)):h.nodeAfter.isBlock?l.setSelection(ft.create(l.doc,h.pos)):l.setSelection(vt.create(l.doc,h.pos));else{const g=(d=h.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();g&&(l.insert(p,g),l.setSelection(vt.create(l.doc,p+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[$j({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),J7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Z7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Q7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,W7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,t_=mr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",qe(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[go({find:J7,type:this.type}),go({find:Q7,type:this.type})]},addPasteRules(){return[yo({find:Z7,type:this.type}),yo({find:W7,type:this.type})]}}),e_=We.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",qe(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),n_="listItem",aS="textStyle",lS=/^(\d+)\.\s$/,i_=We.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",qe(this.options.HTMLAttributes,n),0]:["ol",qe(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(n_,this.editor.getAttributes(aS)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=ol({find:lS,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ol({find:lS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(aS)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),r_=We.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",qe(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),s_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,o_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,a_=mr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",qe(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[go({find:s_,type:this.type})]},addPasteRules(){return[yo({find:o_,type:this.type})]}}),l_=We.create({name:"text",group:"inline"}),hC=Le.create({name:"starterKit",addExtensions(){const e=[];return this.options.bold!==!1&&e.push(y7.configure(this.options.bold)),this.options.blockquote!==!1&&e.push(d7.configure(this.options.blockquote)),this.options.bulletList!==!1&&e.push(b7.configure(this.options.bulletList)),this.options.code!==!1&&e.push(T7.configure(this.options.code)),this.options.codeBlock!==!1&&e.push(M7.configure(this.options.codeBlock)),this.options.document!==!1&&e.push(w7.configure(this.options.document)),this.options.dropcursor!==!1&&e.push(O7.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&e.push(B7.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&e.push(V7.configure(this.options.hardBreak)),this.options.heading!==!1&&e.push(vg.configure(this.options.heading)),this.options.history!==!1&&e.push(Y7.configure(this.options.history)),this.options.horizontalRule!==!1&&e.push(X7.configure(this.options.horizontalRule)),this.options.italic!==!1&&e.push(t_.configure(this.options.italic)),this.options.listItem!==!1&&e.push(e_.configure(this.options.listItem)),this.options.orderedList!==!1&&e.push(i_.configure(this.options.orderedList)),this.options.paragraph!==!1&&e.push(r_.configure(this.options.paragraph)),this.options.strike!==!1&&e.push(a_.configure(this.options.strike)),this.options.text!==!1&&e.push(l_.configure(this.options.text)),e}}),pC=Le.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new $e({key:new Pn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=t,s=[];if(!n)return null;const a=this.editor.isEmpty;return e.descendants((l,c)=>{const d=i>=c&&i<=c+l.nodeSize,h=!l.isLeaf&&nf(l);if((d||!this.options.showOnlyCurrent)&&h){const p=[this.options.emptyNodeClass];a&&p.push(this.options.emptyEditorClass);const g=dn.node(c,c+l.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:d}):this.options.placeholder});s.push(g)}return this.options.includeChildren}),ae.create(e,s)}}})]}}),mC=({content:e,setContent:t})=>{const n=lC({extensions:[hC,vg.configure({levels:[1,2,3]}),pC.configure({placeholder:"Kirjoita tähän..."})],content:e,onUpdate:({editor:s})=>{t(s.getHTML())}});if(!n)return null;const i=(s,a={})=>n.isActive(s,a)?"active":"";return T.jsxs("div",{className:"editor-container",children:[T.jsxs("div",{className:"toolbar",children:[T.jsx("button",{type:"button",className:i("bold"),onClick:()=>n.chain().focus().toggleBold().run(),children:T.jsx("b",{children:"B"})}),T.jsx("button",{type:"button",className:i("italic"),onClick:()=>n.chain().focus().toggleItalic().run(),children:T.jsx("i",{children:"I"})}),T.jsx("button",{type:"button",className:i("strike"),onClick:()=>n.chain().focus().toggleStrike().run(),children:T.jsx("s",{children:"S"})}),T.jsx("button",{type:"button",className:i("bulletList"),onClick:()=>n.chain().focus().toggleBulletList().run(),children:"•"}),T.jsx("button",{type:"button",className:i("orderedList"),onClick:()=>n.chain().focus().toggleOrderedList().run(),children:"1."}),T.jsx("button",{type:"button",className:i("heading",{level:2}),onClick:()=>n.chain().focus().setHeading({level:2}).run(),children:"H1"}),T.jsx("button",{type:"button",className:i("heading",{level:3}),onClick:()=>n.chain().focus().setHeading({level:3}).run(),children:"H2"}),T.jsx("button",{type:"button",onClick:()=>n.chain().focus().undo().run(),children:"↩"}),T.jsx("button",{type:"button",onClick:()=>n.chain().focus().redo().run(),children:"↪"})]}),T.jsx("div",{className:"editor-box",children:T.jsx(oC,{editor:n})})]})};var ip={exports:{}},rp,uS;function u_(){if(uS)return rp;uS=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rp=e,rp}var sp,cS;function c_(){if(cS)return sp;cS=1;var e=u_();function t(){}function n(){}return n.resetWarningCache=t,sp=function(){function i(l,c,d,h,p,g){if(g!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},sp}var fS;function f_(){return fS||(fS=1,ip.exports=c_()()),ip.exports}var d_=f_();const Mn=rm(d_);var h_={grad:.9,turn:360,rad:360/(2*Math.PI)},vi=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},me=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Dn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},gC=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},dS=function(e){return{r:Dn(e.r,0,255),g:Dn(e.g,0,255),b:Dn(e.b,0,255),a:Dn(e.a)}},op=function(e){return{r:me(e.r),g:me(e.g),b:me(e.b),a:me(e.a,3)}},p_=/^#([0-9a-f]{3,8})$/i,Yu=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},yC=function(e){var t=e.r,n=e.g,i=e.b,s=e.a,a=Math.max(t,n,i),l=a-Math.min(t,n,i),c=l?a===t?(n-i)/l:a===n?2+(i-t)/l:4+(t-n)/l:0;return{h:60*(c<0?c+6:c),s:a?l/a*100:0,v:a/255*100,a:s}},vC=function(e){var t=e.h,n=e.s,i=e.v,s=e.a;t=t/360*6,n/=100,i/=100;var a=Math.floor(t),l=i*(1-n),c=i*(1-(t-a)*n),d=i*(1-(1-t+a)*n),h=a%6;return{r:255*[i,c,l,l,d,i][h],g:255*[d,i,i,c,l,l][h],b:255*[l,l,d,i,i,c][h],a:s}},hS=function(e){return{h:gC(e.h),s:Dn(e.s,0,100),l:Dn(e.l,0,100),a:Dn(e.a)}},pS=function(e){return{h:me(e.h),s:me(e.s),l:me(e.l),a:me(e.a,3)}},mS=function(e){return vC((n=(t=e).s,{h:t.h,s:(n*=((i=t.l)<50?i:100-i)/100)>0?2*n/(i+n)*100:0,v:i+n,a:t.a}));var t,n,i},Pa=function(e){return{h:(t=yC(e)).h,s:(s=(200-(n=t.s))*(i=t.v)/100)>0&&s<200?n*i/100/(s<=100?s:200-s)*100:0,l:s/2,a:t.a};var t,n,i,s},m_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,em={string:[[function(e){var t=p_.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?me(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?me(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=y_.exec(e)||v_.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:dS({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=m_.exec(e)||g_.exec(e);if(!t)return null;var n,i,s=hS({h:(n=t[1],i=t[2],i===void 0&&(i="deg"),Number(n)*(h_[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return mS(s)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,i=e.b,s=e.a,a=s===void 0?1:s;return vi(t)&&vi(n)&&vi(i)?dS({r:Number(t),g:Number(n),b:Number(i),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,n=e.s,i=e.l,s=e.a,a=s===void 0?1:s;if(!vi(t)||!vi(n)||!vi(i))return null;var l=hS({h:Number(t),s:Number(n),l:Number(i),a:Number(a)});return mS(l)},"hsl"],[function(e){var t=e.h,n=e.s,i=e.v,s=e.a,a=s===void 0?1:s;if(!vi(t)||!vi(n)||!vi(i))return null;var l=function(c){return{h:gC(c.h),s:Dn(c.s,0,100),v:Dn(c.v,0,100),a:Dn(c.a)}}({h:Number(t),s:Number(n),v:Number(i),a:Number(a)});return vC(l)},"hsv"]]},gS=function(e,t){for(var n=0;n<t.length;n++){var i=t[n][0](e);if(i)return[i,t[n][1]]}return[null,void 0]},b_=function(e){return typeof e=="string"?gS(e.trim(),em.string):typeof e=="object"&&e!==null?gS(e,em.object):[null,void 0]},ap=function(e,t){var n=Pa(e);return{h:n.h,s:Dn(n.s+100*t,0,100),l:n.l,a:n.a}},lp=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},yS=function(e,t){var n=Pa(e);return{h:n.h,s:n.s,l:Dn(n.l+100*t,0,100),a:n.a}},nm=function(){function e(t){this.parsed=b_(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return me(lp(this.rgba),2)},e.prototype.isDark=function(){return lp(this.rgba)<.5},e.prototype.isLight=function(){return lp(this.rgba)>=.5},e.prototype.toHex=function(){return t=op(this.rgba),n=t.r,i=t.g,s=t.b,l=(a=t.a)<1?Yu(me(255*a)):"","#"+Yu(n)+Yu(i)+Yu(s)+l;var t,n,i,s,a,l},e.prototype.toRgb=function(){return op(this.rgba)},e.prototype.toRgbString=function(){return t=op(this.rgba),n=t.r,i=t.g,s=t.b,(a=t.a)<1?"rgba("+n+", "+i+", "+s+", "+a+")":"rgb("+n+", "+i+", "+s+")";var t,n,i,s,a},e.prototype.toHsl=function(){return pS(Pa(this.rgba))},e.prototype.toHslString=function(){return t=pS(Pa(this.rgba)),n=t.h,i=t.s,s=t.l,(a=t.a)<1?"hsla("+n+", "+i+"%, "+s+"%, "+a+")":"hsl("+n+", "+i+"%, "+s+"%)";var t,n,i,s,a},e.prototype.toHsv=function(){return t=yC(this.rgba),{h:me(t.h),s:me(t.s),v:me(t.v),a:me(t.a,3)};var t},e.prototype.invert=function(){return kn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),kn(ap(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),kn(ap(this.rgba,-t))},e.prototype.grayscale=function(){return kn(ap(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),kn(yS(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),kn(yS(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?kn({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):me(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=Pa(this.rgba);return typeof t=="number"?kn({h:t,s:n.s,l:n.l,a:n.a}):me(n.h)},e.prototype.isEqual=function(t){return this.toHex()===kn(t).toHex()},e}(),kn=function(e){return e instanceof nm?e:new nm(e)},vS=[],x_=function(e){e.forEach(function(t){vS.indexOf(t)<0&&(t(nm,em),vS.push(t))})};function S_(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var s in n)i[n[s]]=s;var a={};e.prototype.toName=function(l){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,d,h=i[this.toHex()];if(h)return h;if(l!=null&&l.closest){var p=this.toRgb(),g=1/0,v="black";if(!a.length)for(var b in n)a[b]=new e(n[b]).toRgb();for(var x in n){var E=(c=p,d=a[x],Math.pow(c.r-d.r,2)+Math.pow(c.g-d.g,2)+Math.pow(c.b-d.b,2));E<g&&(g=E,v=x)}return v}},t.string.push([function(l){var c=l.toLowerCase(),d=c==="transparent"?"#0000":n[c];return d?new e(d).toRgb():null},"name"])}var T_={"3d":Z.createElement("path",{d:"M18 14.625V3.375L9 0 0 3.375v11.25L9 18l9-3.375zM9 2.136l5.918 2.22-5.98 2.242-5.919-2.22L9 2.137zM2 13.239V5.065l6.438 2.414v8.174L2 13.24zM9.438 15.7L16 13.239V5.018l-6.563 2.46V15.7z",transform:"translate(15 10)",fillRule:"evenodd"}),acrobat:Z.createElement("path",{d:"M10.15 1.095C9.938.33 9.42-.051 8.984.005c-.528.068-1.09.382-1.314.876-.63 1.416.685 5.582.887 6.279-1.28 3.863-5.66 11.5-7.806 12.017-.045-.505.225-1.965 3.055-3.785.146-.157.315-.348.393-.472-2.392 1.168-5.492 3.044-3.628 4.448.102.079.259.146.439.213 1.426.528 3.425-1.201 5.435-5.121 2.213-.73 3.999-1.28 6.526-1.662 2.762 1.875 4.616 2.257 5.874 1.774.348-.135.898-.573 1.055-1.145-1.022 1.258-3.414.382-5.323-.82 1.763-.191 3.582-.303 4.369-.056 1 .314.965.808.954.876.079-.27.191-.708-.022-1.056-.842-1.37-4.706-.573-6.11-.427-2.212-1.336-3.74-3.717-4.358-5.436.573-2.212 1.19-3.818.742-5.413zm-.954 4.638C8.826 4.42 8.309 1.5 9.14.556c1.628.932.618 3.144.056 5.177zm3.044 6.514c-2.134.393-3.583.944-5.66 1.764.617-1.202 1.785-4.268 2.346-6.29.787 1.573 1.741 3.111 3.314 4.526z",transform:"translate(14 9)",fillRule:"evenodd"}),android:Z.createElement("path",{d:"M17.6,9.48l1.84-3.18c0.16-0.31,0.04-0.69-0.26-0.85c-0.29-0.15-0.65-0.06-0.83,0.22l-1.88,3.24 c-2.86-1.21-6.08-1.21-8.94,0L5.65,5.67c-0.19-0.29-0.58-0.38-0.87-0.2C4.5,5.65,4.41,6.01,4.56,6.3L6.4,9.48 C3.3,11.25,1.28,14.44,1,18h22C22.72,14.44,20.7,11.25,17.6,9.48z M7,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25S8.25,13.31,8.25,14C8.25,14.69,7.69,15.25,7,15.25z M17,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25s1.25,0.56,1.25,1.25C18.25,14.69,17.69,15.25,17,15.25z",transform:"translate(12 8)"}),audio:Z.createElement("path",{d:"M.25 4.75v4.5h3L7 13V1L3.25 4.75h-3zM10.375 7A3.375 3.375 0 0 0 8.5 3.977v6.037A3.355 3.355 0 0 0 10.375 7zM8.5.421v1.545A5.254 5.254 0 0 1 12.25 7a5.254 5.254 0 0 1-3.75 5.032v1.545A6.747 6.747 0 0 0 13.75 7 6.747 6.747 0 0 0 8.5.421z",transform:"translate(17 12)",fillRule:"evenodd"}),binary:Z.createElement("path",{d:"M2.338 6.112c1.192 0 1.928-1.072 1.928-2.68 0-1.56-.576-2.504-1.8-2.504C1.274.928.538 2 .538 3.608c0 1.56.576 2.504 1.8 2.504zM1.61 3.408c0-1.008.24-1.568.776-1.568.376 0 .616.336.728.888l-1.504.776v-.096zM2.418 5.2c-.368 0-.608-.32-.72-.856l1.496-.768v.056c0 1.008-.24 1.568-.776 1.568zm7.03.8l.088-.944H8.36V.896L7.272.984v.592l-1.184.112.024.824h1.16v2.544h-1.32V6zm5.199 0l.088-.944h-1.176V.896L12.47.984v.592l-1.184.112.024.824h1.16v2.544h-1.32V6zM4.25 14l.088-.944H3.162v-4.16l-1.088.088v.592L.89 9.688l.024.824h1.16v2.544H.754V14zm5.198 0l.088-.944H8.36v-4.16l-1.088.088v.592l-1.184.112.024.824h1.16v2.544h-1.32V14zm3.287.112c1.192 0 1.928-1.072 1.928-2.68 0-1.56-.576-2.504-1.8-2.504-1.192 0-1.928 1.072-1.928 2.68 0 1.56.576 2.504 1.8 2.504zm-.728-2.704c0-1.008.24-1.568.776-1.568.376 0 .616.336.728.888l-1.504.776v-.096zm.808 1.792c-.368 0-.608-.32-.72-.856l1.496-.768v.056c0 1.008-.24 1.568-.776 1.568z",transform:"translate(16 11)",fillRule:"evenodd"}),code:Z.createElement("path",{d:"M4.078 13.67c-1.875-.527-2.812-1.738-2.812-3.634V9.49C1.266 8.437.844 7.911 0 7.911V6.138c.844 0 1.266-.529 1.266-1.586v-.64c.015-.938.257-1.696.726-2.274C2.466 1.06 3.162.64 4.078.38l.492 1.375c-.656.25-.997.95-1.023 2.102v.695c0 1.167-.482 1.99-1.445 2.469.963.479 1.445 1.304 1.445 2.476v.688c.026 1.15.367 1.851 1.023 2.101l-.492 1.383zm7.844 0c1.875-.527 2.812-1.738 2.812-3.634V9.49c0-1.052.422-1.578 1.266-1.578V6.138c-.844 0-1.266-.529-1.266-1.586v-.64c-.015-.938-.257-1.696-.726-2.274-.474-.578-1.17-.998-2.086-1.258l-.492 1.375c.656.25.997.95 1.023 2.102v.695c0 1.167.482 1.99 1.445 2.469-.963.479-1.445 1.304-1.445 2.476v.688c-.026 1.15-.367 1.851-1.023 2.101l.492 1.383z",transform:"translate(16 13)",fillRule:"evenodd"}),code2:Z.createElement("path",{d:"M7.4 10.6L2.8 6l4.6-4.6L6 0 0 6l6 6 1.4-1.4zm5.2 0L17.2 6l-4.6-4.6L14 0l6 6-6 6-1.4-1.4z",transform:"translate(14 14)",fillRule:"evenodd"}),compressed:Z.createElement("path",{d:"M.25 0A.25.25 0 0 0 0 .25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 1.75V.25A.25.25 0 0 0 1.75 0H.25zM1 17a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H1zm0 4v3h2v-3H1zM2 2.25A.25.25 0 0 1 2.25 2h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 3.75v-1.5zM.25 4a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 5.75v-1.5A.25.25 0 0 0 1.75 4H.25zM2 6.25A.25.25 0 0 1 2.25 6h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 7.75v-1.5zM.25 8a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 9.75v-1.5A.25.25 0 0 0 1.75 8H.25zM2 10.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5zM.25 12a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5a.25.25 0 0 0 .25-.25v-1.5a.25.25 0 0 0-.25-.25H.25zM2 14.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5z",transform:"translate(15 1)",fillRule:"evenodd"}),document:Z.createElement("path",{d:"M12 4H0v2h12V4zM0 10h18V8H0v2zM0 0v2h18V0H0z",transform:"translate(15 15)",fillRule:"evenodd"}),drive:Z.createElement("path",{d:"M2.199.289A.5.5 0 0 1 2.652 0h8.696a.5.5 0 0 1 .453.289l1.867 4a.5.5 0 0 1-.453.711H.785a.5.5 0 0 1-.453-.711l1.867-4zM13 6H1a.752.752 0 0 0-.75.75v4.5c0 .412.338.75.75.75h12c.412 0 .75-.338.75-.75v-4.5A.752.752 0 0 0 13 6zm-9.75 4.5c-.825 0-1.5-.675-1.5-1.5s.675-1.5 1.5-1.5 1.5.675 1.5 1.5-.675 1.5-1.5 1.5z",transform:"translate(17 13)",fillRule:"evenodd"}),font:Z.createElement("path",{d:"M3.722 8.702l-.686 1.89c-.053.14-.094.28-.123.421-.03.135-.044.252-.044.352 0 .304.097.527.29.668.2.14.501.21.905.21h.414V13H.083v-.756h.343c.176 0 .325-.018.448-.053a.81.81 0 0 0 .334-.22c.1-.105.193-.249.281-.43.094-.182.197-.416.308-.704L5.787.15h1.406l4.07 11.136c.07.187.14.343.21.466.077.123.165.222.264.298.1.07.214.12.343.15.129.03.281.044.457.044h.237V13H7.826v-.756h.413c.72 0 1.081-.287 1.081-.862 0-.1-.014-.202-.044-.307a3.274 3.274 0 0 0-.105-.36l-.72-2.013H3.72zM7.009 4.65c-.188-.533-.36-1.031-.519-1.494a15.92 15.92 0 0 1-.378-1.354 7.12 7.12 0 0 1-.15.633 16.95 16.95 0 0 1-.395 1.283c-.082.229-.175.484-.28.765L4.063 7.796h4.061L7.009 4.65zm8.411 5.74c0 .562.117.984.351 1.265.24.275.61.413 1.108.413.363 0 .691-.059.984-.176.3-.117.551-.284.756-.5.211-.218.372-.481.483-.792.112-.31.168-.656.168-1.037V8.104l-1.152.053c-.51.023-.937.088-1.283.193-.34.1-.615.243-.826.43a1.546 1.546 0 0 0-.457.678c-.088.27-.132.58-.132.931zm2.18-6.32c-.346 0-.627.05-.844.15a1.182 1.182 0 0 0-.501.404 1.594 1.594 0 0 0-.237.624c-.041.24-.062.5-.062.782-.498 0-.879-.085-1.143-.255-.257-.17-.386-.463-.386-.879 0-.31.085-.574.255-.79.17-.218.401-.393.694-.528.299-.14.644-.243 1.037-.308a7.76 7.76 0 0 1 1.257-.097c.55 0 1.031.056 1.441.167.41.106.753.282 1.029.528.275.246.48.568.615.967.14.392.21.876.21 1.45v4.667c0 .252.021.46.062.624a.928.928 0 0 0 .194.395c.088.1.202.17.343.211.146.041.319.062.518.062h.053V13H19.7l-.281-1.547h-.15c-.187.252-.369.483-.544.694-.176.211-.37.393-.58.545-.211.152-.452.27-.721.352a3.053 3.053 0 0 1-.958.131c-.399 0-.77-.058-1.116-.175a2.369 2.369 0 0 1-.888-.519 2.516 2.516 0 0 1-.58-.896c-.14-.364-.211-.791-.211-1.284 0-.955.34-1.664 1.02-2.127.68-.462 1.707-.714 3.084-.755l1.495-.053V6.285a6.93 6.93 0 0 0-.053-.888 1.778 1.778 0 0 0-.229-.703 1.14 1.14 0 0 0-.51-.457c-.216-.111-.51-.167-.878-.167z",transform:"translate(13 12)",fillRule:"evenodd"}),image:Z.createElement("path",{d:"M13 0L9.25 5l2.85 3.8-1.6 1.2C8.81 7.75 6 4 6 4l-6 8h22L13 0z",transform:"translate(13 14)",fillRule:"evenodd"}),presentation:Z.createElement("path",{d:"M2 4H0v10c0 1.1.9 2 2 2h14v-2H2V4zm16-4H6C4.9 0 4 .9 4 2v8c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm0 10H6V2h12v8z",transform:"matrix(-1 0 0 1 34 12)",fillRule:"evenodd"}),settings:Z.createElement("path",{d:"M13.572 8.735c.03-.24.053-.48.053-.735s-.023-.495-.053-.735l1.583-1.237a.378.378 0 0 0 .09-.48l-1.5-2.595a.377.377 0 0 0-.457-.165l-1.868.75a5.48 5.48 0 0 0-1.268-.735L9.868.815A.366.366 0 0 0 9.5.5h-3a.366.366 0 0 0-.367.315l-.285 1.988a5.762 5.762 0 0 0-1.268.735l-1.868-.75a.366.366 0 0 0-.457.165l-1.5 2.595a.37.37 0 0 0 .09.48l1.583 1.237c-.03.24-.053.488-.053.735 0 .248.022.495.053.735L.845 9.973a.378.378 0 0 0-.09.48l1.5 2.595c.09.165.292.225.458.165l1.867-.75c.39.3.81.547 1.268.735l.285 1.987c.022.18.18.315.367.315h3a.366.366 0 0 0 .367-.315l.285-1.988a5.762 5.762 0 0 0 1.268-.734l1.867.75c.173.067.368 0 .458-.165l1.5-2.595a.378.378 0 0 0-.09-.48l-1.582-1.238zM8 10.625A2.628 2.628 0 0 1 5.375 8 2.628 2.628 0 0 1 8 5.375 2.628 2.628 0 0 1 10.625 8 2.628 2.628 0 0 1 8 10.625z",transform:"translate(16 11)",fillRule:"evenodd"}),spreadsheet:Z.createElement("path",{d:"M0 8h6V5H0v3zm0 5h6v-3H0v3zM0 3h6V0H0v3zm8 5h12V5H8v3zm0 5h12v-3H8v3zM8 0v3h12V0H8z",transform:"translate(14 14)",fillRule:"evenodd"}),vector:Z.createElement("path",{d:"M14.5 2V1a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v1H3.937a2 2 0 1 0 0 1h3.936A9 9 0 0 0 3 11v1h2v-1a7.003 7.003 0 0 1 4.594-6.576A1 1 0 0 0 10.5 5h3a1 1 0 0 0 .906-.576A7.003 7.003 0 0 1 19 11v1h2v-1a9 9 0 0 0-4.873-8h3.936a2 2 0 1 0 0-1H14.5zm-1-1h-3v3h3V1zM2 1.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm19 1a1 1 0 1 0 2 0 1 1 0 0 0-2 0z",transform:"translate(12 14)",fillRule:"evenodd"}),video:Z.createElement("path",{d:"M10.75 3.875V1.25A.752.752 0 0 0 10 .5H1a.752.752 0 0 0-.75.75v7.5c0 .412.338.75.75.75h9c.412 0 .75-.338.75-.75V6.125l3 3V.875l-3 3z",transform:"translate(17 14)"})};x_([S_]);var E_={color:Mn.string,extension:Mn.string,fold:Mn.bool,foldColor:Mn.string,glyphColor:Mn.string,gradientColor:Mn.string,gradientOpacity:Mn.number,labelColor:Mn.string,labelTextColor:Mn.string,labelUppercase:Mn.bool,radius:Mn.number,type:Mn.oneOf(["3d","acrobat","android","audio","binary","code","code2","compressed","document","drive","font","image","presentation","settings","spreadsheet","vector","video"])},Nc={WIDTH:40,HEIGHT:48},Bt={WIDTH:Nc.WIDTH,HEIGHT:Nc.HEIGHT,X_OFFSET:0},bi={HEIGHT:12},bS=14,C_=Z.useId||function(){var e=0;return function(){return e++}}(),Ha=function(t){var n=t.color,i=n===void 0?"whitesmoke":n,s=t.extension,a=t.fold,l=a===void 0?!0:a,c=t.foldColor,d=t.glyphColor,h=t.gradientColor,p=h===void 0?"white":h,g=t.gradientOpacity,v=g===void 0?.25:g,b=t.labelColor,x=t.labelTextColor,E=x===void 0?"white":x,C=t.labelUppercase,w=C===void 0?!1:C,O=t.radius,A=O===void 0?4:O,B=t.type,_=C_(),U=typeof jest>"u"?_:"";return Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+Nc.WIDTH+" "+Nc.HEIGHT,width:"100%",style:{maxWidth:"100%"}},Z.createElement("defs",null,Z.createElement("clipPath",{id:"pageRadius"+U},Z.createElement("rect",{x:Bt.X_OFFSET,y:"0",rx:A,ry:A,width:Bt.WIDTH,height:Bt.HEIGHT})),Z.createElement("clipPath",{id:"foldCrop"+U},Z.createElement("rect",{width:Bt.WIDTH,height:bi.HEIGHT,transform:"rotate(-45 0 "+bi.HEIGHT+")"})),Z.createElement("linearGradient",{x1:"100%",y1:"0%",y2:"100%",id:"pageGradient"+U},Z.createElement("stop",{stopColor:p,stopOpacity:v,offset:"0%"}),Z.createElement("stop",{stopColor:p,stopOpacity:"0",offset:"66.67%"}))),Z.createElement("g",{id:"file",clipPath:"url(#pageRadius"+U+")"},l?Z.createElement(Z.Fragment,null,Z.createElement("path",{d:"M"+Bt.X_OFFSET+" 0 h "+(Bt.WIDTH-bi.HEIGHT)+" L "+(Bt.WIDTH+Bt.X_OFFSET)+" "+bi.HEIGHT+" v "+(Bt.HEIGHT-bi.HEIGHT)+" H "+Bt.X_OFFSET+" Z",fill:i}),Z.createElement("path",{d:"M"+Bt.X_OFFSET+" 0 h "+(Bt.WIDTH-bi.HEIGHT)+" L "+(Bt.WIDTH+Bt.X_OFFSET)+" "+bi.HEIGHT+" v "+(Bt.HEIGHT-bi.HEIGHT)+" H "+Bt.X_OFFSET+" Z",fill:"url(#pageGradient"+U+")"})):Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:Bt.X_OFFSET,y:"0",width:Bt.WIDTH,height:Bt.HEIGHT,fill:i}),Z.createElement("rect",{x:Bt.X_OFFSET,y:"0",width:Bt.WIDTH,height:Bt.HEIGHT,fill:"url(#pageGradient"+U+")"}))),l&&Z.createElement("g",{transform:"translate(28 "+bi.HEIGHT+") rotate(-90)"},Z.createElement("rect",{width:Bt.WIDTH,height:Bt.HEIGHT,fill:c||kn(i).darken(.1).toHex(),rx:A,ry:A,clipPath:"url(#foldCrop"+U+")"})),s&&Z.createElement(Z.Fragment,null,Z.createElement("g",{id:"label"+U},Z.createElement("rect",{fill:b||kn(i).darken(.3).toHex(),x:Bt.X_OFFSET,y:Bt.HEIGHT-bS,width:Bt.WIDTH,height:bS,clipPath:"url(#pageRadius"+U+")"})),Z.createElement("g",{id:"labelText"+U,transform:"translate("+Bt.X_OFFSET+" 34)"},Z.createElement("text",{x:Bt.WIDTH/2,y:"10",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif",fontSize:"9",fill:E,textAnchor:"middle",style:{fontWeight:"bold",textAlign:"center",pointerEvents:"none",textTransform:w?"uppercase":"none",userSelect:"none"}},s))),B&&Z.createElement("g",{transform:"translate(-4 "+(s?0:6)+")",fill:d||kn(i).darken(.15).toHex()},T_[B]))};Ha.propTypes=E_;var sc={"3dm":{labelColor:"#8D1A11",type:"3d"},"3ds":{labelColor:"#5FB9AD",type:"3d"},"3g2":{type:"video"},"3gp":{type:"video"},"7zip":{type:"compressed"},aab:{type:"android",labelColor:"#3DDC84"},aac:{type:"audio"},aep:{type:"video"},ai:{color:"#423325",gradientOpacity:0,labelColor:"#423325",labelTextColor:"#FF7F18",labelUppercase:!0,foldColor:"#FF7F18",radius:2},aif:{type:"audio"},aiff:{type:"audio"},apk:{type:"android",labelColor:"#3DDC84"},apkm:{type:"android",labelColor:"#3DDC84"},apks:{type:"android",labelColor:"#3DDC84"},asf:{type:"video"},asp:{type:"code"},aspx:{type:"code"},avi:{type:"video"},bin:{type:"binary"},bmp:{type:"image"},c:{type:"code"},cpp:{type:"code"},cs:{type:"code"},css:{type:"code"},csv:{type:"spreadsheet"},cue:{type:"document"},dll:{type:"settings"},dmg:{type:"drive"},doc:{color:"#2C5898",foldColor:"#254A80",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#2C5898",labelUppercase:!0,type:"document"},docx:{color:"#2C5898",foldColor:"#254A80",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#2C5898",labelUppercase:!0,type:"document"},dwg:{type:"vector"},dxf:{type:"vector"},eot:{type:"font"},eps:{type:"vector"},exe:{type:"settings"},flac:{type:"audio"},flv:{type:"video"},fnt:{type:"font"},fodp:{type:"presentation"},fods:{type:"spreadsheet"},fodt:{type:"document"},fon:{type:"font"},gif:{type:"image"},gz:{type:"compressed"},heic:{type:"image"},htm:{type:"code"},html:{type:"code"},indd:{color:"#4B2B36",gradientOpacity:0,labelColor:"#4B2B36",labelTextColor:"#FF408C",labelUppercase:!0,foldColor:"#FF408C",radius:2},ini:{type:"settings"},java:{type:"code"},jpeg:{type:"image"},jpg:{type:"image"},js:{labelColor:"#F7DF1E",type:"code"},json:{type:"code"},jsx:{labelColor:"#00D8FF",type:"code"},m4a:{type:"audio"},m4v:{type:"video"},max:{labelColor:"#5FB9AD",type:"3d"},md:{type:"document"},mid:{type:"audio"},mkv:{type:"video"},mov:{type:"video"},mp3:{type:"audio"},mp4:{type:"video"},mpeg:{type:"video"},mpg:{type:"video"},obj:{type:"3d"},odp:{type:"presentation"},ods:{type:"spreadsheet"},odt:{type:"document"},ogg:{type:"audio"},ogv:{type:"video"},otf:{type:"font"},pdf:{labelColor:"#D93831",type:"acrobat"},php:{labelColor:"#8892BE",type:"code"},pkg:{type:"3d"},plist:{type:"settings"},png:{type:"image"},ppt:{color:"#D14423",foldColor:"#AB381D",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#D14423",labelUppercase:!0,type:"presentation"},pptx:{color:"#D14423",foldColor:"#AB381D",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#D14423",labelUppercase:!0,type:"presentation"},pr:{type:"video"},ps:{type:"vector"},psd:{color:"#34364E",gradientOpacity:0,labelColor:"#34364E",labelTextColor:"#31C5F0",labelUppercase:!0,foldColor:"#31C5F0",radius:2},py:{labelColor:"#FFDE57",type:"code"},rar:{type:"compressed"},rb:{labelColor:"#BB271A",type:"code"},rm:{type:"video"},rtf:{type:"document"},scss:{labelColor:"#C16A98",type:"code"},sitx:{type:"compressed"},skp:{type:"3d"},svg:{type:"vector"},swf:{type:"video"},sys:{type:"settings"},tar:{type:"compressed"},tex:{type:"document"},tif:{type:"image"},tiff:{type:"image"},ts:{labelColor:"#3478C7",type:"code"},ttf:{type:"font"},txt:{type:"document"},wav:{type:"audio"},webm:{type:"video"},wmv:{type:"video"},woff:{type:"font"},wpd:{type:"document"},wps:{type:"document"},xapk:{type:"android",labelColor:"#3DDC84"},xlr:{type:"spreadsheet"},xls:{color:"#1A754C",foldColor:"#16613F",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#1A754C",labelUppercase:!0,type:"spreadsheet"},xlsx:{color:"#1A754C",foldColor:"#16613F",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#1A754C",labelUppercase:!0,type:"spreadsheet"},yml:{type:"code"},zip:{type:"compressed"},zipx:{type:"compressed"}};function im(e){return Ai({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function M_(e){return Ai({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"},child:[]}]})(e)}const bC=({content:e,setContent:t})=>{const n=lC({extensions:[hC,vg.configure({levels:[1,2,3]}),pC.configure({placeholder:"Kirjoita tähän..."})],content:e,onUpdate:({editor:s})=>{t(s.getHTML())},editorProps:{attributes:{spellcheck:"false"}}});if(!n)return null;const i=(s,a={})=>n.isActive(s,a)?"active":"";return T.jsxs("div",{className:"editor-container",children:[T.jsxs("div",{className:"toolbar",children:[T.jsx("button",{type:"button",className:i("bold"),onClick:()=>n.chain().focus().toggleBold().run(),children:T.jsx("b",{children:"B"})}),T.jsx("button",{type:"button",className:i("italic"),onClick:()=>n.chain().focus().toggleItalic().run(),children:T.jsx("i",{children:"I"})}),T.jsx("button",{type:"button",className:i("strike"),onClick:()=>n.chain().focus().toggleStrike().run(),children:T.jsx("s",{children:"S"})}),T.jsx("button",{type:"button",className:i("bulletList"),onClick:()=>n.chain().focus().toggleBulletList().run(),children:"•"}),T.jsx("button",{type:"button",className:i("orderedList"),onClick:()=>n.chain().focus().toggleOrderedList().run(),children:"1."}),T.jsx("button",{type:"button",className:i("heading",{level:2}),onClick:()=>n.chain().focus().setHeading({level:2}).run(),children:"H1"}),T.jsx("button",{type:"button",className:i("heading",{level:3}),onClick:()=>n.chain().focus().setHeading({level:3}).run(),children:"H2"}),T.jsx("button",{type:"button",onClick:()=>n.chain().focus().undo().run(),children:"↩"}),T.jsx("button",{type:"button",onClick:()=>n.chain().focus().redo().run(),children:"↪"})]}),T.jsx("div",{className:"editor-box",children:T.jsx(oC,{editor:n})})]})},w_=({assignmentId:e,toggleSubmissionBox:t,updateSubmissions:n})=>{const{user:i}=gr(),[s,a]=k.useState(""),[l,c]=k.useState([]);console.log("assignmentId",e),console.log("description",s),console.log("studentId",i==null?void 0:i.id);const d=g=>{var b;g.preventDefault();const v=document.querySelector('input[type="file"]');if(v){const x=(b=v.files)==null?void 0:b[0];x&&c([...l,x])}},h=async g=>{for(const v of l){const b=new FormData;b.append("file",v);try{const E=await(await fetch(`http://localhost:3000/upload/submission/${g}`,{method:"POST",body:b})).json();if(E.error)throw new Error(E.error);console.log(`File ${v.name} uploaded successfully`)}catch(x){console.error(`Error uploading file ${v.name}:`,x),alert(`Tiedoston ${v.name} lataus epäonnistui!`)}}},p=async g=>{var b;g.preventDefault();const v=new FormData;v.append("assignmentId",e.toString()),v.append("description",s),v.append("firstname",(i==null?void 0:i.firstname)||""),v.append("lastname",(i==null?void 0:i.lastname)||""),v.append("studentId",((b=i==null?void 0:i.id)==null?void 0:b.toString())||"");try{const E=await(await fetch("http://localhost:3000/submit-assignment",{method:"POST",body:v})).json();if(E.error)throw new Error(E.error);const C=E.submissionId;await h(C),console.log("assignmentId",e),n(),t()}catch(x){console.error("Error adding submission",x),alert("Palautuksen lisääminen epäonnistui!")}};return T.jsx(T.Fragment,{children:T.jsx("div",{className:"back-shadow",children:T.jsxs("form",{onSubmit:p,className:"submissionform",children:[T.jsx("h2",{style:{margin:"0"},children:"Lisää palautus"}),T.jsx("p",{style:{margin:"0",padding:"0",fontStyle:"italic"},children:"Palautusta voi muokata lisäämisen jälkeen."}),T.jsx("div",{style:{maxHeight:"10em",width:"100%"},children:T.jsx(bC,{content:s,setContent:a})}),T.jsxs("div",{className:"submission-file-manager",children:[l.length>0?T.jsx("form",{className:"file-form",children:T.jsxs("label",{className:"file-label",children:[T.jsx("h3",{children:"Liitä tiedosto palautukseen"}),T.jsx("input",{type:"file",name:"file",required:!0}),T.jsx("button",{type:"button",style:{padding:"0.5em"},onClick:d,children:"Lähetä"})]})}):T.jsx("form",{style:{marginTop:"11em"},className:"file-form",children:T.jsxs("label",{className:"file-label",children:[T.jsx("h3",{children:"Liitä tiedosto palautukseen"}),T.jsx("input",{type:"file",name:"file",required:!0}),T.jsx("button",{type:"button",style:{padding:"0.5em"},onClick:d,children:"Lähetä"})]})}),l.length>0&&T.jsxs("div",{className:"file-container",children:[T.jsx("h4",{children:"Liitetiedostot"}),T.jsx("ul",{style:l.length>3?{overflowY:"scroll"}:void 0,children:l.length>0&&l.map((g,v)=>{const b=g.name.split(".").pop(),x=sc[b]||{};return T.jsxs("li",{children:[T.jsx(Ha,{extension:b,...x}),T.jsxs("p",{children:[" ",g.name.length>5?`${g.name.substring(0,7)}...`:g.name]}),T.jsx("button",{type:"button",style:{padding:"0.5em"},onClick:()=>{c(l.filter((E,C)=>C!==v))},children:T.jsx(im,{className:"add-submission-file-delete-icon"})})]})})})]})]}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",type:"button",onClick:t,children:"Peruuta"}),T.jsx("button",{type:"submit",children:"Lisää palautus"})]})]})})})},k_=({submissionId:e,description:t,toggleEditBox:n,updateSubmissions:i})=>{const[s,a]=k.useState(t),l=async c=>{c.preventDefault();try{const h=await(await fetch(`http://localhost:3000/update-submission/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:s})})).json();if(h.error)throw new Error(h.error);i(),n()}catch(d){console.error("Error updating submission",d),alert("Palautuksen päivittäminen epäonnistui!")}};return T.jsx(T.Fragment,{children:T.jsx("div",{className:"back-shadow",children:T.jsxs("form",{onSubmit:l,className:"edit-submission-form",children:[T.jsx("h2",{children:"Muokkaa palautusta"}),T.jsx("div",{className:"",style:{height:"15em",width:"100%"},children:T.jsx(bC,{content:s,setContent:a})}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",type:"button",onClick:n,children:"Peruuta"}),T.jsx("button",{type:"submit",children:"Tallenna"})]})]})})})},A_=({course:e,members:t,assignments:n,toggleAssignmentBox:i,toggleAddMembersBox:s,toggleRemoveMembersBox:a,onFileSubmit:l,courseFiles:c,deleteCourseFile:d,addFileToAssignment:h,assignmentFiles:p,deleteAssignmentFile:g,deleteAssignment:v})=>{const{user:b}=gr(),[x,E]=k.useState(e.description);k.useEffect(()=>{const W=setTimeout(()=>{E(e.description)},500);return()=>clearTimeout(W)},[e.description]);const[C,w]=k.useState(!1),O=()=>{w(!C)},A=async()=>{try{if(!(await fetch(`http://localhost:3000/update-course/${e.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,description:x})})).ok)throw new Error("Failed to update course description")}catch(W){console.error("Error updating course description",W)}},B=xo(),_=async()=>{if(window.confirm("Poistettua kurssia ei voida palauttaa. Haluatko varmasti poistaa kurssin?"))try{if(!(await fetch(`http://localhost:3000/delete-course/${e.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete course");B("/dashboard")}catch(W){console.error("Error deleting course",W)}},[U,G]=k.useState(!1),q=()=>{G(!U)},[K,tt]=k.useState(0),[at,Ot]=k.useState(!1),Jt=()=>{Ot(!at)},St=async W=>{try{return await(await fetch(`http://localhost:3000/submissions/${W}`)).json()}catch(lt){console.error("Error getting submissions for assignment",lt)}},[rt,H]=k.useState([]);k.useEffect(()=>{(async()=>{const lt=await Promise.all(n.map(async mt=>{const $t=await St(mt.id);return console.log(`submissions for assignment ${mt.title}`,$t),{id:mt.id,submissions:$t}}));H(lt)})()},[n]);const Y=async()=>{const W=await Promise.all(n.map(async lt=>{const mt=await St(lt.id);return console.log(`submissions for assignment ${lt.title}`,mt),{id:lt.id,submissions:mt}}));H(W)},Q=async W=>{try{const lt=await fetch(`http://localhost:3000/files/submission/${W}`);if(!lt.ok)throw new Error("Failed to fetch files");const mt=await lt.json();return console.log("Files for submission",W,mt),mt}catch(lt){return console.error("Error getting submission files",lt),[]}},[Mt,N]=k.useState({});k.useEffect(()=>{if(!rt||rt.length===0)return;(async()=>{try{const mt=(await Promise.all(rt.map($t=>$t.submissions).flat().map(async $t=>{if(!$t)return{};const Ae=await Q($t.id);return{[$t.id]:Ae}}))).reduce(($t,Ae)=>({...$t,...Ae}),{});N(mt),console.log("Submission files object",mt)}catch(lt){console.error("Error fetching submission files",lt)}})()},[rt]);const[X,it]=k.useState([]),et=W=>{it(lt=>lt.includes(W)?lt.filter(mt=>mt!==W):[...lt,W])},ct=async W=>{var Ae;const lt=document.querySelector('input[type="file"]');if(!lt)return;const mt=(Ae=lt.files)==null?void 0:Ae[0];if(!mt)return;const $t=new FormData;$t.append("file",mt);try{const Ge=await(await fetch(`http://localhost:3000/upload/submission/${W}`,{method:"POST",body:$t})).json();if(Ge.error)throw new Error(Ge.error);console.log(`File ${mt.name} uploaded successfully`);const tn=await Q(W);N(ee=>({...ee,[W]:tn}))}catch(Tt){console.error(`Error uploading file ${mt.name}:`,Tt),alert(`Tiedoston ${mt.name} lataus epäonnistui!`)}},Dt=async(W,lt)=>{try{const mt=await fetch(`http://localhost:3000/delete-submission-file/${W}`,{method:"DELETE"});if(!mt.ok)throw new Error(`Error: ${mt.status} ${mt.statusText}`);const $t=await Q(lt);N(Ae=>({...Ae,[lt]:$t}))}catch(mt){console.error("Error deleting file",mt),alert("Tiedoston poisto epäonnistui!")}},yt=async(W,lt)=>{try{if(!(await fetch(`http://localhost:3000/update-submission-state/${W}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({state:lt})})).ok)throw new Error("Failed to update submission state");Y()}catch(mt){console.error("Error updating submission state",mt)}};return T.jsxs(Me.div,{className:"course-content",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:.3},children:[T.jsxs("header",{className:"course-header",children:[T.jsx("h1",{children:e.name}),(b==null?void 0:b.role)==="teacher"&&T.jsxs("div",{className:"course-actions",children:[T.jsxs("button",{className:"add-course-button",onClick:i,children:[T.jsx(TT,{}),T.jsx("span",{children:"Lisää tehtävä"})]}),T.jsxs("button",{className:"add-members-button",onClick:s,children:[T.jsx(XD,{}),T.jsx("span",{children:"Lisää osallistujia"})]}),T.jsxs("button",{className:"delete-members-button",onClick:a,children:[T.jsx(JD,{})," ",T.jsx("span",{children:"Poista osallistujia"})]}),T.jsxs("button",{className:"delete-course-button",onClick:_,children:[T.jsx(im,{})," ",T.jsx("span",{children:"Poista kurssi"})]})]}),T.jsxs("div",{className:"course-subheader",children:[T.jsxs("div",{className:"course-description",style:(b==null?void 0:b.role)==="student"?{width:"70%"}:void 0,children:[C&&T.jsx(mC,{content:x,setContent:E}),T.jsx("div",{className:"description-content",children:!C&&T.jsx("div",{className:"saved-content",children:T.jsx("div",{dangerouslySetInnerHTML:{__html:x}})})}),(b==null?void 0:b.role)==="teacher"&&(C?T.jsx("button",{onClick:()=>{O(),A()},type:"button",children:"Tallenna"}):T.jsx("button",{style:{marginTop:"1em"},onClick:O,type:"button",children:"Muokkaa"}))]}),T.jsxs("div",{className:"file-section",children:[T.jsx("h3",{children:"Kurssin liitetiedostot"}),T.jsx("div",{className:"course-files",children:c.length>0?T.jsx("ul",{children:c.map(W=>{var $t;const lt=(($t=W.filename.split(".").pop())==null?void 0:$t.toLowerCase())||"",mt=sc[lt]||{};return T.jsxs("li",{children:[T.jsx(Ha,{extension:lt,...mt}),T.jsx("a",{href:`http://localhost:3000/${W.path}`,download:!0,children:W.filename.length>5?`${W.filename.substring(0,7)}...`:W.filename}),(b==null?void 0:b.role)==="teacher"&&T.jsx("button",{onClick:()=>d(W.id),children:"Poista"})]},W.id)})}):T.jsx("p",{children:"Ei tiedostoja"})}),(b==null?void 0:b.role)==="teacher"&&T.jsx("form",{style:{padding:"1em"},className:"file-form",onSubmit:l,children:T.jsxs("label",{className:"file-label",children:[T.jsx("h3",{children:"Lisää tiedosto kursille"}),T.jsx("input",{type:"file",name:"file",required:!0}),T.jsx("button",{type:"submit",children:"Lähetä"})]})})]}),(b==null?void 0:b.role)==="teacher"&&T.jsxs("ul",{className:"course-members",children:[T.jsx("h3",{children:"Osallistujat"}),t.map(W=>T.jsxs("li",{style:{gap:"0"},className:"member",children:[T.jsx("h4",{className:"member-name",children:`${W.firstname} ${W.lastname}`}),T.jsx("p",{style:{marginBottom:"0"},className:"member-email",children:W.email})]},W.id))]})]})]}),T.jsx("h2",{id:"assignments-title",children:"Tehtävät"}),T.jsx("ul",{className:"assignment-list",children:n.map(W=>{var lt,mt,$t,Ae;return T.jsx("li",{children:T.jsxs("div",{className:"assignment",children:[T.jsxs("div",{className:"assignment-info",children:[T.jsx("h2",{children:T.jsx("strong",{children:W.title})}),T.jsx("div",{className:"assignment-desc",children:T.jsx("div",{dangerouslySetInnerHTML:{__html:W.description}})})]}),((lt=p[W.id])==null?void 0:lt.length)>0&&T.jsxs("div",{className:"assignment-files",children:[T.jsx("h3",{children:"Tehtävän liitetiedostot"}),T.jsx("ul",{children:(p[W.id]||[]).map(Tt=>{const Ge=Tt.filename.split(".").pop(),tn=sc[Ge]||{};return T.jsxs("li",{children:[T.jsx(Ha,{extension:Ge,...tn}),T.jsx("a",{href:`http://localhost:3000/${Tt.path}`,download:!0,children:Tt.filename.length>5?`${Tt.filename.substring(0,7)}...`:Tt.filename}),(b==null?void 0:b.role)==="teacher"&&T.jsx("button",{type:"button",onClick:()=>g(Tt.id,W.id),children:"Poista"})]},Tt.id)})})]}),(b==null?void 0:b.role)==="teacher"&&T.jsx("form",{className:"assignment-file-form",onSubmit:Tt=>h(W.id,Tt),children:T.jsxs("label",{children:[T.jsx("h4",{children:"Lisää tiedosto tehtävään"}),T.jsx("input",{type:"file",name:"file",required:!0}),T.jsx("button",{type:"submit",children:"Lähetä"})]})}),((b==null?void 0:b.role)==="teacher"||(b==null?void 0:b.role)==="student")&&(rt??[]).length>0&&T.jsxs(T.Fragment,{children:[((($t=(mt=rt.find(Tt=>Tt.id===W.id))==null?void 0:mt.submissions)==null?void 0:$t.length)||0)>0&&T.jsx("h3",{children:(b==null?void 0:b.role)==="teacher"?"Palautukset":"Oma palautus"}),T.jsx("ul",{style:{listStyle:"none",padding:0,display:"flex",flexDirection:"column",gap:"1em"},children:(((Ae=rt.find(Tt=>Tt.id===W.id))==null?void 0:Ae.submissions)||[]).filter(Tt=>(b==null?void 0:b.role)==="student"?Tt.studentId===b.id:!0).map(Tt=>{var tn;const Ge=X.includes(Tt.id);return T.jsxs("li",{className:`submission-item ${Ge?"open":"closed"}`,style:{background:"var(--aliceblue)",padding:"0.5em",borderRadius:"15px",width:"fit-content"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"fit-content",cursor:"pointer"},onClick:()=>et(Tt.id),children:[T.jsxs("h3",{style:{margin:0},children:[Tt.firstname," ",Tt.lastname]}),T.jsx("span",{style:{transform:Ge?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s ease",paddingLeft:".5em",scale:1.3,color:"var(--black)"},children:"➤"})]}),(b==null?void 0:b.role)==="teacher"&&T.jsx(T.Fragment,{children:T.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",gap:".5em"},children:[T.jsx("p",{children:"Palautuksen tila: "}),T.jsxs("select",{style:{fontSize:"1em",padding:".5em",borderRadius:"15px",border:"2px solid black",width:"fit-content",backgroundColor:Tt.state==="accepted"?"var(--lightgreen)":"var(--white)",color:(Tt.state==="accepted","var(--black)")},value:Tt.state,onChange:ee=>yt(Tt.id,ee.target.value),children:[T.jsx("option",{value:"submitted",children:"Palautettu"}),T.jsx("option",{value:"accepted",children:"Suoritettu"})]})]})}),(b==null?void 0:b.role)==="student"&&T.jsx("p",{children:Tt.state==="accepted"?T.jsxs("span",{style:{display:"flex",alignItems:"center",fontSize:"1.1em",background:"aliceblue",padding:".5em",borderRadius:"15px",fontWeight:"bold",marginTop:".5em",width:"fit-content"},children:[T.jsx(M_,{style:{scale:.7,color:"var(--emerald)"}}),"Suoritettu"]}):null}),Ge&&T.jsxs("div",{className:"submission-content",style:{marginTop:"1em"},children:[T.jsx("div",{style:{background:"white",borderRadius:"15px",padding:"1em",boxShadow:" 0 0 5px rgba(0, 0, 0, 0.1)"},dangerouslySetInnerHTML:{__html:Tt.description}}),T.jsxs("div",{children:[((tn=Mt[Tt.id])==null?void 0:tn.length)>0&&T.jsx("h4",{style:{paddingLeft:".2em",paddingTop:".5em"},children:"Palautuksen liitetiedostot"}),T.jsx("ul",{className:"submission-files",children:Mt[Tt.id]&&Mt[Tt.id].map(ee=>{var Sl;if(!ee||!ee.filename)return null;const xl=((Sl=ee.filename.split(".").pop())==null?void 0:Sl.toLowerCase())||"",pn=sc[xl]||{};return T.jsxs("li",{className:"submission-file",children:[T.jsx(Ha,{extension:xl,...pn}),T.jsx("a",{href:`http://localhost:3000/${ee.path}`,download:!0,children:ee.filename.length>5?`${ee.filename.substring(0,7)}...`:ee.filename}),(b==null?void 0:b.role)==="student"&&T.jsx("button",{onClick:()=>Dt(ee.id,Tt.id),style:{backgroundColor:"var(--bittersweet)",padding:"0.5em"},children:"Poista"})]},ee.id)})}),(b==null?void 0:b.role)==="student"&&T.jsx("div",{className:"submission-file-form",children:T.jsx("form",{onSubmit:ee=>{ee.preventDefault(),ct(Tt.id)},children:T.jsxs("label",{children:[T.jsx("h4",{children:"Liitä tiedosto palautukseen"}),T.jsx("input",{type:"file",name:"file",required:!0}),T.jsx("button",{type:"submit",children:"Lähetä"})]})})})]})]})]},Tt.id)})}),(b==null?void 0:b.role)==="teacher"&&T.jsxs("button",{style:{alignSelf:"end",padding:"0.5em",background:"var(--bittersweet)"},type:"button",onClick:()=>v(W.id),children:[T.jsx("span",{children:T.jsx(im,{})}),T.jsx("p",{children:"Poista tehtävä"})]})]}),(b==null?void 0:b.role)==="student"&&(()=>{var tn;return(((tn=rt.find(ee=>ee.id===W.id))==null?void 0:tn.submissions)||[]).some(ee=>ee.studentId===b.id)?T.jsx("button",{style:{alignSelf:"start",padding:"0.5em",background:"var(--lightgreen)"},type:"button",onClick:()=>{Jt(),tt(W.id)},children:T.jsx("p",{children:"Muokkaa palautusta"})}):T.jsx("button",{style:{alignSelf:"start",padding:"0.5em",background:"var(--lightgreen)"},type:"button",onClick:()=>{q(),tt(W.id)},children:T.jsx("p",{children:"Lisää palautus"})})})()]})},W.id)})}),U&&T.jsx(w_,{assignmentId:K,toggleSubmissionBox:q,updateSubmissions:Y}),at&&(()=>{var lt;const W=(lt=rt.find(mt=>mt.id===K))==null?void 0:lt.submissions.find(mt=>mt.studentId===(b==null?void 0:b.id));return W!=null&&W.id?T.jsx(k_,{submissionId:W.id,description:W.description||"",toggleEditBox:Jt,updateSubmissions:Y}):null})()]})},O_=({courseId:e,onAssignmentAdded:t,toggleAssignmentBox:n})=>{const[i,s]=k.useState(""),[a,l]=k.useState(""),c=async p=>{p.preventDefault();const g={title:i,description:a,courseId:e};try{const b=await(await fetch("http://localhost:3000/add-assignment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).json();b.success?(jt.success("Uusi tehtävä lisätty onnistuneesti!",{position:"bottom-center",autoClose:2500,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{console.log("Assignment added:",b),s(""),l(""),n(),t()},3e3)):alert("Failed to add assignment.")}catch(v){console.error("Error adding assignment:",v)}},[d,h]=k.useState("");return k.useEffect(()=>{h(i)},[i]),T.jsx(T.Fragment,{children:T.jsxs("div",{className:"back-shadow",children:[T.jsxs("form",{className:"assignmentform",onSubmit:c,children:[d.length>0?T.jsxs("h2",{children:["Lisää uusi tehtävä: ",d]}):T.jsx("h2",{children:"Lisää uusi tehtävä"}),T.jsxs("label",{children:[T.jsx("span",{children:"Otsikko:"}),T.jsx("input",{className:"assignment-input",type:"text",value:i,onChange:p=>s(p.target.value),required:!0,spellCheck:"false"})]}),T.jsx("label",{children:T.jsx("span",{children:"Kuvaus:"})}),T.jsx("div",{className:"assignment-desc-editor",style:{height:"20em"},children:T.jsx(mC,{content:a,setContent:l})}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",onClick:n,children:"Peruuta"}),i.length===0?T.jsx("button",{className:"disabled-button",disabled:!0,children:"Lisää tehtävä"}):T.jsx("button",{type:"submit",children:"Lisää tehtävä"})]})]}),T.jsx(gl,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})};function D_(e){return Ai({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"},child:[]}]})(e)}const N_=({course:e,toggleAddMembersBox:t,onMembersAdded:n})=>{const[i,s]=k.useState(""),[a,l]=k.useState([]),[c,d]=k.useState([]),[h,p]=k.useState([]);k.useEffect(()=>{(async()=>{try{const E=await fetch(`http://localhost:3000/course-members/${e.id}`);if(!E.ok)throw new Error(`HTTP error! Status: ${E.status}`);const C=await E.json();p(C)}catch(E){console.error("Error fetching course members",E)}})()},[e.id]),k.useEffect(()=>{if(!i)return;(async()=>{try{const E=await fetch(`http://localhost:3000/search-users/${encodeURIComponent(i)}`);if(!E.ok)throw new Error(`HTTP error! Status: ${E.status}`);const w=(await E.json()).filter(O=>!h.some(A=>A.id===O.id));l(w)}catch(E){console.error("Error searching for users",E)}})()},[i,h]);const g=x=>{c.some(E=>E.id===x.id)||d([...c,x])},v=x=>{d(c.filter(E=>E.id!==x.id))},b=async x=>{x.preventDefault();try{const E=await fetch("http://localhost:3000/add-member-to-course",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:e.id,userIds:c.map(w=>w.id)})});if(!E.ok)throw new Error(`HTTP error! Status: ${E.status}`);jt.success("Uudet osallistujat lisätty onnistuneesti!",{position:"bottom-center",autoClose:2500,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>(t(),n()),3e3)}catch(E){console.error("Error adding users:",E)}};return T.jsxs("div",{className:"back-shadow",children:[T.jsxs("form",{className:"add-members-form",onSubmit:b,children:[T.jsxs("h2",{children:["Lisää osallistujia kurssille ",T.jsx("span",{children:e.name})]}),T.jsxs("div",{className:"add-members-form-content",children:[T.jsxs("div",{className:"search",children:[T.jsxs("label",{children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[T.jsx("span",{children:"Hae osallistujia"}),T.jsx(FD,{style:{color:"var(--emerald)",scale:"1.5"},className:"search-question",onMouseEnter:()=>{var x;(x=document.querySelector(".search-info"))==null||x.setAttribute("style","display: flex;")},onMouseLeave:()=>{var x;(x=document.querySelector(".search-info"))==null||x.setAttribute("style","display: none;")}}),T.jsx("div",{className:"search-info",children:T.jsx("p",{children:"Kurssille jo osallistuvat eivät näy hakutuloksissa."})})]}),T.jsx("input",{className:"add-members-input",type:"text",placeholder:"Etsi uutta osallistujaa...",value:i,onChange:x=>s(x.target.value),spellCheck:"false"})]}),a.length>0&&T.jsx("div",{className:"search-results",children:T.jsx("ul",{children:a.filter(x=>x.role!=="admin").map(x=>T.jsxs("li",{children:[T.jsx("h4",{children:`${x.firstname} ${x.lastname}`}),c.some(E=>E.id===x.id)?T.jsxs("button",{type:"button",className:"added-button",disabled:!0,children:[T.jsx(UD,{})," Lisätty"]}):T.jsxs("button",{type:"button",onClick:()=>g(x),children:[T.jsx(TT,{})," Lisää"]})]},x.id))})})]}),c.length>0&&T.jsx(Me.div,{className:"users-to-add",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx("h3",{children:"Lisättävät käyttäjät"})}),c.map(x=>T.jsxs(Me.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:[T.jsx("h4",{children:`${x.firstname} ${x.lastname}`}),T.jsxs("button",{onClick:()=>v(x),children:[T.jsx(D_,{})," Poista"]})]},x.id))]})})]}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",onClick:t,children:"Peruuta"}),c.length===0?T.jsx("button",{type:"button",className:"disabled-button",disabled:!0,children:"Lisää osallistuja"}):T.jsx("button",{type:"submit",children:c.length>1?"Lisää osallistujat":"Lisää osallistuja"})]})]}),T.jsx(gl,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},R_=({toggleRemoveMembersBox:e,course:t,onMembersRemoved:n,courseAssignments:i})=>{const{id:s}=DS(),[a,l]=k.useState([]),{user:c}=gr(),d=async O=>{try{const B=await(await fetch(`http://localhost:3000/course-members/${O}`)).json();l(B),console.log("members: ",a)}catch(A){console.error("Error fetching course members",A)}};k.useEffect(()=>{s&&d(s)},[s]);const[h,p]=k.useState([]),[g,v]=k.useState([]),b=async(O,A)=>{try{const U=(await(await fetch(`http://localhost:3000/submissions/${O}`)).json()).filter(G=>G.studentId===A);v(G=>[...G,...U])}catch(B){console.log("Error fetching submissions",B)}};k.useEffect(()=>{console.log("Updated submissionsToRemove: ",g)},[g]);const x=O=>{h.some(A=>A.id===O.id)||p([...h,O]);for(const A of i)b(A.id,O.id)},E=async O=>{try{const A=await fetch(`http://localhost:3000/delete-submission/${O}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(A.ok)console.log(`submission ${O} deleted successfully`);else throw new Error(`HTTP error! Status: ${A.status}`)}catch(A){console.error("Error deleting submission",A)}},C=async O=>{O.preventDefault();const A=h.map(B=>B.id);if(g.length>0)for(const B of g)await E(B.id);try{const B=await fetch("http://localhost:3000/remove-member-from-course",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:s,userIds:A})});if(!B.ok)throw new Error(`HTTP error! Status: ${B.status}`);jt.success("Osallistujat poistettu onnistuneesti",{position:"bottom-center",autoClose:2500,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>(e(),n()),3e3)}catch(B){console.error("Error removing members",B)}},w=O=>{p(h.filter(A=>A.id!==O.id))};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"back-shadow",children:[T.jsxs("form",{className:"remove-members-form",onSubmit:C,children:[T.jsxs("h2",{children:["Poista osallistujia kurssilta ",T.jsx("span",{children:t.name})]}),T.jsxs("div",{className:"remove-members-form-content",children:[T.jsx("div",{children:T.jsxs("ul",{className:"remove-members-list",children:[T.jsx("li",{children:T.jsx("h3",{children:"Osallistujat"})}),a.filter(O=>O.id!==(c==null?void 0:c.id)).map(O=>T.jsxs("li",{className:"member",children:[T.jsx("h4",{className:"member-name",children:`${O.firstname} ${O.lastname}`}),h.some(A=>A.id===O.id)?T.jsx("button",{type:"button",className:"removed-button",disabled:!0,onClick:()=>x(O),children:"Poistettu"}):T.jsx("button",{type:"button",className:"remove-member-button",onClick:()=>x(O),children:"Poista"})]},O.id))]})}),T.jsx("div",{children:h.length>0&&T.jsxs("ul",{className:"selected-members-list",children:[T.jsx("li",{children:T.jsx("h3",{children:"Poistettavat osallistujat"})}),h.map(O=>T.jsxs("li",{className:"member",children:[T.jsx("h4",{className:"member-name",children:`${O.firstname} ${O.lastname}`}),T.jsx("button",{type:"button",className:"restore-button",onClick:()=>w(O),children:T.jsx("span",{children:"Palauta"})})]},O.id))]})})]}),T.jsx("div",{}),T.jsxs("div",{className:"buttons",children:[T.jsx("button",{className:"cancel-button",onClick:e,children:"Peruuta"}),h.length>1?T.jsx("button",{type:"submit",children:"Poista osallistujat"}):h.length===0?T.jsx("button",{type:"submit",className:"disabled-button",disabled:!0,children:"Poista osallistuja"}):T.jsx("button",{type:"submit",children:"Poista osallistuja"})]})]}),T.jsx(gl,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})},j_=()=>{const{id:e}=DS(),[t,n]=k.useState({}),[i,s]=k.useState([]),[a,l]=k.useState([]),c=async St=>{try{const H=await(await fetch(`http://localhost:3000/course-info/${St}`)).json();n(H)}catch(rt){console.error("Error fetching course info",rt)}},d=async St=>{try{const H=await(await fetch(`http://localhost:3000/course-members/${St}`)).json();s(H)}catch(rt){console.error("Error fetching course members",rt)}},h=async St=>{try{const H=await(await fetch(`http://localhost:3000/course-assignments/${St}`)).json();l(H)}catch(rt){console.error("Error fetching course assignments",rt)}};k.useEffect(()=>{e&&(c(e),d(e),h(e))},[e]);const[p,g]=k.useState(!1),v=()=>{g(!p)},[b,x]=k.useState(!1),E=()=>{x(!b)},[C,w]=k.useState(!1),O=()=>{w(!C)},A=async St=>{St.preventDefault();const rt=St.currentTarget,H=new FormData(rt);try{const Y=await fetch(`http://localhost:3000/upload/course/${e}`,{method:"POST",body:H,credentials:"include"});if(!Y.ok)throw new Error(`Error: ${Y.status} ${Y.statusText}`);const Q=await Y.json();if(Q.error)throw new Error(Q.error);U(e)}catch(Y){console.error("Error uploading file",Y),alert("Tiedoston lähetys epäonnistui!")}},[B,_]=k.useState([]),U=async St=>{try{const H=await(await fetch(`http://localhost:3000/files/course/${St}`)).json();_(H)}catch(rt){console.error("Error fetching course files",rt)}};k.useEffect(()=>{e&&U(e)},[e]);const G=async St=>{try{const rt=await fetch(`http://localhost:3000/delete-file/${St}`,{method:"DELETE",credentials:"include"});if(!rt.ok)throw new Error(`Error: ${rt.status} ${rt.statusText}`);U(e)}catch(rt){console.error("Error deleting file",rt),alert("Tiedoston poisto epäonnistui!")}},[q,K]=k.useState({}),tt=async St=>{try{const H=await(await fetch(`http://localhost:3000/files/assignment/${St}`)).json();K(Y=>({...Y,[St]:H}))}catch(rt){console.error("Error fetching assignment files",rt)}};k.useEffect(()=>{a.forEach(St=>{tt(St.id)})},[a]);const at=async(St,rt)=>{rt.preventDefault();const H=rt.currentTarget,Y=new FormData(H);try{const Q=await fetch(`http://localhost:3000/upload/assignment/${St}`,{method:"POST",body:Y,credentials:"include"});if(!Q.ok)throw new Error(`Error: ${Q.status} ${Q.statusText}`);const Mt=await Q.json();if(Mt.error)throw new Error(Mt.error);tt(St)}catch(Q){console.error("Error uploading file",Q),alert("Tiedoston lähetys epäonnistui!")}},Ot=async(St,rt)=>{try{const H=await fetch(`http://localhost:3000/delete-file/${St}`,{method:"DELETE",credentials:"include"});if(!H.ok)throw new Error(`Error: ${H.status} ${H.statusText}`);tt(rt)}catch(H){console.error("Error deleting file",H),alert("Tiedoston poisto epäonnistui!")}},Jt=async St=>{try{if(window.confirm("Poistettua tehtävää ei voida palauttaa, haluatko varmasti poistaa tehtävän?")){const rt=await fetch(`http://localhost:3000/delete-assignment/${St}`,{method:"DELETE",credentials:"include"});if(!rt.ok)throw new Error(`Error: ${rt.status} ${rt.statusText}`);h(e)}}catch(rt){console.error("Error deleting assignment",rt),alert("Tehtävän poisto epäonnistui!")}};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"container",children:[T.jsx("div",{className:"nav-background"}),T.jsx(Ic,{}),T.jsx(A_,{course:t,members:i,assignments:a,toggleAssignmentBox:v,toggleAddMembersBox:E,toggleRemoveMembersBox:O,onFileSubmit:A,courseFiles:B,deleteCourseFile:G,addFileToAssignment:at,assignmentFiles:q,deleteAssignmentFile:Ot,deleteAssignment:Jt}),p&&T.jsx(O_,{toggleAssignmentBox:v,courseId:parseInt(e||"0"),onAssignmentAdded:()=>h(e)}),b&&T.jsx(N_,{toggleAddMembersBox:E,course:t,onMembersAdded:()=>d(e)}),C&&T.jsx(R_,{toggleRemoveMembersBox:O,course:t,courseAssignments:a,onMembersRemoved:()=>d(e)})]})})},__=()=>{const{user:e}=gr(),[t,n]=k.useState(""),[i,s]=k.useState([]);k.useEffect(()=>{if(!t)return;(async()=>{try{const d=await fetch(`http://localhost:3000/search-users/${encodeURIComponent(t)}`);if(!d.ok)throw new Error(`HTTP error! Status: ${d.status}`);const h=await d.json();s(h)}catch(d){console.error("Error searching for users",d)}})()},[t]);const a=async(c,d)=>{try{if(!(await fetch(`http://localhost:3000/update-role/${c}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:d})})).ok)throw new Error("Failed to update role");s(p=>p.map(g=>g.id===c?{...g,role:d}:g))}catch(h){console.error("Error updating role",h)}},l=async(c,d)=>{if(d.length===0){alert("Salasana ei voi olla tyhjä");return}try{if((await fetch(`http://localhost:3000/update-password/${c}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:d})})).ok)alert("Salasana vaihdettu onnistuneesti");else throw new Error("Failed to update password");s(p=>p.map(g=>g.id===c?{...g,password:d}:g))}catch(h){console.error("Error updating password",h)}};return T.jsx(T.Fragment,{children:(e==null?void 0:e.role)=="admin"&&T.jsxs("div",{className:"container",children:[T.jsx(Ic,{}),T.jsxs("div",{className:"adminpanel-content",children:[T.jsx("h1",{children:"Hallintapaneeli"}),T.jsx("h2",{children:"Hallinnoi käyttäjiä"}),T.jsx("input",{type:"text",placeholder:"Hae käyttäjiä",value:t,onChange:c=>n(c.target.value),spellCheck:"false"}),i.length>0&&T.jsx("div",{className:"",children:T.jsx("ul",{style:{listStyleType:"none",padding:0},children:i.filter(c=>c.role!=="admin").map(c=>T.jsxs("li",{style:{background:"var(--aliceblue)",padding:"1em",borderRadius:"15px",margin:"1em 0",display:"flex",flexDirection:"column",gap:"1em"},children:[T.jsx("h2",{children:`${c.firstname} ${c.lastname}:`}),T.jsx("h3",{children:"vaihda rooli"}),T.jsxs("select",{style:{fontSize:"1.3em"},value:c.role,onChange:d=>a(c.id,d.target.value),children:[T.jsx("option",{value:"student",children:"oppilas"}),T.jsx("option",{value:"teacher",children:"opettaja"})]}),T.jsxs("div",{children:[T.jsx("h3",{children:"vaihda salasana"}),T.jsxs("form",{onSubmit:d=>{d.preventDefault();const p=d.target.elements.namedItem("password").value;l(c.id,p)},children:[T.jsx("input",{style:{fontSize:"1em"},type:"password",name:"password",placeholder:"uusi salasana",spellCheck:"false"}),T.jsx("button",{style:{background:"var(--emerald)",padding:"0.5em"},type:"submit",children:"Vaihda salasana"})]})]})]},c.id))})})]})]})})},z_=()=>T.jsx(v5,{children:T.jsx(o5,{children:T.jsxs(B3,{children:[T.jsx(Hr,{path:"/",element:T.jsx(jD,{})}),T.jsx(Hr,{path:"/login",element:T.jsx(RD,{})}),T.jsx(Hr,{path:"/dashboard",element:T.jsx(GD,{})}),T.jsx(Hr,{path:"/profile",element:T.jsx(YD,{})}),T.jsx(Hr,{path:"/course/:id",element:T.jsx(j_,{})}),T.jsx(Hr,{path:"/adminpanel",element:T.jsx(__,{})})]})})});Kw.createRoot(document.getElementById("root")).render(T.jsx(k.StrictMode,{children:T.jsx(z_,{})}));
